(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6591:function(t,e,n){"use strict";n.d(e,{DG:function(){return Cr},Y7:function(){return br},BN:function(){return s()},Wr:function(){return Gr},lc:function(){return Jr},jf:function(){return Wi},$r:function(){return oo}});var r=n(8764),i=n(5959),o=n(3550),s=n.n(o),a=n(7191),c=n.n(a),u=n(9742),l=n(3204),h=n.n(l),d=n(2023),f=n(5970);function p(t){let e=t.length;for(;--e>=0;)t[e]=0}const m=256,g=286,y=30,v=15,w=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),b=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new Array(576);p(x);const S=new Array(60);p(S);const E=new Array(512);p(E);const A=new Array(256);p(A);const T=new Array(29);p(T);const I=new Array(y);function O(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let C,M,P;function R(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}p(I);const B=t=>t<256?E[t]:E[256+(t>>>7)],N=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},L=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,N(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},j=(t,e,n)=>{L(t,n[2*e],n[2*e+1])},D=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},U=(t,e,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=v;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=D(r[e]++,e))}},z=t=>{let e;for(e=0;e<g;e++)t.dyn_ltree[2*e]=0;for(e=0;e<y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},F=t=>{t.bi_valid>8?N(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},q=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},V=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&q(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!q(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},W=(t,e,n)=>{let r,i,o,s,a=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+a++],r+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===r?j(t,i,e):(o=A[i],j(t,o+m+1,e),s=w[o],0!==s&&(i-=T[o],L(t,i,s)),r--,o=B(r),j(t,o,n),s=b[o],0!==s&&(r-=I[o],L(t,r,s)))}while(a<t.sym_next);j(t,256,e)},H=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[2*c+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)V(t,n,s);c=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],V(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*c]=n[2*s]+n[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=c,t.heap[1]=c++,V(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,h,d,f,p,m=0;for(d=0;d<=v;d++)t.bl_count[d]=0;for(n[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],d=n[2*n[2*l+1]+1]+1,d>c&&(d=c,m++),n[2*l+1]=d,l>r||(t.bl_count[d]++,f=0,l>=a&&(f=s[l-a]),p=n[2*l],t.opt_len+=p*(d+f),o&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==m){do{for(d=c-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,m-=2}while(m>0);for(d=c;0!==d;d--)for(l=t.bl_count[d];0!==l;)h=t.heap[--u],h>r||(n[2*h+1]!==d&&(t.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),l--)}})(t,e),U(n,u,t.bl_count)},K=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},$=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)do{j(t,i,t.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(j(t,i,t.bl_tree),a--),j(t,16,t.bl_tree),L(t,a-3,2)):a<=10?(j(t,17,t.bl_tree),L(t,a-3,3)):(j(t,18,t.bl_tree),L(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let G=!1;const Z=(t,e,n,r)=>{L(t,0+(r?1:0),3),F(t),N(t,n),N(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var Y=t=>{G||((()=>{let t,e,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(T[r]=n,t=0;t<1<<w[r];t++)A[n++]=r;for(A[n-1]=r,i=0,r=0;r<16;r++)for(I[r]=i,t=0;t<1<<b[r];t++)E[i++]=r;for(i>>=7;r<y;r++)for(I[r]=i<<7,t=0;t<1<<b[r]-7;t++)E[256+i++]=r;for(e=0;e<=v;e++)o[e]=0;for(t=0;t<=143;)x[2*t+1]=8,t++,o[8]++;for(;t<=255;)x[2*t+1]=9,t++,o[9]++;for(;t<=279;)x[2*t+1]=7,t++,o[7]++;for(;t<=287;)x[2*t+1]=8,t++,o[8]++;for(U(x,287,o),t=0;t<y;t++)S[2*t+1]=5,S[2*t]=D(t,5);C=new O(x,w,257,g,v),M=new O(S,b,0,y,v),P=new O(new Array(0),_,0,19,7)})(),G=!0),t.l_desc=new R(t.dyn_ltree,C),t.d_desc=new R(t.dyn_dtree,M),t.bl_desc=new R(t.bl_tree,P),t.bi_buf=0,t.bi_valid=0,z(t)},J=(t,e,n,r)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<m;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),H(t,t.l_desc),H(t,t.d_desc),s=(t=>{let e;for(K(t,t.dyn_ltree,t.l_desc.max_code),K(t,t.dyn_dtree,t.d_desc.max_code),H(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*k[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?Z(t,e,n,r):4===t.strategy||o===i?(L(t,2+(r?1:0),3),W(t,x,S)):(L(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(L(t,e-257,5),L(t,n-1,5),L(t,r-4,4),i=0;i<r;i++)L(t,t.bl_tree[2*k[i]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),W(t,t.dyn_ltree,t.dyn_dtree)),z(t),r&&F(t)},X=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(A[n]+m+1)]++,t.dyn_dtree[2*B(e)]++),t.sym_next===t.sym_end),Q={_tr_init:Y,_tr_stored_block:Z,_tr_flush_block:J,_tr_tally:X,_tr_align:t=>{L(t,2,3),j(t,256,x),(t=>{16===t.bi_valid?(N(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var tt=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const et=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var nt=(t,e,n,r)=>{const i=et,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},rt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},it={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ot,_tr_stored_block:st,_tr_flush_block:at,_tr_tally:ct,_tr_align:ut}=Q,{Z_NO_FLUSH:lt,Z_PARTIAL_FLUSH:ht,Z_FULL_FLUSH:dt,Z_FINISH:ft,Z_BLOCK:pt,Z_OK:mt,Z_STREAM_END:gt,Z_STREAM_ERROR:yt,Z_DATA_ERROR:vt,Z_BUF_ERROR:wt,Z_DEFAULT_COMPRESSION:bt,Z_FILTERED:_t,Z_HUFFMAN_ONLY:kt,Z_RLE:xt,Z_FIXED:St,Z_DEFAULT_STRATEGY:Et,Z_UNKNOWN:At,Z_DEFLATED:Tt}=it,It=258,Ot=262,Ct=42,Mt=113,Pt=666,Rt=(t,e)=>(t.msg=rt[e],e),Bt=t=>2*t-(t>4?9:0),Nt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Lt=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let jt=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Dt=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Ut=(t,e)=>{at(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Dt(t.strm)},zt=(t,e)=>{t.pending_buf[t.pending++]=e},Ft=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},qt=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=tt(t.adler,e,i,n):2===t.state.wrap&&(t.adler=nt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Vt=(t,e)=>{let n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-Ot?t.strstart-(t.w_size-Ot):0,u=t.window,l=t.w_mask,h=t.prev,d=t.strstart+It;let f=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,u[n+s]===p&&u[n+s-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<d);if(r=It-(d-o),o=d-It,r>s){if(t.match_start=e,s=r,r>=a)break;f=u[o+s-1],p=u[o+s]}}}while((e=h[e&l])>c&&0!==--i);return s<=t.lookahead?s:t.lookahead},Wt=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ot)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Lt(t),r+=e),0===t.strm.avail_in)break;if(n=qt(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=jt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=jt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ot&&0!==t.strm.avail_in)},Ht=(t,e)=>{let n,r,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&e!==ft||e===lt||n!==r+t.strm.avail_in))break;s=e===ft&&n===r+t.strm.avail_in?1:0,st(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Dt(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(qt(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==lt&&e!==ft&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(qt(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=o||(r||e===ft)&&e!==lt&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,s=e===ft&&0===t.strm.avail_in&&n===r?1:0,st(t,t.block_start,n,s),t.block_start+=n,Dt(t.strm)),s?3:1)},Kt=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ot){if(Wt(t),t.lookahead<Ot&&e===lt)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Ot&&(t.match_length=Vt(t,n)),t.match_length>=3)if(r=ct(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=jt(t,t.ins_h,t.window[t.strstart+1]);else r=ct(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===ft?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2},$t=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ot){if(Wt(t),t.lookahead<Ot&&e===lt)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ot&&(t.match_length=Vt(t,n),t.match_length<=5&&(t.strategy===_t||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=ct(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=jt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=ct(t,0,t.window[t.strstart-1]),r&&Ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=ct(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===ft?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2};function Gt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Zt=[new Gt(0,0,0,0,Ht),new Gt(4,4,8,4,Kt),new Gt(4,5,16,8,Kt),new Gt(4,6,32,32,Kt),new Gt(4,4,16,16,$t),new Gt(8,16,32,32,$t),new Gt(8,16,128,128,$t),new Gt(8,32,128,256,$t),new Gt(32,128,258,1024,$t),new Gt(32,258,258,4096,$t)];function Yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Nt(this.dyn_ltree),Nt(this.dyn_dtree),Nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Nt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Jt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Ct&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Mt&&e.status!==Pt?1:0},Xt=t=>{if(Jt(t))return Rt(t,yt);t.total_in=t.total_out=0,t.data_type=At;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Ct:Mt,t.adler=2===e.wrap?0:1,e.last_flush=-2,ot(e),mt},Qt=t=>{const e=Xt(t);var n;return e===mt&&((n=t.state).window_size=2*n.w_size,Nt(n.head),n.max_lazy_match=Zt[n.level].max_lazy,n.good_match=Zt[n.level].good_length,n.nice_match=Zt[n.level].nice_length,n.max_chain_length=Zt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},te=(t,e,n,r,i,o)=>{if(!t)return yt;let s=1;if(e===bt&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==Tt||r<8||r>15||e<0||e>9||o<0||o>St||8===r&&1!==s)return Rt(t,yt);8===r&&(r=9);const a=new Yt;return t.state=a,a.strm=t,a.status=Ct,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,Qt(t)};var ee={deflateInit:(t,e)=>te(t,e,Tt,15,8,Et),deflateInit2:te,deflateReset:Qt,deflateResetKeep:Xt,deflateSetHeader:(t,e)=>Jt(t)||2!==t.state.wrap?yt:(t.state.gzhead=e,mt),deflate:(t,e)=>{if(Jt(t)||e>pt||e<0)return t?Rt(t,yt):yt;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===Pt&&e!==ft)return Rt(t,0===t.avail_out?wt:yt);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Dt(t),0===t.avail_out)return n.last_flush=-1,mt}else if(0===t.avail_in&&Bt(e)<=Bt(r)&&e!==ft)return Rt(t,wt);if(n.status===Pt&&0!==t.avail_in)return Rt(t,wt);if(n.status===Ct&&0===n.wrap&&(n.status=Mt),n.status===Ct){let e=Tt+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=kt||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,Ft(n,e),0!==n.strstart&&(Ft(n,t.adler>>>16),Ft(n,65535&t.adler)),t.adler=1,n.status=Mt,Dt(t),0!==n.pending)return n.last_flush=-1,mt}if(57===n.status)if(t.adler=0,zt(n,31),zt(n,139),zt(n,8),n.gzhead)zt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),zt(n,255&n.gzhead.time),zt(n,n.gzhead.time>>8&255),zt(n,n.gzhead.time>>16&255),zt(n,n.gzhead.time>>24&255),zt(n,9===n.level?2:n.strategy>=kt||n.level<2?4:0),zt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(zt(n,255&n.gzhead.extra.length),zt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=nt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(zt(n,0),zt(n,0),zt(n,0),zt(n,0),zt(n,0),zt(n,9===n.level?2:n.strategy>=kt||n.level<2?4:0),zt(n,3),n.status=Mt,Dt(t),0!==n.pending)return n.last_flush=-1,mt;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=nt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=i,Dt(t),0!==n.pending)return n.last_flush=-1,mt;e=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=nt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=nt(t.adler,n.pending_buf,n.pending-r,r)),Dt(t),0!==n.pending)return n.last_flush=-1,mt;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,zt(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=nt(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=nt(t.adler,n.pending_buf,n.pending-r,r)),Dt(t),0!==n.pending)return n.last_flush=-1,mt;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,zt(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=nt(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Dt(t),0!==n.pending))return n.last_flush=-1,mt;zt(n,255&t.adler),zt(n,t.adler>>8&255),t.adler=0}if(n.status=Mt,Dt(t),0!==n.pending)return n.last_flush=-1,mt}if(0!==t.avail_in||0!==n.lookahead||e!==lt&&n.status!==Pt){let r=0===n.level?Ht(n,e):n.strategy===kt?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Wt(t),0===t.lookahead)){if(e===lt)return 1;break}if(t.match_length=0,n=ct(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ft?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===xt?((t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=It){if(Wt(t),t.lookahead<=It&&e===lt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+It;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=It-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=ct(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=ct(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ft?(Ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ut(t,!1),0===t.strm.avail_out)?1:2})(n,e):Zt[n.level].func(n,e);if(3!==r&&4!==r||(n.status=Pt),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),mt;if(2===r&&(e===ht?ut(n):e!==pt&&(st(n,0,0,!1),e===dt&&(Nt(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Dt(t),0===t.avail_out))return n.last_flush=-1,mt}return e!==ft?mt:n.wrap<=0?gt:(2===n.wrap?(zt(n,255&t.adler),zt(n,t.adler>>8&255),zt(n,t.adler>>16&255),zt(n,t.adler>>24&255),zt(n,255&t.total_in),zt(n,t.total_in>>8&255),zt(n,t.total_in>>16&255),zt(n,t.total_in>>24&255)):(Ft(n,t.adler>>>16),Ft(n,65535&t.adler)),Dt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?mt:gt)},deflateEnd:t=>{if(Jt(t))return yt;const e=t.state.status;return t.state=null,e===Mt?Rt(t,vt):mt},deflateSetDictionary:(t,e)=>{let n=e.length;if(Jt(t))return yt;const r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==Ct||r.lookahead)return yt;if(1===i&&(t.adler=tt(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Nt(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Wt(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=jt(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,Wt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,mt},deflateInfo:"pako deflate (from Nodeca project)"};const ne=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var re=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const e in n)ne(n,e)&&(t[e]=n[e])}}return t},ie=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let e=t[r];n.set(e,i),i+=e.length}return n};let oe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(so){oe=!1}const se=new Uint8Array(256);for(let ao=0;ao<256;ao++)se[ao]=ao>=252?6:ao>=248?5:ao>=240?4:ao>=224?3:ao>=192?2:1;se[254]=se[254]=1;var ae=t=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},ce=(t,e)=>{const n=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){o[i++]=e;continue}let s=se[e];if(s>4)o[i++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<n;)e=e<<6|63&t[r++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&oe)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(o,i)},ue=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+se[t[n]]>e?n:e};var le=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const he=Object.prototype.toString,{Z_NO_FLUSH:de,Z_SYNC_FLUSH:fe,Z_FULL_FLUSH:pe,Z_FINISH:me,Z_OK:ge,Z_STREAM_END:ye,Z_DEFAULT_COMPRESSION:ve,Z_DEFAULT_STRATEGY:we,Z_DEFLATED:be}=it;function _e(t){this.options=re({level:ve,method:be,chunkSize:16384,windowBits:15,memLevel:8,strategy:we},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new le,this.strm.avail_out=0;let n=ee.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ge)throw new Error(rt[n]);if(e.header&&ee.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"===typeof e.dictionary?ae(e.dictionary):"[object ArrayBuffer]"===he.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=ee.deflateSetDictionary(this.strm,t),n!==ge)throw new Error(rt[n]);this._dict_set=!0}}function ke(t,e){const n=new _e(e);if(n.push(t,!0),n.err)throw n.msg||rt[n.err];return n.result}_e.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?me:de,"string"===typeof t?n.input=ae(t):"[object ArrayBuffer]"===he.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===fe||o===pe)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=ee.deflate(n,o),i===ye)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ee.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ge;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},_e.prototype.onData=function(t){this.chunks.push(t)},_e.prototype.onEnd=function(t){t===ge&&(this.result=ie(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var xe={Deflate:_e,deflate:ke,deflateRaw:function(t,e){return(e=e||{}).raw=!0,ke(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,ke(t,e)},constants:it};const Se=16209;var Ee=function(t,e){let n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,y,v,w,b,_,k,x,S,E;const A=t.state;n=t.next_in,S=t.input,r=n+(t.avail_in-5),i=t.next_out,E=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=A.dmax,c=A.wsize,u=A.whave,l=A.wnext,h=A.window,d=A.hold,f=A.bits,p=A.lencode,m=A.distcode,g=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;t:do{f<15&&(d+=S[n++]<<f,f+=8,d+=S[n++]<<f,f+=8),v=p[d&g];e:for(;;){if(w=v>>>24,d>>>=w,f-=w,w=v>>>16&255,0===w)E[i++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=p[(65535&v)+(d&(1<<w)-1)];continue e}if(32&w){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=Se;break t}b=65535&v,w&=15,w&&(f<w&&(d+=S[n++]<<f,f+=8),b+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=S[n++]<<f,f+=8,d+=S[n++]<<f,f+=8),v=m[d&y];n:for(;;){if(w=v>>>24,d>>>=w,f-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=m[(65535&v)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",A.mode=Se;break t}if(_=65535&v,w&=15,f<w&&(d+=S[n++]<<f,f+=8,f<w&&(d+=S[n++]<<f,f+=8)),_+=d&(1<<w)-1,_>a){t.msg="invalid distance too far back",A.mode=Se;break t}if(d>>>=w,f-=w,w=i-o,_>w){if(w=_-w,w>u&&A.sane){t.msg="invalid distance too far back",A.mode=Se;break t}if(k=0,x=h,0===l){if(k+=c-w,w<b){b-=w;do{E[i++]=h[k++]}while(--w);k=i-_,x=E}}else if(l<w){if(k+=c+l-w,w-=l,w<b){b-=w;do{E[i++]=h[k++]}while(--w);if(k=0,l<b){w=l,b-=w;do{E[i++]=h[k++]}while(--w);k=i-_,x=E}}}else if(k+=l-w,w<b){b-=w;do{E[i++]=h[k++]}while(--w);k=i-_,x=E}for(;b>2;)E[i++]=x[k++],E[i++]=x[k++],E[i++]=x[k++],b-=3;b&&(E[i++]=x[k++],b>1&&(E[i++]=x[k++]))}else{k=i-_;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],b-=3}while(b>2);b&&(E[i++]=E[k++],b>1&&(E[i++]=E[k++]))}break}}break}}while(n<r&&i<s);b=f>>3,n-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<s?s-i+257:257-(i-s),A.hold=d,A.bits=f};const Ae=15,Te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ce=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Me=(t,e,n,r,i,o,s,a)=>{const c=a.bits;let u,l,h,d,f,p,m=0,g=0,y=0,v=0,w=0,b=0,_=0,k=0,x=0,S=0,E=null;const A=new Uint16Array(16),T=new Uint16Array(16);let I,O,C,M=null;for(m=0;m<=Ae;m++)A[m]=0;for(g=0;g<r;g++)A[e[n+g]]++;for(w=c,v=Ae;v>=1&&0===A[v];v--);if(w>v&&(w=v),0===v)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(y=1;y<v&&0===A[y];y++);for(w<y&&(w=y),k=1,m=1;m<=Ae;m++)if(k<<=1,k-=A[m],k<0)return-1;if(k>0&&(0===t||1!==v))return-1;for(T[1]=0,m=1;m<Ae;m++)T[m+1]=T[m]+A[m];for(g=0;g<r;g++)0!==e[n+g]&&(s[T[e[n+g]]++]=g);if(0===t?(E=M=s,p=20):1===t?(E=Te,M=Ie,p=257):(E=Oe,M=Ce,p=0),S=0,g=0,m=y,f=o,b=w,_=0,h=-1,x=1<<w,d=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){I=m-_,s[g]+1<p?(O=0,C=s[g]):s[g]>=p?(O=M[s[g]-p],C=E[s[g]-p]):(O=96,C=0),u=1<<m-_,l=1<<b,y=l;do{l-=u,i[f+(S>>_)+l]=I<<24|O<<16|C|0}while(0!==l);for(u=1<<m-1;S&u;)u>>=1;if(0!==u?(S&=u-1,S+=u):S=0,g++,0===--A[m]){if(m===v)break;m=e[n+s[g]]}if(m>w&&(S&d)!==h){for(0===_&&(_=w),f+=y,b=m-_,k=1<<b;b+_<v&&(k-=A[b+_],!(k<=0));)b++,k<<=1;if(x+=1<<b,1===t&&x>852||2===t&&x>592)return 1;h=S&d,i[h]=w<<24|b<<16|f-o|0}}return 0!==S&&(i[f+S]=m-_<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:Pe,Z_BLOCK:Re,Z_TREES:Be,Z_OK:Ne,Z_STREAM_END:Le,Z_NEED_DICT:je,Z_STREAM_ERROR:De,Z_DATA_ERROR:Ue,Z_MEM_ERROR:ze,Z_BUF_ERROR:Fe,Z_DEFLATED:qe}=it,Ve=16180,We=16190,He=16191,Ke=16192,$e=16194,Ge=16199,Ze=16200,Ye=16206,Je=16209,Xe=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Qe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const tn=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ve||e.mode>16211?1:0},en=t=>{if(tn(t))return De;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ve,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ne},nn=t=>{if(tn(t))return De;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,en(t)},rn=(t,e)=>{let n;if(tn(t))return De;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?De:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,nn(t))},on=(t,e)=>{if(!t)return De;const n=new Qe;t.state=n,n.strm=t,n.window=null,n.mode=Ve;const r=rn(t,e);return r!==Ne&&(t.state=null),r};let sn,an,cn=!0;const un=t=>{if(cn){sn=new Int32Array(512),an=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Me(1,t.lens,0,288,sn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Me(2,t.lens,0,32,an,0,t.work,{bits:5}),cn=!1}t.lencode=sn,t.lenbits=9,t.distcode=an,t.distbits=5},ln=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var hn={inflateReset:nn,inflateReset2:rn,inflateResetKeep:en,inflateInit:t=>on(t,15),inflateInit2:on,inflate:(t,e)=>{let n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,y,v,w,b,_,k,x,S=0;const E=new Uint8Array(4);let A,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(tn(t)||!t.output||!t.input&&0!==t.avail_in)return De;n=t.state,n.mode===He&&(n.mode=Ke),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,h=a,d=c,x=Ne;t:for(;;)switch(n.mode){case Ve:if(0===n.wrap){n.mode=Ke;break}for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,E[0]=255&u,E[1]=u>>>8&255,n.check=nt(n.check,E,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Je;break}if((15&u)!==qe){t.msg="unknown compression method",n.mode=Je;break}if(u>>>=4,l-=4,k=8+(15&u),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=Je;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&u?16189:He,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==qe){t.msg="unknown compression method",n.mode=Je;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Je;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=nt(n.check,E,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=nt(n.check,E,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=nt(n.check,E,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=nt(n.check,E,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),k)),512&n.flags&&4&n.wrap&&(n.check=nt(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=nt(n.check,r,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=nt(n.check,r,f,o)),a-=f,o+=f,k)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Je;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=He;break;case 16189:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=Xe(u),u=0,l=0,n.mode=We;case We:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,je;t.adler=n.check=1,n.mode=He;case He:if(e===Re||e===Be)break t;case Ke:if(n.last){u>>>=7&l,l-=7&l,n.mode=Ye;break}for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(un(n),n.mode=Ge,e===Be){u>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Je}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Je;break}if(n.length=65535&u,u=0,l=0,n.mode=$e,e===Be)break t;case $e:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;i.set(r.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,n.length-=f;break}n.mode=He;break;case 16196:for(;l<14;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Je;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.lens[I[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},x=Me(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,x){t.msg="invalid code lengths set",n.mode=Je;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[u&(1<<n.lenbits)-1],g=S>>>24,y=S>>>16&255,v=65535&S,!(g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(v<16)u>>>=g,l-=g,n.lens[n.have++]=v;else{if(16===v){for(T=g+2;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(u>>>=g,l-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=Je;break}k=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===v){for(T=g+3;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=g,l-=g,k=0,f=3+(7&u),u>>>=3,l-=3}else{for(T=g+7;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=g,l-=g,k=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Je;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===Je)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Je;break}if(n.lenbits=9,A={bits:n.lenbits},x=Me(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,x){t.msg="invalid literal/lengths set",n.mode=Je;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},x=Me(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,x){t.msg="invalid distances set",n.mode=Je;break}if(n.mode=Ge,e===Be)break t;case Ge:n.mode=Ze;case Ze:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,Ee(t,d),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===He&&(n.back=-1);break}for(n.back=0;S=n.lencode[u&(1<<n.lenbits)-1],g=S>>>24,y=S>>>16&255,v=65535&S,!(g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(y&&0===(240&y)){for(w=g,b=y,_=v;S=n.lencode[_+((u&(1<<w+b)-1)>>w)],g=S>>>24,y=S>>>16&255,v=65535&S,!(w+g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=g,l-=g,n.back+=g,n.length=v,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=He;break}if(64&y){t.msg="invalid literal/length code",n.mode=Je;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[u&(1<<n.distbits)-1],g=S>>>24,y=S>>>16&255,v=65535&S,!(g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(0===(240&y)){for(w=g,b=y,_=v;S=n.distcode[_+((u&(1<<w+b)-1)>>w)],g=S>>>24,y=S>>>16&255,v=65535&S,!(w+g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=g,l-=g,n.back+=g,64&y){t.msg="invalid distance code",n.mode=Je;break}n.offset=v,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(T=n.extra;l<T;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Je;break}n.mode=16204;case 16204:if(0===c)break t;if(f=d-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Je;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[s++]=m[p++]}while(--f);0===n.length&&(n.mode=Ze);break;case 16205:if(0===c)break t;i[s++]=n.length,c--,n.mode=Ze;break;case Ye:if(n.wrap){for(;l<32;){if(0===a)break t;a--,u|=r[o++]<<l,l+=8}if(d-=c,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?nt(n.check,i,d,s-d):tt(n.check,i,d,s-d)),d=c,4&n.wrap&&(n.flags?u:Xe(u))!==n.check){t.msg="incorrect data check",n.mode=Je;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Je;break}u=0,l=0}n.mode=16208;case 16208:x=Le;break t;case Je:x=Ue;break t;case 16210:return ze;default:return De}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||d!==t.avail_out&&n.mode<Je&&(n.mode<Ye||e!==Pe))&&ln(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?nt(n.check,i,d,t.next_out-d):tt(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===He?128:0)+(n.mode===Ge||n.mode===$e?256:0),(0===h&&0===d||e===Pe)&&x===Ne&&(x=Fe),x},inflateEnd:t=>{if(tn(t))return De;let e=t.state;return e.window&&(e.window=null),t.state=null,Ne},inflateGetHeader:(t,e)=>{if(tn(t))return De;const n=t.state;return 0===(2&n.wrap)?De:(n.head=e,e.done=!1,Ne)},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,o;return tn(t)?De:(r=t.state,0!==r.wrap&&r.mode!==We?De:r.mode===We&&(i=1,i=tt(i,e,n,0),i!==r.check)?Ue:(o=ln(t,e,n,n),o?(r.mode=16210,ze):(r.havedict=1,Ne)))},inflateInfo:"pako inflate (from Nodeca project)"};var dn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const fn=Object.prototype.toString,{Z_NO_FLUSH:pn,Z_FINISH:mn,Z_OK:gn,Z_STREAM_END:yn,Z_NEED_DICT:vn,Z_STREAM_ERROR:wn,Z_DATA_ERROR:bn,Z_MEM_ERROR:_n}=it;function kn(t){this.options=re({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new le,this.strm.avail_out=0;let n=hn.inflateInit2(this.strm,e.windowBits);if(n!==gn)throw new Error(rt[n]);if(this.header=new dn,hn.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=ae(e.dictionary):"[object ArrayBuffer]"===fn.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=hn.inflateSetDictionary(this.strm,e.dictionary),n!==gn)))throw new Error(rt[n])}function xn(t,e){const n=new kn(e);if(n.push(t),n.err)throw n.msg||rt[n.err];return n.result}kn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?mn:pn,"[object ArrayBuffer]"===fn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=hn.inflate(n,s),o===vn&&i&&(o=hn.inflateSetDictionary(n,i),o===gn?o=hn.inflate(n,s):o===bn&&(o=vn));n.avail_in>0&&o===yn&&n.state.wrap>0&&0!==t[n.next_in];)hn.inflateReset(n),o=hn.inflate(n,s);switch(o){case wn:case bn:case vn:case _n:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===yn))if("string"===this.options.to){let t=ue(n.output,n.next_out),e=n.next_out-t,i=ce(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==gn||0!==a){if(o===yn)return o=hn.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},kn.prototype.onData=function(t){this.chunks.push(t)},kn.prototype.onEnd=function(t){t===gn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ie(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Sn={Inflate:kn,inflate:xn,inflateRaw:function(t,e){return(e=e||{}).raw=!0,xn(t,e)},ungzip:xn,constants:it};const{Deflate:En,deflate:An,deflateRaw:Tn,gzip:In}=xe,{Inflate:On,inflate:Cn,inflateRaw:Mn,ungzip:Pn}=Sn;var Rn=Cn,Bn=n(6729),Nn=n.n(Bn),Ln=n(7596),jn=n(8764).Buffer;const Dn=t=>"version"in t;function Un(t){return new TextDecoder("utf-8").decode(t)}function zn(t){return(new TextEncoder).encode(t)}function Fn(t){return c().encode(t)}function qn(t){return r.Buffer.from(u.toByteArray(t))}function Vn(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Wn(t,e={}){t.forEach((t=>{if("accounts"in t)Wn(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function Hn(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}class Kn extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function $n(t){return"object"===typeof t&&null!=t}function Gn(t){return"string"===typeof t?JSON.stringify(t):""+t}function Zn(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"===typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Gn(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Yn(t,e,n,r){var i;$n(i=t)&&"function"===typeof i[Symbol.iterator]||(t=[t]);for(const o of t){const t=Zn(o,e,n,r);t&&(yield t)}}function*Jn(t,e,n){void 0===n&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&$n(e.schema)&&$n(t)&&!Array.isArray(t)))for(const u in t)void 0===e.schema[u]&&delete t[u];let c=!0;for(const u of e.validator(t,a))c=!1,yield[u,void 0];for(let[u,l,h]of e.entries(t,a)){const e=Jn(l,h,{path:void 0===u?r:[...r,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s});for(const n of e)n[0]?(c=!1,yield[n[0],void 0]):o&&(l=n[1],void 0===u?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):$n(t)&&(t[u]=l))}if(c)for(const u of e.refiner(t,a))c=!1,yield[u,void 0];c&&(yield[void 0,t])}class Xn{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>Yn(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Yn(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=er(t,e);if(n[0])throw n[0]}(t,this)}create(t){return Qn(t,this)}is(t){return tr(t,this)}mask(t){return function(t,e){const n=er(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),er(t,this,e)}}function Qn(t,e){const n=er(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function tr(t,e){return!er(t,e)[0]}function er(t,e,n){void 0===n&&(n={});const r=Jn(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new Kn(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function nr(t,e){return new Xn({type:t,schema:null,validator:e})}function rr(t){return new Xn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Gn(t)})}function ir(t){const e=Gn(t),n=typeof t;return new Xn({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+Gn(n)})}function or(t){return new Xn({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function sr(){return nr("number",(t=>"number"===typeof t&&!isNaN(t)||"Expected a number, but received: "+Gn(t)))}function ar(t){return new Xn({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function cr(){return nr("string",(t=>"string"===typeof t||"Expected a string, but received: "+Gn(t)))}function ur(t){const e=Object.keys(t);return new Xn({type:"type",schema:t,*entries(n){if($n(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>$n(t)||"Expected an object, but received: "+Gn(t)})}function lr(t){const e=t.map((t=>t.type)).join(" | ");return new Xn({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||hr()).coercer(e,n),validator(n,r){const i=[];for(const e of t){const[...t]=Jn(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Gn(n),...i]}})}function hr(){return nr("unknown",(()=>!0))}async function dr(t,e,n){if(e.length<=99)return await fr(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,99);return(await Promise.all(r.map((e=>fr(t,e,n))))).flat()}}async function fr(t,e,n){const r=null!==n&&void 0!==n?n:t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map(((t,n)=>null===t?null:{publicKey:e[n],account:t,context:o}))}async function pr(t,e,n,r,o){n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!==r&&void 0!==r?r:t.commitment};if(o){const t=(Array.isArray(o)?o:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}n&&(u.sigVerify=!0);const l=[c,u],h=Qn(await t._rpcRequest("simulateTransaction",l),vr);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(h.error.message,n)}throw new i.SendTransactionError("failed to simulate transaction: "+h.error.message,t)}return h.result}function mr(t){return function(t,e,n){return new Xn({...t,coercer:(r,i)=>tr(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}(yr(t),gr,(e=>"error"in e?e:{...e,result:Qn(e.result,t)}))}const gr=yr(hr());function yr(t){return lr([ur({jsonrpc:ir("2.0"),id:cr(),result:t}),ur({jsonrpc:ir("2.0"),id:cr(),error:ur({code:hr(),message:cr(),data:ar(nr("any",(()=>!0)))})})])}const vr=(wr=ur({err:or(lr([ur({}),cr()])),logs:or(rr(cr())),accounts:ar(or(rr(or(ur({executable:nr("boolean",(t=>"boolean"===typeof t)),owner:cr(),lamports:sr(),data:rr(cr()),rentEpoch:ar(sr())}))))),unitsConsumed:ar(sr())}),mr(ur({context:ur({slot:sr()}),value:wr})));var wr;class br{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=null===e||void 0===e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r,o,s,a;if(void 0===n&&(n=this.opts),Dn(t))e&&t.sign(e);else if(t.feePayer=null!==(r=t.feePayer)&&void 0!==r?r:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const i of e)t.partialSign(i);const c=(t=await this.wallet.signTransaction(t)).serialize();try{return await kr(this.connection,c,n)}catch(Rt){if(Rt instanceof xr){const n=Fn(Dn(t)?(null===(o=t.signatures)||void 0===o?void 0:o[0])||new Uint8Array:null!==(s=t.signature)&&void 0!==s?s:new Uint8Array),r=await this.connection.getTransaction(n,{commitment:"confirmed"});if(r){const t=null===(a=r.meta)||void 0===a?void 0:a.logMessages;throw t?new i.SendTransactionError(Rt.message,t):Rt}throw Rt}throw Rt}}async sendAll(t,e){var n,r,o;void 0===e&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map((t=>{var e,n;if(Dn(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let r=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=s,i.forEach((t=>{r.partialSign(t)})),r}}));const c=await this.wallet.signAllTransactions(a),u=[];for(let l=0;l<a.length;l+=1){const t=c[l],s=t.serialize();try{u.push(await kr(this.connection,s,e))}catch(Rt){if(Rt instanceof xr){const s=Fn(Dn(t)?(null===(n=t.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=t.signature)&&void 0!==r?r:new Uint8Array),a=await this.connection.getTransaction(s,{commitment:"confirmed"});if(a){const t=null===(o=a.meta)||void 0===o?void 0:o.logMessages;throw t?new i.SendTransactionError(Rt.message,t):Rt}throw Rt}throw Rt}}return u}async simulate(t,e,n,r){let i,o=(await this.connection.getLatestBlockhash(null!==n&&void 0!==n?n:this.connection.commitment)).blockhash;if(Dn(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,e&&(t=await this.wallet.signTransaction(t)),i=await pr(this.connection,t,e,n,r)),i.value.err)throw new _r(i.value);return i.value}}class _r extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function kr(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new xr(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class xr extends Error{constructor(t){super(t)}}function Sr(){return null===Er?br.local():Er}let Er=null;new Set(["anchor-deprecated-state","debug-logs"]);const Ar=new Map;function Tr(t){return void 0!==Ar.get(t)}class Ir extends Error{constructor(t){super(t),this.name="IdlError"}}class Or{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,o=[];for(let s=0;s<t.length;s++){if(r.exec(t[s])){o.pop();continue}const a=null===(e=n.exec(t[s]))||void 0===e?void 0:e[1];a&&o.push(new i.PublicKey(a))}return new Or(o)}}class Cr extends Error{constructor(t,e,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=Or.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],r=[n];let o;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,s=n.exec(t[e+2])[1],a=n.exec(t[e+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],r.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(t[e+1])[2],s=n.exec(t[e+2])[2];r.push(...t.slice(e+1,e+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[e,n,i]=s.slice(1,4),a={code:e,number:parseInt(n)};return new Cr(a,i,r,t,void 0,o)}if(a){const[e,n,i,s,c]=a.slice(1,6),u={code:i,number:parseInt(s)},l={file:e,line:parseInt(n)};return new Cr(u,c,r,t,l,o)}if(c){const[e,n,i,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(i)};return new Cr(u,s,r,t,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Mr extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=Or.parse(n))}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(s){return null}let o=e.get(i);return void 0!==o?new Mr(i,o,t.logs):(o=Rr.get(i),void 0!==o?new Mr(i,o,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function Pr(t,e){Tr("debug-logs")&&console.log("Translating error:",t);const n=Cr.parse(t.logs);if(n)return n;const r=Mr.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=Or.parse(t.logs),new Proxy(t,e)}return t}const Rr=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"Deprecated Error, feel free to replace with something else"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2020,"A required account for the constraint is None"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var Br=function(){return Br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Br.apply(this,arguments)},Nr=function(){return Nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nr.apply(this,arguments)};function Lr(t){return t.toLowerCase()}var jr=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Dr=/[^A-Z0-9]+/gi;function Ur(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}function zr(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?jr:n,i=e.stripRegexp,o=void 0===i?Dr:i,s=e.transform,a=void 0===s?Lr:s,c=e.delimiter,u=void 0===c?" ":c,l=Ur(Ur(t,r,"$1\0$2"),o,"\0"),h=0,d=l.length;"\0"===l.charAt(h);)h++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(h,d).split("\0").map(a).join(u)}(t,Nr({delimiter:"."},e))}class Fr{static fieldLayout(t,e){const n=void 0!==t.name?h()(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"u256":return f.u256(n);case"i256":return f.i256(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(Fr.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(Fr.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new Ir("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new Ir(`Type not found: ${JSON.stringify(t)}`);return Fr.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=Fr.fieldLayout({name:void 0,type:r},e);return f.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>Fr.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=h()(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map(((t,n)=>t.hasOwnProperty("name")?Fr.fieldLayout(t,e):Fr.fieldLayout({type:t,name:n.toString()},e)));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}const qr="global";class Vr{constructor(t){this.idl=t,this.ixLayout=Vr.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=Hr(qr,t.name);e.set(c().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode(qr,t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=h()(e),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),c=i.slice(0,a);return r.Buffer.concat([Hr(t,e),c])}static parseIxLayout(t){const e=t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return Fr.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=h()(e.name);return[r,f.struct(n,r)]}));return new Map(e)}decode(t,e="hex"){"string"===typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):c().decode(t));let n=c().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return Wr.format(t,e,this.idl)}}class Wr{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:Wr.formatIdlType(e.type),data:Wr.formatIdlData(e,t.data[e.name],n.types)}))),o=Wr.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"===typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"===typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return Wr.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+Wr.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],s=Object.keys(o).map((t=>{var e;const s=o[t],a=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Wr.formatIdlData(a,s,n)})).join(", "),a=h()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return Wr.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function Hr(t,e){var n;let i=`${t}:${void 0===n&&(n={}),zr(e,Br({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function Kr(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!==typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return $r(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>$r(t,e.type))).reduce(((t,e)=>t+e),0)}function $r(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+$r(t,e.option);if("coption"in e)return 4+$r(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new Ir(`Type not found: ${JSON.stringify(e)}`);return Kr(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return $r(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}class Gr{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,Fr.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let s=n.slice(0,o),a=Gr.accountDiscriminator(t);return r.Buffer.concat([a,s])}decode(t,e){if(Gr.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),n=Array.from(this.accountLayouts.keys()).find((t=>Gr.accountDiscriminator(t).equals(e)));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=Gr.accountDiscriminator(t);return{offset:0,bytes:c().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=Kr(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(d.sha256.digest(`account:${h()(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)).slice(0,8)}}class Zr{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,Fr.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>{return[u.fromByteArray((e=t.name,r.Buffer.from(d.sha256.digest(`event:${e}`)).slice(0,8))),t.name];var e})))}decode(t){let e;try{e=r.Buffer.from(u.toByteArray(t))}catch(s){return null}const n=u.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}class Yr{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>[e.name,Fr.typeDefLayout(e,t.types)]));this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const n=r.Buffer.alloc(1e3),i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);const o=i.encode(e,n);return n.slice(0,o)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class Jr{constructor(t){this.instruction=new Vr(t),this.accounts=new Gr(t),this.events=new Zr(t),this.types=new Yr(t)}}var Xr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};class Qr{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var ti=Qr;class ei extends Qr{isCount(){throw new Error("ExternalLayout is abstract")}}class ni extends ei{constructor(t,e,n){if(!(t instanceof Qr))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof ri||this.layout instanceof ii}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class ri extends Qr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class ii extends Qr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const oi=Math.pow(2,32);function si(t){const e=Math.floor(t/oi);return{hi32:e,lo32:t-e*oi}}function ai(t,e){return t*oi+e}class ci extends Qr{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return ai(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=si(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class ui extends Qr{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return ai(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=si(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class li extends Qr{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Qr),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof e&&void 0===n&&(n=e,e=void 0);for(const o of t)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=t[s.property];void 0!==i&&(o=s.encode(i,e,n),0>r&&(r=s.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!==typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class hi{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class di extends hi{constructor(t,e){if(!(t instanceof ei&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class fi extends Qr{constructor(t,e,n){const r=t instanceof ri||t instanceof ii;if(r)t=new di(new ni(t));else if(t instanceof ei&&t.isCount())t=new di(t);else if(!(t instanceof hi))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Qr))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new pi(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return jn.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class pi extends Qr{constructor(t,e,n,r){if(!(t instanceof fi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Qr))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class mi extends Qr{constructor(t,e){if(!(t instanceof ei&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ei||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof ei&&(r=t.length),!jn.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,o;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof ei&&this.length.encode(r,e,n),r}}var gi=(t,e,n)=>new ni(t,e,n),yi=t=>new ri(4,t),vi=t=>new ui(t),wi=(t,e,n)=>new li(t,e,n),bi=(t,e,n)=>new fi(t,e,n),_i=(t,e)=>new mi(t,e);class ki extends ti{constructor(t){super(-1,t),this.property=t,this.layout=wi([yi("length"),yi("lengthPadding"),_i(gi(yi(),-8),"chars")],this.property)}encode(t,e,n=0){if(null===t||void 0===t)return this.layout.span;const r={chars:jn.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return yi().span+yi().span+new(s())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function xi(t){return new ki(t)}function Si(t){return _i(32,t)}const Ei=bi(yi("instruction"));Ei.addVariant(0,wi([vi("lamports"),vi("space"),Si("owner")]),"createAccount"),Ei.addVariant(1,wi([Si("owner")]),"assign"),Ei.addVariant(2,wi([vi("lamports")]),"transfer"),Ei.addVariant(3,wi([Si("base"),xi("seed"),vi("lamports"),vi("space"),Si("owner")]),"createAccountWithSeed"),Ei.addVariant(4,wi([Si("authorized")]),"advanceNonceAccount"),Ei.addVariant(5,wi([vi("lamports")]),"withdrawNonceAccount"),Ei.addVariant(6,wi([Si("authorized")]),"initializeNonceAccount"),Ei.addVariant(7,wi([Si("authorized")]),"authorizeNonceAccount"),Ei.addVariant(8,wi([vi("space")]),"allocate"),Ei.addVariant(9,wi([Si("base"),xi("seed"),vi("space"),Si("owner")]),"allocateWithSeed"),Ei.addVariant(10,wi([Si("base"),xi("seed"),Si("owner")]),"assignWithSeed"),Ei.addVariant(11,wi([vi("lamports"),xi("seed"),Si("owner")]),"transferWithSeed");Math.max(...Object.values(Ei.registry).map((t=>t.span)));class Ai extends ti{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function Ti(t){return new Ai(_i(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}wi([yi("version"),yi("state"),Ti("authorizedPubkey"),Ti("nonce"),wi([(Ii="lamportsPerSignature",new ci(Ii))],"feeCalculator")]);var Ii;function Oi(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:Hn(t).toBuffer())}));const[o]=i.PublicKey.findProgramAddressSync(n,Hn(t));return o}const Ci=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Mi=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Pi={exports:{}};!function(t,e){var n="undefined"!==typeof self?self:Xr,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!==typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=u(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=l(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=function(t){var e=t.toUpperCase();return v.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t){var e=new d;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];k.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(Rt){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var s=new w(t,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;r(new k(e,t))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=d,t.Request=w,t.Response=k),e.Headers=d,e.Request=w,e.Response=k,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Pi,Pi.exports);f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function Ri(t){return"accounts"in t}const Bi=f.struct([f.publicKey("authority"),f.vecU8("data")]);function Ni(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null===t||void 0===t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class Li{static build(t,e,n){if("_inner"===t.name)throw new Ir("the _inner name is reserved");const r=(...o)=>{const[s,a]=Ni(t,[...o]);Wn(t.accounts,a.accounts);const c=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&c.push(...a.remainingAccounts),Tr("debug-logs")&&console.log("Outgoing account metas:",c),new i.TransactionInstruction({keys:c,programId:n,data:e(t.name,Vn(t,...s))})};return r.accounts=e=>Li.accountsArray(e,t.accounts,n,t.name),r}static accountsArray(t,e,n,r){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const i=t[e.name];return Li.accountsArray(i,e.accounts,n,r).flat()}{const i=e;let o;try{o=Hn(t[e.name])}catch(Rt){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const s=i.isOptional&&o.equals(n);return{pubkey:o,isWritable:i.isMut&&!s,isSigner:i.isSigner&&!s}}})).flat():[]}}class ji{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!==r&&void 0!==r?r:Sr(),this._coder=null!==i&&void 0!==i?i:new Jr(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:r}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:r}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await dr(this._provider.connection,t.map((t=>Hn(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:n}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:n}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof jn?t:void 0),n=[];return void 0!=(null===e||void 0===e?void 0:e.offset)&&void 0!=(null===e||void 0===e?void 0:e.bytes)&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),void 0!=(null===e||void 0===e?void 0:e.dataSize)&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=Di.get(t.toString());if(n)return n.ee;const r=new(Nn());t=Hn(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return Di.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=Di.get(t.toString());e?Di&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{Di.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!==e&&void 0!==e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!==e&&void 0!==e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Oi(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(Hn(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(Hn(t),e)}}const Di=new Map,Ui="Program log: ",zi="Program data: ",Fi=Ui.length,qi=zi.length;class Vi{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Wi(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(Ln.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Wi{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new Ki(t),r=new Hi;let i=n.next();for(;null!==i;){let[t,o,s]=this.handleLog(r,i,e);t&&(yield t),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(Ui)||t.startsWith(zi)){const n=t.startsWith(Ui)?t.slice(Fi):t.slice(qi),r=this.coder.events.decode(n);if(e&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Hi{constructor(){this.stack=[]}program(){return Ln.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){Ln.ok(this.stack.length>0),this.stack.pop()}}class Ki{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}function $i(t){return new Yi(_i(8),(t=>Xi.fromBuffer(t)),(t=>t.toBuffer()),t)}function Gi(t){return new Yi(_i(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function Zi(t,e){return new Ji(t,e)}class Yi extends ti{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Ji extends ti{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=yi()}encode(t,e,n=0){return null===t||void 0===t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Xi extends(s()){toBuffer(){const t=super.toArray().reverse(),e=jn.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=jn.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Xi([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const Qi=wi([Gi("mint"),Gi("owner"),$i("amount"),Zi(Gi(),"delegate"),(t=>{const e=bi((t=>new ri(1,t))("discriminator"),null,"state");return e.addVariant(0,wi([]),"uninitialized"),e.addVariant(1,wi([]),"initialized"),e.addVariant(2,wi([]),"frozen"),e})(),Zi($i(),"isNative"),$i("delegatedAmount"),Zi(Gi(),"closeAuthority")]);class to{constructor(t,e,n,r,i,o,s,a){this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=s,this._customResolver=a,this._args=t,this._accountStore=new eo(n,o,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const n={};for(const r of e){const e=r.name,i=t[e];void 0!==i&&(no(i)?Ri(r)?n[e]=this.resolveOptionalsHelper(i,r.accounts):n[e]=ro(i,!0):null!==i?n[e]=Hn(i):r.isOptional&&(n[e]=this._programId))}return n}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach(((r,i)=>{i==t.length-1&&(n[r]=e),n[r]=n[r]||{},n=n[r]}))}async resolveConst(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n],i=r.accounts;i&&await this.resolveConst(i,[...e,h()(r.name)]);const o=r,s=h()(r.name);if(o.isSigner&&!this.get([...e,s])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,s],this._provider.wallet.publicKey)}Reflect.has(to.CONST_ACCOUNTS,s)&&!this.get([...e,s])&&this.set([...e,s],to.CONST_ACCOUNTS[s])}}async resolvePdas(t,e=[]){let n=0;for(let r=0;r<t.length;r+=1){const i=t[r],o=i.accounts;o&&(n+=await this.resolvePdas(o,[...e,h()(i.name)]));const s=i,a=h()(i.name);s.pda&&s.pda.seeds.length>0&&!this.get([...e,a])&&Boolean(await this.autoPopulatePda(s,e))&&(n+=1)}return n}async resolveRelations(t,e=[]){let n=0;for(let r=0;r<t.length;r+=1){const i=t[r],o=i.accounts;o&&(n+=await this.resolveRelations(o,[...e,h()(i.name)]));const s=i.relations||[],a=h()(i.name),c=[...e,a],u=this.get(c);if(u){const t=s.filter((t=>!this.get([...e,h()(t)])));if(n+=t.length,t.length>0){const n=await this._accountStore.fetchAccount({publicKey:u});await Promise.all(t.map((async t=>{const r=h()(t);return this.set([...e,r],n[r]),n[r]})))}}}return n}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t,e))));if(n.some((t=>"undefined"==typeof t)))return;const r=await this.parseProgramId(t,e);if(!r)return;const[o]=await i.PublicKey.findProgramAddress(n,r);this.set([...e,h()(t.name)],o)}async parseProgramId(t,e=[]){var n;if(!(null===(n=t.pda)||void 0===n?void 0:n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const n=this._idlTypes.find((e=>e.name===t.defined));if(!n)throw new Error(`Cannot find type ${t.defined}`);const r=n.type.fields.find((t=>t.name===e[0]));return this.getType(r.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if("undefined"!==typeof e)return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),n=h()(e[0]),r=this._idlIx.args.findIndex((t=>t.name===n));if(-1===r)throw new Error(`Unable to find argument for seed: ${n}`);return e.slice(1).reduce(((t,e)=>(t||{})[e]),this._args[r])}async toBufferAccount(t,e=[]){const n=await this.accountValue(t,e);if(n)return this.toBufferValue(t.type,n)}async accountValue(t,e=[]){const n=t.path.split("."),r=n[0],i=this.get([...e,h()(r)]);if(null===i)throw new Error("fieldPubkey is null");if(1===n.length)return i;const o=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(o,n.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[h()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return jn.from([e]);case"u16":let n=jn.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=jn.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=jn.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return jn.from(zn(e));case"publicKey":return e.toBuffer();default:if(t.array)return jn.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}to.CONST_ACCOUNTS={associatedTokenProgram:Mi,rent:i.SYSVAR_RENT_PUBKEY,systemProgram:i.SystemProgram.programId,tokenProgram:Ci,clock:i.SYSVAR_CLOCK_PUBKEY};class eo{constructor(t,e,n){this._provider=t,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await oo.fetchIdl(t,this._provider);if(e){const n=new oo(e,t,this._provider);this._idls[t.toBase58()]=n.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:n=this._programId}){const r=t.toString();if(!this._cache.has(r))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=(i=e.data,Qi.decode(i));this._cache.set(r,n)}else if(e){const i=await this.ensureIdl(n);if(i){const n=i[h()(e)];if(n){const e=await n.fetch(t);this._cache.set(r,e)}}}else{const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=e.data,i=await this.ensureIdl(e.owner);if(i){const t=Object.values(i)[0];if(!t)throw new Error("No accounts for this program");const e=t.coder.accounts.decodeAny(n);this._cache.set(r,e)}}var i;return this._cache.get(r)}}function no(t){return"object"===typeof t&&null!==t&&!("_bn"in t)}function ro(t,e){const n={};for(const r in t){const i=t[r];if(null!==i)n[r]=no(i)?ro(i,!0):Hn(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class io{constructor(t,e,n,r,i,o,s,a,c,u,l,h){this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=o,this._programId=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new to(t,this._accounts,s,a,c,u,l,h)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class oo{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,n,r,o){e=Hn(e),n||(n=Sr()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!==r&&void 0!==r?r:new Jr(t),this._events=new Vi(this._programId,n,this._coder);const[s,a,c,u,l,d,f]=class{static build(t,e,n,r,o){const s={},a={},c={},u={},l={},d={},f=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}(t),p=t.accounts?class{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const s=h()(i.name);o[s]=new ji(t,i,n,r,e)})),o}}.build(t,e,n,r):{};return t.instructions.forEach((m=>{const g=Li.build(m,((t,n)=>e.instruction.encode(t,n)),n),y=class{static build(t,e){return(...n)=>{var r,o,s;const[,a]=Ni(t,[...n]),c=new i.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((t=>c.add(t))),null===(o=a.instructions)||void 0===o||o.forEach((t=>c.add(t))),c.add(e(...n)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>c.add(t))),c}}}.build(m,g),v=class{static build(t,e,n,r){return async(...i)=>{var o;const s=e(...i),[,a]=Ni(t,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(o=a.signers)&&void 0!==o?o:[],a.options)}catch(Rt){throw Pr(Rt,n)}}}}.build(m,y,f,r),w=class{static build(t,e,n,r,i,o,s){return async(...a)=>{var c;const u=e(...a),[,l]=Ni(t,[...a]);let h;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await r.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(Rt){throw Pr(Rt,n)}if(void 0===h)throw new Error("Unable to simulate transaction");const d=h.logs;if(!d)throw new Error("Simulated logs not found");const f=[];if(s.events){let t=new Wi(o,i);for(const e of t.parseLogs(d))f.push(e)}return{events:f,raw:d}}}}.build(m,y,f,r,e,n,t),b=class{static build(t,e,n,r){const i=e.accounts.find((t=>t.isMut)),o=!!e.returns;if(!i&&o)return async(...i)=>{var o,s;let a=await n(...i);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let l=qn(u.slice(c.length)),h=e.returns;if(!h)throw new Error("View expected return type");return Fr.fieldLayout({type:h},Array.from([...null!==(o=r.accounts)&&void 0!==o?o:[],...null!==(s=r.types)&&void 0!==s?s:[]])).decode(l)}}}.build(n,m,w,t),_=class{static build(t,e,n,r,i,o,s,a,c,u,l){return(...h)=>new io(h,r,i,o,s,a,t,e,n,c,u,l)}}.build(r,n,m,g,y,v,w,b,p,t.types||[],o&&o(m)),k=h()(m.name);a[k]=g,c[k]=y,s[k]=v,u[k]=w,l[k]=_,b&&(d[k]=b)})),[s,a,c,p,u,l,d]}}.build(t,this._coder,e,n,null!==o&&void 0!==o?o:()=>{});this.rpc=s,this.instruction=a,this.transaction=c,this.account=u,this.simulate=l,this.methods=d,this.views=f}static async at(t,e){const n=Hn(t),r=await oo.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new oo(r,n,e)}static async fetchIdl(t,e){e=null!==e&&void 0!==e?e:Sr();const n=Hn(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),Bi.decode(a));var a;const c=Rn(s.data);return JSON.parse(Un(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new i.PublicKey("11111111111111111111111111111111")},5970:function(t,e,n){"use strict";var r=n(8764).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const o=n(698),s=n(5959),a=i(n(3550));var c=n(698);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(t,e,n){super(t,n),this.blob=(0,o.blob)(t),this.signed=e}decode(t,e=0){const n=new a.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(r,"le",this.span),e,n)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)},e.u256=function(t){return new u(32,!1,t)},e.i256=function(t){return new u(32,!0,t)};class h extends o.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new h((0,o.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class d extends o.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,o.u8)()}encode(t,e,n=0){return null===t||void 0===t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function f(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function m(t){const e=(0,o.u32)("length"),n=(0,o.struct)([e,(0,o.blob)((0,o.offset)(e,-e.span),"data")]);return new h(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new d(t,e)},e.bool=function(t){return new h((0,o.u8)(),f,p,t)},e.vec=function(t,e){const n=(0,o.u32)("length"),r=(0,o.struct)([n,(0,o.seq)(t,(0,o.offset)(n,-n.span),"values")]);return new h(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=(0,o.struct)([l("tag"),e.replicate("data")]);return new h(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=m,e.str=function(t){return new h(m(),(t=>t.toString("utf-8")),(t=>r.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=(0,o.union)(null!==n&&void 0!==n?n:(0,o.u8)(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=(0,o.struct)([(0,o.seq)(t,e,"values")]);return new h(r,(({values:t})=>t),(t=>({values:t})),n)};class g extends o.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=(0,o.u32)("length"),i=(0,o.struct)([r,(0,o.seq)(new g(t,e),(0,o.offset)(r,-r.span),"values")]);return new h(i,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},5618:function(t,e,n){"use strict";function r(){throw new Error("Cycle detected")}n.d(e,{Fl:function(){return v},MZ:function(){return d},cE:function(){return x},td:function(){return f}});var i=Symbol.for("preact-signals");function o(){if(c>1)c--;else{for(var t,e=!1;void 0!==a;){var n=a;for(a=void 0,u++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&p(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=r}}if(u=0,c--,e)throw t}}var s=void 0;var a=void 0,c=0,u=0,l=0;function h(t){if(void 0!==s){var e=t.n;if(void 0===e||e.t!==s)return e={i:0,S:t,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:e},void 0!==s.s&&(s.s.n=e),s.s=e,t.n=e,32&s.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=s.s,e.n=void 0,s.s.n=e,s.s=e),e}}function d(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function f(t){return new d(t)}function p(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function m(t){for(var e=t.s;void 0!==e;e=e.n){var n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function g(t){for(var e=t.s,n=void 0;void 0!==e;){var r=e.p;-1===e.i?(e.S.U(e),void 0!==r&&(r.n=e.n),void 0!==e.n&&(e.n.p=r)):n=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=r}t.s=n}function y(t){d.call(this,void 0),this.x=t,this.s=void 0,this.g=l-1,this.f=4}function v(t){return new y(t)}function w(t){var e=t.u;if(t.u=void 0,"function"==typeof e){c++;var n=s;s=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,b(t),e}finally{s=n,o()}}}function b(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,w(t)}function _(t){if(s!==this)throw new Error("Out-of-order effect");g(this),s=t,this.f&=-2,8&this.f&&b(this),o()}function k(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function x(t){var e=new k(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}d.prototype.brand=i,d.prototype.h=function(){return!0},d.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},d.prototype.U=function(t){if(void 0!==this.t){var e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}},d.prototype.subscribe=function(t){var e=this;return x((function(){var n=e.value,r=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=r}}))},d.prototype.valueOf=function(){return this.value},d.prototype.toString=function(){return this.value+""},d.prototype.toJSON=function(){return this.value},d.prototype.peek=function(){return this.v},Object.defineProperty(d.prototype,"value",{get:function(){var t=h(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(s instanceof y&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){u>100&&r(),this.v=t,this.i++,l++,c++;try{for(var e=this.t;void 0!==e;e=e.x)e.t.N()}finally{o()}}}}),(y.prototype=new d).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===l)return!0;if(this.g=l,this.f|=1,this.i>0&&!p(this))return this.f&=-2,!0;var t=s;try{m(this),s=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return s=t,g(this),this.f&=-2,!0},y.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}d.prototype.S.call(this,t)},y.prototype.U=function(t){if(void 0!==this.t&&(d.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},y.prototype.peek=function(){if(this.h()||r(),16&this.f)throw this.v;return this.v},Object.defineProperty(y.prototype,"value",{get:function(){1&this.f&&r();var t=h(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),k.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},k.prototype.S=function(){1&this.f&&r(),this.f|=1,this.f&=-9,w(this),m(this),c++;var t=s;return s=this,_.bind(this,t)},k.prototype.N=function(){2&this.f||(this.f|=2,this.o=a,a=this)},k.prototype.d=function(){this.f|=8,1&this.f||b(this)}},7665:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*c+1>>>0,u=new Uint8Array(o);t[n];){var l=e[t.charCodeAt(n)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=s*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,n++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(r+(o-f)),m=r;f!==o;)p[m++]=u[f++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var h=e[i],d=0,f=c-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=c-r;p!==c&&0===l[p];)p++;for(var m=a.repeat(n);p<c;++p)m+=t.charAt(l[p]);return m},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},5019:function(t,e,n){const r=n(7665);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9386:function(t,e,n){"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;const r=n(8764);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(t){return i(t),r.Buffer.from(t.buffer,t.byteOffset,t.length)}class s{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){i(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class l extends c{constructor(t,e=0,n){if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof h||this.layout instanceof d}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}class h extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntLE(t,n,this.span),this.span}}class d extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntBE(t,n,this.span),this.span}}class f extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readIntLE(e,this.span)}encode(t,e,n=0){return o(e).writeIntLE(t,n,this.span),this.span}}class p extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readIntBE(e,this.span)}encode(t,e,n=0){return o(e).writeIntBE(t,n,this.span),this.span}}const m=Math.pow(2,32);function g(t){const e=Math.floor(t/m);return{hi32:e,lo32:t-e*m}}function y(t,e){return t*m+e}class v extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return y(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=g(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class w extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t);return y(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=g(t),i=o(e);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class b extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return y(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=g(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class _ extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t);return y(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=g(t),i=o(e);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class k extends s{constructor(t){super(4,t)}decode(t,e=0){return o(t).readFloatLE(e)}encode(t,e,n=0){return o(e).writeFloatLE(t,n),4}}class x extends s{constructor(t){super(4,t)}decode(t,e=0){return o(t).readFloatBE(e)}encode(t,e,n=0){return o(e).writeFloatBE(t,n),4}}class S extends s{constructor(t){super(8,t)}decode(t,e=0){return o(t).readDoubleLE(e)}encode(t,e,n=0){return o(e).writeDoubleLE(t,n),8}}class E extends s{constructor(t){super(8,t)}decode(t,e=0){return o(t).readDoubleBE(e)}encode(t,e,n=0){return o(e).writeDoubleBE(t,n),8}}class A extends s{constructor(t,e,n){if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof c)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof c&&this.count.encode(t.length,e,n),i}}class T extends s{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof e&&void 0===n&&(n=e,e=void 0);for(const o of t)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(t,e=0){i(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=t[s.property];void 0!==i&&(o=s.encode(i,e,n),0>r&&(r=s.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!==typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class I{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}class O extends I{constructor(t,e){if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class C extends s{constructor(t,e,n){let r;if(t instanceof h||t instanceof d)r=new O(new l(t));else if(t instanceof c&&t.isCount())r=new O(t);else{if(!(t instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=t}if(void 0===e&&(e=null),!(null===e||e instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof h||t instanceof d)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=t instanceof h||t instanceof d,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const r=this.discriminator,i=r.decode(t,e),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new M(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}class M extends s{constructor(t,e,n,r){if(!(t instanceof C))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function P(t){return 0>t&&(t+=4294967296),t}class R extends s{constructor(t,e,n){if(!(t instanceof h||t instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=P(t),this},this._packedGetValue=function(){return r}}decode(t,e=0){const n=this.makeDestinationObject(),r=this.word.decode(t,e);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const r=this.word.decode(e,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new B(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new N(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class B{constructor(t,e,n){if(!(t instanceof R))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=P(this.valueMask<<this.start),this.property=n}decode(t,e){return P(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!==typeof t||!Number.isInteger(t)||t!==P(t&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=P(t<<this.start);this.container._packedSetValue(P(e&~this.wordMask)|n)}}class N extends B{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"===typeof t&&(t=+t),super.encode(t)}}class L extends s{constructor(t,e){if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof c||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),o(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof c&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=o(t);return o(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,e,n),r}}class j extends s{constructor(t){super(-1,t)}getSpan(t,e=0){i(t);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return o(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){"string"!==typeof t&&(t=String(t));const i=r.Buffer.from(t,"utf8"),s=i.length;if(n+s>e.length)throw new RangeError("encoding overruns Buffer");const a=o(e);return i.copy(a,n),a[n+s]=0,s+1}}class D extends s{constructor(t,e){if("string"===typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return i(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return o(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){"string"!==typeof t&&(t=String(t));const i=r.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(e),n),s}}class U extends s{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}e.cv=(t,e,n)=>new l(t,e,n),e.u8=t=>new h(1,t),e.KB=t=>new h(2,t),e.Jq=t=>new h(4,t),e._O=t=>new v(t),e.gM=t=>new b(t),e.n_=(t,e,n)=>new T(t,e,n),e.A9=(t,e,n)=>new A(t,e,n),e.Ik=(t,e)=>new L(t,e)},5959:function(t,e,n){"use strict";n.r(e),n.d(e,{Account:function(){return Zn},AddressLookupTableAccount:function(){return oi},AddressLookupTableInstruction:function(){return ts},AddressLookupTableProgram:function(){return es},Authorized:function(){return ds},BLOCKHASH_CACHE_TIMEOUT_MS:function(){return hi},BPF_LOADER_DEPRECATED_PROGRAM_ID:function(){return Yn},BPF_LOADER_PROGRAM_ID:function(){return Hr},BpfLoader:function(){return Kr},COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:function(){return rs},ComputeBudgetInstruction:function(){return ns},ComputeBudgetProgram:function(){return is},Connection:function(){return Jo},Ed25519Program:function(){return ss},Enum:function(){return Fn},EpochSchedule:function(){return Qr},FeeCalculatorLayout:function(){return Br},Keypair:function(){return Xo},LAMPORTS_PER_SOL:function(){return Ns},LOOKUP_TABLE_INSTRUCTION_LAYOUTS:function(){return Qo},Loader:function(){return Wr},Lockup:function(){return fs},MAX_SEED_LENGTH:function(){return Hn},Message:function(){return dr},MessageAccountKeys:function(){return rr},MessageV0:function(){return fr},NONCE_ACCOUNT_LENGTH:function(){return Lr},NonceAccount:function(){return jr},PACKET_DATA_SIZE:function(){return Jn},PUBLIC_KEY_LENGTH:function(){return Kn},PublicKey:function(){return Gn},SIGNATURE_LENGTH_IN_BYTES:function(){return Qn},SOLANA_SCHEMA:function(){return qn},STAKE_CONFIG_ID:function(){return hs},STAKE_INSTRUCTION_LAYOUTS:function(){return ms},SYSTEM_INSTRUCTION_LAYOUTS:function(){return Fr},SYSVAR_CLOCK_PUBKEY:function(){return _r},SYSVAR_EPOCH_SCHEDULE_PUBKEY:function(){return kr},SYSVAR_INSTRUCTIONS_PUBKEY:function(){return xr},SYSVAR_RECENT_BLOCKHASHES_PUBKEY:function(){return Sr},SYSVAR_RENT_PUBKEY:function(){return Er},SYSVAR_REWARDS_PUBKEY:function(){return Ar},SYSVAR_SLOT_HASHES_PUBKEY:function(){return Tr},SYSVAR_SLOT_HISTORY_PUBKEY:function(){return Ir},SYSVAR_STAKE_HISTORY_PUBKEY:function(){return Or},Secp256k1Program:function(){return us},SendTransactionError:function(){return ti},SolanaJSONRPCError:function(){return ni},SolanaJSONRPCErrorCode:function(){return ei},StakeAuthorizationLayout:function(){return gs},StakeInstruction:function(){return ps},StakeProgram:function(){return ys},Struct:function(){return zn},SystemInstruction:function(){return zr},SystemProgram:function(){return qr},Transaction:function(){return vr},TransactionExpiredBlockheightExceededError:function(){return tr},TransactionExpiredNonceInvalidError:function(){return nr},TransactionExpiredTimeoutError:function(){return er},TransactionInstruction:function(){return yr},TransactionMessage:function(){return wr},TransactionStatus:function(){return mr},VALIDATOR_INFO_KEY:function(){return xs},VERSION_PREFIX_MASK:function(){return Xn},VOTE_PROGRAM_ID:function(){return As},ValidatorInfo:function(){return Es},VersionedMessage:function(){return pr},VersionedTransaction:function(){return br},VoteAccount:function(){return Is},VoteAuthorizationLayout:function(){return _s},VoteInit:function(){return vs},VoteInstruction:function(){return ws},VoteProgram:function(){return ks},clusterApiUrl:function(){return Rs},sendAndConfirmRawTransaction:function(){return Bs},sendAndConfirmTransaction:function(){return Cr}});var r={};n.r(r),n.d(r,{bitGet:function(){return ct},bitLen:function(){return at},bitMask:function(){return lt},bitSet:function(){return ut},bytesToHex:function(){return F},bytesToNumberBE:function(){return X},bytesToNumberLE:function(){return Q},concatBytes:function(){return it},createHmacDrbg:function(){return ft},ensureBytes:function(){return rt},equalBytes:function(){return ot},hexToBytes:function(){return J},hexToNumber:function(){return V},isBytes:function(){return U},numberToBytesBE:function(){return tt},numberToBytesLE:function(){return et},numberToHexUnpadded:function(){return q},numberToVarBytesBE:function(){return nt},utf8ToBytes:function(){return st},validateObject:function(){return mt}});var i=n(8764);function o(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function s(t,...e){if(!((n=t)instanceof Uint8Array||null!=n&&"object"===typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Expected Uint8Array");var n;if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function a(t){if("function"!==typeof t||"function"!==typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");o(t.outputLen),o(t.blockLen)}function c(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function u(t,e){s(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const l="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function h(t){return t instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name}const d=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),f=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function p(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function m(t){if("string"===typeof t&&(t=p(t)),!h(t))throw new Error("expected Uint8Array, got "+typeof t);return t}function g(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];if(!h(n))throw new Error("Uint8Array expected");e+=n.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const e=t[r];n.set(e,i),i+=e.length}return n}class y{clone(){return this._cloneInto()}}function v(t){const e=e=>t().update(m(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function w(t=32){if(l&&"function"===typeof l.getRandomValues)return l.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class b extends y{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=d(this.buffer)}update(t){c(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=m(t)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const e=d(t);for(;r<=i-o;o+=r)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){c(this),u(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)e[c]=0;!function(t,e,n,r){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=d(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,h[c],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}}const _=BigInt(2**32-1),k=BigInt(32);function x(t,e=!1){return e?{h:Number(t&_),l:Number(t>>k&_)}:{h:0|Number(t>>k&_),l:0|Number(t&_)}}function S(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=x(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const E=(t,e,n)=>t<<n|e>>>32-n,A=(t,e,n)=>e<<n|t>>>32-n,T=(t,e,n)=>e<<n-32|t>>>64-n,I=(t,e,n)=>t<<n-32|e>>>64-n;var O={fromBig:x,split:S,toBig:(t,e)=>BigInt(t>>>0)<<k|BigInt(e>>>0),shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:E,rotlSL:A,rotlBH:T,rotlBL:I,add:function(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,add5H:(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,add5L:(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0)};const[C,M]=(()=>O.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),P=new Uint32Array(80),R=new Uint32Array(80);class B extends b{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:m}=this;return[t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,m]}set(t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let v=0;v<16;v++,e+=4)P[v]=t.getUint32(e),R[v]=t.getUint32(e+=4);for(let v=16;v<80;v++){const t=0|P[v-15],e=0|R[v-15],n=O.rotrSH(t,e,1)^O.rotrSH(t,e,8)^O.shrSH(t,e,7),r=O.rotrSL(t,e,1)^O.rotrSL(t,e,8)^O.shrSL(t,e,7),i=0|P[v-2],o=0|R[v-2],s=O.rotrSH(i,o,19)^O.rotrBH(i,o,61)^O.shrSH(i,o,6),a=O.rotrSL(i,o,19)^O.rotrBL(i,o,61)^O.shrSL(i,o,6),c=O.add4L(r,a,R[v-7],R[v-16]),u=O.add4H(c,n,s,P[v-7],P[v-16]);P[v]=0|u,R[v]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:l,El:h,Fh:d,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let v=0;v<80;v++){const t=O.rotrSH(l,h,14)^O.rotrSH(l,h,18)^O.rotrBH(l,h,41),e=O.rotrSL(l,h,14)^O.rotrSL(l,h,18)^O.rotrBL(l,h,41),w=l&d^~l&p,b=h&f^~h&m,_=O.add5L(y,e,b,M[v],R[v]),k=O.add5H(_,g,t,w,C[v],P[v]),x=0|_,S=O.rotrSH(n,r,28)^O.rotrBH(n,r,34)^O.rotrBH(n,r,39),E=O.rotrSL(n,r,28)^O.rotrBL(n,r,34)^O.rotrBL(n,r,39),A=n&i^n&s^i&s,T=r&o^r&a^o&a;g=0|p,y=0|m,p=0|d,m=0|f,d=0|l,f=0|h,({h:l,l:h}=O.add(0|c,0|u,0|k,0|x)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const I=O.add3L(x,E,T);n=O.add3H(I,k,S,A),r=0|I}({h:n,l:r}=O.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=O.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=O.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=O.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=O.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=O.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:m}=O.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=O.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,y)}roundClean(){P.fill(0),R.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const N=v((()=>new B)),L=BigInt(0),j=BigInt(1),D=BigInt(2);function U(t){return t instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name}const z=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function F(t){if(!U(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=z[t[n]];return e}function q(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function V(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}const W=48,H=57,K=65,$=70,G=97,Z=102;function Y(t){return t>=W&&t<=H?t-W:t>=K&&t<=$?t-(K-10):t>=G&&t<=Z?t-(G-10):void 0}function J(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const e=Y(t.charCodeAt(o)),n=Y(t.charCodeAt(o+1));if(void 0===e||void 0===n){const e=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+o)}r[i]=16*e+n}return r}function X(t){return V(F(t))}function Q(t){if(!U(t))throw new Error("Uint8Array expected");return V(F(Uint8Array.from(t).reverse()))}function tt(t,e){return J(t.toString(16).padStart(2*e,"0"))}function et(t,e){return tt(t,e).reverse()}function nt(t){return J(q(t))}function rt(t,e,n){let r;if("string"===typeof e)try{r=J(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!U(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function it(...t){let e=0;for(let i=0;i<t.length;i++){const n=t[i];if(!U(n))throw new Error("Uint8Array expected");e+=n.length}let n=new Uint8Array(e),r=0;for(let i=0;i<t.length;i++){const e=t[i];n.set(e,r),r+=e.length}return n}function ot(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n}function st(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function at(t){let e;for(e=0;t>L;t>>=j,e+=1);return e}function ct(t,e){return t>>BigInt(e)&j}const ut=(t,e,n)=>t|(n?j:L)<<BigInt(e),lt=t=>(D<<BigInt(t-1))-j,ht=t=>new Uint8Array(t),dt=t=>Uint8Array.from(t);function ft(t,e,n){if("number"!==typeof t||t<2)throw new Error("hashLen must be a number");if("number"!==typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=ht(t),i=ht(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...t)=>n(i,r,...t),c=(t=ht())=>{i=a(dt([0]),t),r=a(),0!==t.length&&(i=a(dt([1]),t),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){r=a();const e=r.slice();n.push(e),t+=r.length}return it(...n)};return(t,e)=>{let n;for(s(),c(t);!(n=e(u()));)c();return s(),n}}const pt={bigint:t=>"bigint"===typeof t,function:t=>"function"===typeof t,boolean:t=>"boolean"===typeof t,string:t=>"string"===typeof t,stringOrUint8Array:t=>"string"===typeof t||U(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"===typeof t&&Number.isSafeInteger(t.outputLen)};function mt(t,e,n={}){const r=(e,n,r)=>{const i=pt[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=t[e];if((!r||void 0!==o)&&!i(o,t))throw new Error(`Invalid param ${String(e)}=${o} (${typeof o}), expected ${n}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const gt=BigInt(0),yt=BigInt(1),vt=BigInt(2),wt=BigInt(3),bt=BigInt(4),_t=BigInt(5),kt=BigInt(8);BigInt(9),BigInt(16);function xt(t,e){const n=t%e;return n>=gt?n:e+n}function St(t,e,n){if(n<=gt||e<gt)throw new Error("Expected power/modulo > 0");if(n===yt)return gt;let r=yt;for(;e>gt;)e&yt&&(r=r*t%n),t=t*t%n,e>>=yt;return r}function Et(t,e,n){let r=t;for(;e-- >gt;)r*=r,r%=n;return r}function At(t,e){if(t===gt||e<=gt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=xt(t,e),r=e,i=gt,o=yt,s=yt,a=gt;for(;n!==gt;){const t=r/n,e=r%n,c=i-s*t,u=o-a*t;r=n,n=e,i=s,o=a,s=c,a=u}if(r!==yt)throw new Error("invert: does not exist");return xt(i,e)}function Tt(t){if(t%bt===wt){const e=(t+yt)/bt;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}if(t%kt===_t){const e=(t-_t)/kt;return function(t,n){const r=t.mul(n,vt),i=t.pow(r,e),o=t.mul(n,i),s=t.mul(t.mul(o,vt),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-yt)/vt;let n,r,i;for(n=t-yt,r=0;n%vt===gt;n/=vt,r++);for(i=vt;i<t&&St(i,e,t)!==t-yt;i++);if(1===r){const e=(t+yt)/bt;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+yt)/vt;return function(t,s){if(t.pow(s,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=r,c=t.pow(t.mul(t.ONE,i),n),u=t.pow(s,o),l=t.pow(s,n);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(l);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const n=t.pow(c,yt<<BigInt(a-e-1));c=t.sqr(n),u=t.mul(u,n),l=t.mul(l,c),a=e}return u}}(t)}const It=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ot(t,e){const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ct(t,e,n=!1,r={}){if(t<=gt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=Ot(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Tt(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:lt(i),ZERO:gt,ONE:yt,create:e=>xt(e,t),isValid:e=>{if("bigint"!==typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return gt<=e&&e<t},is0:t=>t===gt,isOdd:t=>(t&yt)===yt,neg:e=>xt(-e,t),eql:(t,e)=>t===e,sqr:e=>xt(e*e,t),add:(e,n)=>xt(e+n,t),sub:(e,n)=>xt(e-n,t),mul:(e,n)=>xt(e*n,t),pow:(t,e)=>function(t,e,n){if(n<gt)throw new Error("Expected power > 0");if(n===gt)return t.ONE;if(n===yt)return e;let r=t.ONE,i=e;for(;n>gt;)n&yt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=yt;return r}(a,t,e),div:(e,n)=>xt(e*At(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>At(e,t),sqrt:r.sqrt||(t=>s(a,t)),invertBatch:t=>function(t,e){const n=new Array(e.length),r=e.reduce(((e,r,i)=>t.is0(r)?e:(n[i]=e,t.mul(e,r))),t.ONE),i=t.inv(r);return e.reduceRight(((e,r,i)=>t.is0(r)?e:(n[i]=t.mul(e,n[i]),t.mul(e,r))),i),n}(a,t),cmov:(t,e,n)=>n?e:t,toBytes:t=>n?et(t,o):tt(t,o),fromBytes:t=>{if(t.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${t.length}`);return n?Q(t):X(t)}});return Object.freeze(a)}function Mt(t){if("bigint"!==typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Pt(t){const e=Mt(t);return e+Math.ceil(e/2)}const Rt=BigInt(0),Bt=BigInt(1);function Nt(t,e){const n=(t,e)=>{const n=e.negate();return t?n:e},r=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:n,unsafeLadder(e,n){let r=t.ZERO,i=e;for(;n>Rt;)n&Bt&&(r=r.add(i)),i=i.double(),n>>=Bt;return r},precomputeWindow(t,e){const{windows:n,windowSize:i}=r(e),o=[];let s=t,a=s;for(let r=0;r<n;r++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,i,o){const{windows:s,windowSize:a}=r(e);let c=t.ZERO,u=t.BASE;const l=BigInt(2**e-1),h=2**e,d=BigInt(e);for(let t=0;t<s;t++){const e=t*a;let r=Number(o&l);o>>=d,r>a&&(r-=h,o+=Bt);const s=e,f=e+Math.abs(r)-1,p=t%2!==0,m=r<0;0===r?u=u.add(n(p,i[s])):c=c.add(n(m,i[f]))}return{p:c,f:u}},wNAFCached(t,e,n,r){const i=t._WINDOW_SIZE||1;let o=e.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&e.set(t,r(o))),this.wNAF(i,o,n)}}}function Lt(t){return function(t){const e=It.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});mt(t,e)}(t.Fp),mt(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ot(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const jt=BigInt(0),Dt=BigInt(1),Ut=BigInt(2),zt=BigInt(8),Ft={zip215:!0};function qt(t){const e=function(t){const e=Lt(t);return mt(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,u=Ut<<BigInt(8*a)-Dt,l=n.create,h=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:n.sqrt(t*n.inv(e))}}catch(r){return{isValid:!1,value:jt}}}),d=e.adjustScalarBytes||(t=>t),f=e.domain||((t,e,n)=>{if(e.length||n)throw new Error("Contexts/pre-hash are not supported");return t}),p=t=>"bigint"===typeof t&&jt<t,m=(t,e)=>p(t)&&p(e)&&t<e,g=t=>t===jt||m(t,u);function y(t,e){if(m(t,e))return t;throw new Error(`Expected valid scalar < ${e}, got ${typeof t} ${t}`)}function v(t){return t===jt?t:y(t,r)}const w=new Map;function b(t){if(!(t instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(t,e,n,r){if(this.ex=t,this.ey=e,this.ez=n,this.et=r,!g(t))throw new Error("x required");if(!g(e))throw new Error("y required");if(!g(n))throw new Error("z required");if(!g(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof _)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};if(!g(e)||!g(n))throw new Error("invalid affine point");return new _(e,n,Dt,l(e*n))}static normalizeZ(t){const e=n.invertBatch(t.map((t=>t.ez)));return t.map(((t,n)=>t.toAffine(e[n]))).map(_.fromAffine)}_setWindowSize(t){this._WINDOW_SIZE=t,w.delete(this)}assertValidity(){const{a:t,d:n}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:i,ez:o,et:s}=this,a=l(r*r),c=l(i*i),u=l(o*o),h=l(u*u),d=l(a*t);if(l(u*l(d+c))!==l(h+l(n*l(a*c))))throw new Error("bad point: equation left != right (1)");if(l(r*i)!==l(o*s))throw new Error("bad point: equation left != right (2)")}equals(t){b(t);const{ex:e,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=t,a=l(e*s),c=l(i*r),u=l(n*s),h=l(o*r);return a===c&&u===h}is0(){return this.equals(_.ZERO)}negate(){return new _(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:t}=e,{ex:n,ey:r,ez:i}=this,o=l(n*n),s=l(r*r),a=l(Ut*l(i*i)),c=l(t*o),u=n+r,h=l(l(u*u)-o-s),d=c+s,f=d-a,p=c-s,m=l(h*f),g=l(d*p),y=l(h*p),v=l(f*d);return new _(m,g,v,y)}add(t){b(t);const{a:n,d:r}=e,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:h,et:d}=t;if(n===BigInt(-1)){const t=l((o-i)*(u+c)),e=l((o+i)*(u-c)),n=l(e-t);if(n===jt)return this.double();const r=l(s*Ut*d),f=l(a*Ut*h),p=f+r,m=e+t,g=f-r,y=l(p*n),v=l(m*g),w=l(p*g),b=l(n*m);return new _(y,v,b,w)}const f=l(i*c),p=l(o*u),m=l(a*r*d),g=l(s*h),y=l((i+o)*(c+u)-f-p),v=g-m,w=g+m,k=l(p-n*f),x=l(y*v),S=l(w*k),E=l(y*k),A=l(v*w);return new _(x,S,A,E)}subtract(t){return this.add(t.negate())}wNAF(t){return S.wNAFCached(this,w,t,_.normalizeZ)}multiply(t){const{p:e,f:n}=this.wNAF(y(t,r));return _.normalizeZ([e,n])[0]}multiplyUnsafe(t){let e=v(t);return e===jt?x:this.equals(x)||e===Dt?this:this.equals(k)?this.wNAF(e).p:S.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(t){const{ex:e,ey:r,ez:i}=this,o=this.is0();null==t&&(t=o?zt:n.inv(i));const s=l(e*t),a=l(r*t),c=l(i*t);if(o)return{x:jt,y:Dt};if(c!==Dt)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:t}=e;return t===Dt?this:this.multiplyUnsafe(t)}static fromHex(t,r=!1){const{d:i,a:o}=e,s=n.BYTES,a=(t=rt("pointHex",t,s)).slice(),c=t[s-1];a[s-1]=-129&c;const d=Q(a);d===jt||y(d,r?u:n.ORDER);const f=l(d*d),p=l(f-Dt),m=l(i*f-o);let{isValid:g,value:v}=h(p,m);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const w=(v&Dt)===Dt,b=0!==(128&c);if(!r&&v===jt&&b)throw new Error("Point.fromHex: x=0 and x_0=1");return b!==w&&(v=l(-v)),_.fromAffine({x:v,y:d})}static fromPrivateKey(t){return T(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),r=et(e,n.BYTES);return r[r.length-1]|=t&Dt?128:0,r}toHex(){return F(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Dt,l(e.Gx*e.Gy)),_.ZERO=new _(jt,Dt,Dt,jt);const{BASE:k,ZERO:x}=_,S=Nt(_,8*a);function E(t){return xt(t,r)}function A(t){return E(Q(t))}function T(t){const e=a;t=rt("private key",t,e);const n=rt("hashed private key",o(t),2*e),r=d(n.slice(0,e)),i=n.slice(e,2*e),s=A(r),c=k.multiply(s),u=c.toRawBytes();return{head:r,prefix:i,scalar:s,point:c,pointBytes:u}}function I(t=new Uint8Array,...e){const n=it(...e);return A(o(f(n,rt("context",t),!!i)))}const O=Ft;k._setWindowSize(8);return{CURVE:e,getPublicKey:function(t){return T(t).pointBytes},sign:function(t,e,r={}){t=rt("message",t),i&&(t=i(t));const{prefix:o,scalar:s,pointBytes:c}=T(e),u=I(r.context,o,t),l=k.multiply(u).toRawBytes(),h=E(u+I(r.context,l,c,t)*s);return v(h),rt("result",it(l,et(h,n.BYTES)),2*a)},verify:function(t,e,r,o=O){const{context:s,zip215:a}=o,c=n.BYTES;t=rt("signature",t,2*c),e=rt("message",e),i&&(e=i(e));const u=Q(t.slice(c,2*c));let l,h,d;try{l=_.fromHex(r,a),h=_.fromHex(t.slice(0,c),a),d=k.multiplyUnsafe(u)}catch(p){return!1}if(!a&&l.isSmallOrder())return!1;const f=I(s,h.toRawBytes(),l.toRawBytes(),e);return h.add(l.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>s(n.BYTES),precompute:(t=8,e=_.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const Vt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Wt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Ht=(BigInt(0),BigInt(1)),Kt=BigInt(2),$t=BigInt(5),Gt=BigInt(10),Zt=BigInt(20),Yt=BigInt(40),Jt=BigInt(80);function Xt(t){const e=Vt,n=t*t%e*t%e,r=Et(n,Kt,e)*n%e,i=Et(r,Ht,e)*t%e,o=Et(i,$t,e)*i%e,s=Et(o,Gt,e)*o%e,a=Et(s,Zt,e)*s%e,c=Et(a,Yt,e)*a%e,u=Et(c,Jt,e)*c%e,l=Et(u,Jt,e)*c%e,h=Et(l,Gt,e)*o%e;return{pow_p_5_8:Et(h,Kt,e)*t%e,b2:n}}function Qt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function te(t,e){const n=Vt,r=xt(e*e*e,n),i=xt(r*r*e,n);let o=xt(t*r*Xt(t*i).pow_p_5_8,n);const s=xt(e*o*o,n),a=o,c=xt(o*Wt,n),u=s===t,l=s===xt(-t,n),h=s===xt(-t*Wt,n);return u&&(o=a),(l||h)&&(o=c),(xt(o,n)&yt)===yt&&(o=xt(-o,n)),{isValid:u||l,value:o}}const ee=Ct(Vt,void 0,!0),ne={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ee,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:N,randomBytes:w,adjustScalarBytes:Qt,uvRatio:te},re=qt(ne);function ie(t,e,n){if(e.length>255)throw new Error("Context is too big");return g(p("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}const oe=(ee.ORDER+BigInt(3))/BigInt(8);ee.pow(Kt,oe),ee.sqrt(ee.neg(ee.ONE)),ee.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);t.isOdd(n)&&t.neg(n)}(ee,ee.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var se=n(3550),ae=n.n(se),ce=n(7191),ue=n.n(ce);const le=(t,e,n)=>t&e^~t&n,he=(t,e,n)=>t&e^t&n^e&n,de=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pe=new Uint32Array(64);class me extends b{constructor(){super(64,32,8,!1),this.A=0|fe[0],this.B=0|fe[1],this.C=0|fe[2],this.D=0|fe[3],this.E=0|fe[4],this.F=0|fe[5],this.G=0|fe[6],this.H=0|fe[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let l=0;l<16;l++,e+=4)pe[l]=t.getUint32(e,!1);for(let l=16;l<64;l++){const t=pe[l-15],e=pe[l-2],n=f(t,7)^f(t,18)^t>>>3,r=f(e,17)^f(e,19)^e>>>10;pe[l]=r+pe[l-7]+n+pe[l-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let l=0;l<64;l++){const t=u+(f(s,6)^f(s,11)^f(s,25))+le(s,a,c)+de[l]+pe[l]|0,e=(f(n,2)^f(n,13)^f(n,22))+he(n,r,i)|0;u=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+e|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,c,u)}roundClean(){pe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ge=v((()=>new me));var ye=n(5532),ve=n(9386),we=n(475);class be extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function _e(t){return"object"===typeof t&&null!=t}function ke(t){return"string"===typeof t?JSON.stringify(t):""+t}function xe(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"===typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+ke(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Se(t,e,n,r){var i;_e(i=t)&&"function"===typeof i[Symbol.iterator]||(t=[t]);for(const o of t){const t=xe(o,e,n,r);t&&(yield t)}}function*Ee(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&_e(e.schema)&&_e(t)&&!Array.isArray(t)))for(const u in t)void 0===e.schema[u]&&delete t[u];let c=!0;for(const u of e.validator(t,a))c=!1,yield[u,void 0];for(let[u,l,h]of e.entries(t,a)){const e=Ee(l,h,{path:void 0===u?r:[...r,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s});for(const n of e)n[0]?(c=!1,yield[n[0],void 0]):o&&(l=n[1],void 0===u?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):_e(t)&&(t[u]=l))}if(c)for(const u of e.refiner(t,a))c=!1,yield[u,void 0];c&&(yield[void 0,t])}class Ae{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>Se(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Se(i(t,e),e,this,t):()=>[]}assert(t){return Te(t,this)}create(t){return Ie(t,this)}is(t){return Oe(t,this)}mask(t){return function(t,e){const n=Ce(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e={}){return Ce(t,this,e)}}function Te(t,e){const n=Ce(t,e);if(n[0])throw n[0]}function Ie(t,e){const n=Ce(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function Oe(t,e){return!Ce(t,e)[0]}function Ce(t,e,n={}){const r=Ee(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new be(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function Me(t,e){return new Ae({type:t,schema:null,validator:e})}function Pe(t){return new Ae({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+ke(t)})}function Re(){return Me("boolean",(t=>"boolean"===typeof t))}function Be(t){return Me("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+ke(e)))}function Ne(t){const e=ke(t),n=typeof t;return new Ae({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+ke(n)})}function Le(){return Me("never",(()=>!1))}function je(t){return new Ae({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function De(){return Me("number",(t=>"number"===typeof t&&!isNaN(t)||"Expected a number, but received: "+ke(t)))}function Ue(t){return new Ae({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function ze(t,e){return new Ae({type:"record",schema:null,*entries(n){if(_e(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>_e(t)||"Expected an object, but received: "+ke(t)})}function Fe(){return Me("string",(t=>"string"===typeof t||"Expected a string, but received: "+ke(t)))}function qe(t){const e=Le();return new Ae({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+ke(t)})}function Ve(t){const e=Object.keys(t);return new Ae({type:"type",schema:t,*entries(n){if(_e(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>_e(t)||"Expected an object, but received: "+ke(t)})}function We(t){const e=t.map((t=>t.type)).join(" | ");return new Ae({type:"union",schema:null,validator(n,r){const i=[];for(const e of t){const[...t]=Ee(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+ke(n),...i]}})}function He(){return Me("unknown",(()=>!0))}function Ke(t,e,n){return new Ae({...t,coercer:(r,i)=>Oe(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var $e=n(1198),Ge=n.n($e),Ze=n(6855),Ye=n(9062);const[Je,Xe,Qe]=[[],[],[]],tn=BigInt(0),en=BigInt(1),nn=BigInt(2),rn=BigInt(7),on=BigInt(256),sn=BigInt(113);for(let Ls=0,js=en,Ds=1,Us=0;Ls<24;Ls++){[Ds,Us]=[Us,(2*Ds+3*Us)%5],Je.push(2*(5*Us+Ds)),Xe.push((Ls+1)*(Ls+2)/2%64);let t=tn;for(let e=0;e<7;e++)js=(js<<en^(js>>rn)*sn)%on,js&nn&&(t^=en<<(en<<BigInt(e))-en);Qe.push(t)}const[an,cn]=S(Qe,!0),un=(t,e,n)=>n>32?T(t,e,n):E(t,e,n),ln=(t,e,n)=>n>32?I(t,e,n):A(t,e,n);class hn extends y{constructor(t,e,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,o(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let r=0;r<10;r++)n[r]=t[r]^t[r+10]^t[r+20]^t[r+30]^t[r+40];for(let r=0;r<10;r+=2){const e=(r+8)%10,i=(r+2)%10,o=n[i],s=n[i+1],a=un(o,s,1)^n[e],c=ln(o,s,1)^n[e+1];for(let n=0;n<50;n+=10)t[r+n]^=a,t[r+n+1]^=c}let e=t[2],i=t[3];for(let n=0;n<24;n++){const r=Xe[n],o=un(e,i,r),s=ln(e,i,r),a=Je[n];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let r=0;r<50;r+=10){for(let e=0;e<10;e++)n[e]=t[r+e];for(let e=0;e<10;e++)t[r+e]^=~n[(e+2)%10]&n[(e+4)%10]}t[0]^=an[r],t[1]^=cn[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){c(this);const{blockLen:e,state:n}=this,r=(t=m(t)).length;for(let i=0;i<r;){const o=Math.min(e-this.pos,r-i);for(let e=0;e<o;e++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,0!==(128&e)&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){c(this,!1),s(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return o(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(u(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new hn(e,n,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const dn=(t,e,n)=>v((()=>new hn(e,t,n))),fn=dn(1,136,32);class pn extends y{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,a(t);const n=m(e);if(this.iHash=t.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return c(this),this.iHash.update(t),this}digestInto(t){c(this),s(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mn=(t,e,n)=>new pn(t,e).update(n).digest();mn.create=(t,e)=>new pn(t,e);const{bytesToNumberBE:gn,hexToBytes:yn}=r,vn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=vn;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(128&r[0])throw new e("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:gn(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=vn,n="string"===typeof t?yn(t):t;if(!U(n))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=vn._parseInt(n.subarray(2)),{d:s,l:a}=vn._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,n=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},wn=BigInt(0),bn=BigInt(1),_n=(BigInt(2),BigInt(3));BigInt(4);function kn(t){const e=function(t){const e=Lt(t);mt(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:n}=e,r=e.toBytes||((t,e,r)=>{const i=e.toAffine();return it(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}});function o(t){const{a:r,b:i}=e,o=n.sqr(t),s=n.mul(o,t);return n.add(n.add(s,n.mul(t,r)),i)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(t){return"bigint"===typeof t&&wn<t&&t<e.n}function a(t){if(!s(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(t){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=e;if(n&&"bigint"!==typeof t){if(U(t)&&(t=F(t)),"string"!==typeof t||!n.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*r,"0")}let s;try{s="bigint"===typeof t?t:X(rt("private key",t,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof t}`)}return i&&(s=xt(s,o)),a(s),s}const u=new Map;function l(t){if(!(t instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(t,e,r){if(this.px=t,this.py=e,this.pz=r,null==t||!n.isValid(t))throw new Error("x required");if(null==e||!n.isValid(e))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof h)throw new Error("projective point not allowed");const i=t=>n.eql(t,n.ZERO);return i(e)&&i(r)?h.ZERO:new h(e,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=n.invertBatch(t.map((t=>t.pz)));return t.map(((t,n)=>t.toAffine(e[n]))).map(h.fromAffine)}static fromHex(t){const e=h.fromAffine(i(rt("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(c(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:r}=this.toAffine();if(!n.isValid(t)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(t);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){l(t);const{px:e,py:r,pz:i}=this,{px:o,py:s,pz:a}=t,c=n.eql(n.mul(e,a),n.mul(o,i)),u=n.eql(n.mul(r,a),n.mul(s,i));return c&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:t,b:r}=e,i=n.mul(r,_n),{px:o,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),p=n.mul(a,a),m=n.mul(o,s);return m=n.add(m,m),l=n.mul(o,a),l=n.add(l,l),c=n.mul(t,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(i,l),p=n.mul(t,p),m=n.sub(d,p),m=n.mul(t,m),m=n.add(m,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,m),u=n.add(u,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,m),c=n.sub(c,d),l=n.mul(p,f),l=n.add(l,l),l=n.add(l,l),new h(c,u,l)}add(t){l(t);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:c}=t;let u=n.ZERO,d=n.ZERO,f=n.ZERO;const p=e.a,m=n.mul(e.b,_n);let g=n.mul(r,s),y=n.mul(i,a),v=n.mul(o,c),w=n.add(r,i),b=n.add(s,a);w=n.mul(w,b),b=n.add(g,y),w=n.sub(w,b),b=n.add(r,o);let _=n.add(s,c);return b=n.mul(b,_),_=n.add(g,v),b=n.sub(b,_),_=n.add(i,o),u=n.add(a,c),_=n.mul(_,u),u=n.add(y,v),_=n.sub(_,u),f=n.mul(p,b),u=n.mul(m,v),f=n.add(u,f),u=n.sub(y,f),f=n.add(y,f),d=n.mul(u,f),y=n.add(g,g),y=n.add(y,g),v=n.mul(p,v),b=n.mul(m,b),y=n.add(y,v),v=n.sub(g,v),v=n.mul(p,v),b=n.add(b,v),g=n.mul(y,b),d=n.add(d,g),g=n.mul(_,b),u=n.mul(w,u),u=n.sub(u,g),g=n.mul(w,y),f=n.mul(_,f),f=n.add(f,g),new h(u,d,f)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return f.wNAFCached(this,u,t,(t=>{const e=n.invertBatch(t.map((t=>t.pz)));return t.map(((t,n)=>t.toAffine(e[n]))).map(h.fromAffine)}))}multiplyUnsafe(t){const r=h.ZERO;if(t===wn)return r;if(a(t),t===bn)return this;const{endo:i}=e;if(!i)return f.unsafeLadder(this,t);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(t),l=r,d=r,p=this;for(;s>wn||u>wn;)s&bn&&(l=l.add(p)),u&bn&&(d=d.add(p)),p=p.double(),s>>=bn,u>>=bn;return o&&(l=l.negate()),c&&(d=d.negate()),d=new h(n.mul(d.px,i.beta),d.py,d.pz),l.add(d)}multiply(t){a(t);let r,i,o=t;const{endo:s}=e;if(s){const{k1neg:t,k1:e,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:l}=this.wNAF(e),{p:d,f:p}=this.wNAF(c);u=f.constTimeNegate(t,u),d=f.constTimeNegate(a,d),d=new h(n.mul(d.px,s.beta),d.py,d.pz),r=u.add(d),i=l.add(p)}else{const{p:t,f:e}=this.wNAF(o);r=t,i=e}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(t,e,n){const r=h.BASE,i=(t,e)=>e!==wn&&e!==bn&&t.equals(r)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,n));return o.is0()?void 0:o}toAffine(t){const{px:e,py:r,pz:i}=this,o=this.is0();null==t&&(t=o?n.ONE:n.inv(i));const s=n.mul(e,t),a=n.mul(r,t),c=n.mul(i,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:t,isTorsionFree:n}=e;if(t===bn)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:n}=e;return t===bn?this:n?n(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),r(h,this,t)}toHex(t=!0){return F(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,f=Nt(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function xn(t){const e=function(t){const e=Lt(t);return mt(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(t){return xt(t,r)}function a(t){return At(t,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=kn({...e,toBytes(t,e,r){const i=e.toAffine(),o=n.toBytes(i.x),s=it;return r?s(Uint8Array.from([e.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(t){const e=t.length,r=t[0],s=t.subarray(1);if(e!==i||2!==r&&3!==r){if(e===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const t=X(s);if(!(wn<(a=t)&&a<n.ORDER))throw new Error("Point is not on curve");const e=l(t);let i=n.sqrt(e);return 1===(1&r)!==((i&bn)===bn)&&(i=n.neg(i)),{x:t,y:i}}var a}}),d=t=>F(tt(t,e.nByteLength));function f(t){return t>r>>bn}const p=(t,e,n)=>X(t.slice(e,n));class m{constructor(t,e,n){this.r=t,this.s=e,this.recovery=n,this.assertValidity()}static fromCompact(t){const n=e.nByteLength;return t=rt("compactSignature",t,2*n),new m(p(t,0,n),p(t,n,2*n))}static fromDER(t){const{r:e,s:n}=vn.toSig(rt("DER",t));return new m(e,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new m(this.r,this.s,t)}recoverPublicKey(t){const{r:r,s:i,recovery:o}=this,u=w(rt("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?r+e.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&o)?"02":"03",f=c.fromHex(h+d(l)),p=a(l),m=s(-u*p),g=s(i*p),y=c.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return J(this.toDERHex())}toDERHex(){return vn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return J(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(t){try{return u(t),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=Pt(e.n);return function(t,e,n=!1){const r=t.length,i=Mt(e),o=Pt(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=xt(n?X(t):Q(t),e-yt)+yt;return n?et(s,i):tt(s,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=U(t),n="string"===typeof t,r=(e||n)&&t.length;return e?r===i||r===o:n?r===2*i||r===2*o:t instanceof c}const v=e.bits2int||function(t){const n=X(t),r=8*t.length-e.nBitLength;return r>0?n>>BigInt(r):n},w=e.bits2int_modN||function(t){return s(v(t))},b=lt(e.nBitLength);function _(t){if("bigint"!==typeof t)throw new Error("bigint expected");if(!(wn<=t&&t<b))throw new Error(`bigint expected < 2^${e.nBitLength}`);return tt(t,e.nByteLength)}function k(t,r,i=x){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=e;let{lowS:d,prehash:p,extraEntropy:g}=i;null==d&&(d=!0),t=rt("msgHash",t),p&&(t=rt("prehashed msgHash",o(t)));const y=w(t),b=u(r),k=[_(b),_(y)];if(null!=g){const t=!0===g?l(n.BYTES):g;k.push(rt("extraEntropy",t))}const S=it(...k),E=y;return{seed:S,k2sig:function(t){const e=v(t);if(!h(e))return;const n=a(e),r=c.BASE.multiply(e).toAffine(),i=s(r.x);if(i===wn)return;const o=s(n*s(E+i*b));if(o===wn)return;let u=(r.x===i?0:2)|Number(r.y&bn),l=o;return d&&f(o)&&(l=function(t){return f(t)?s(-t):t}(o),u^=1),new m(i,l,u)}}}const x={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,n=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return c.fromHex(e).multiply(u(t)).toRawBytes(n)},sign:function(t,n,r=x){const{seed:i,k2sig:o}=k(t,n,r),s=e;return ft(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(t,n,r,i=S){const o=t;if(n=rt("msgHash",n),r=rt("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=i;let h,d;try{if("string"===typeof o||U(o))try{h=m.fromDER(o)}catch(k){if(!(k instanceof vn.Err))throw k;h=m.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:t,s:e}=o;h=new m(t,e)}}d=c.fromHex(r)}catch(x){if("PARSE"===x.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;l&&(n=e.hash(n));const{r:f,s:p}=h,g=w(n),y=a(p),v=s(g*y),b=s(f*y),_=c.BASE.multiplyAndAddUnsafe(d,v,b)?.toAffine();return!!_&&s(_.x)===f},ProjectivePoint:c,Signature:m,utils:g}}function Sn(t){return{hash:t,hmac:(e,...n)=>mn(t,e,g(...n)),randomBytes:w}}const En=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),An=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tn=BigInt(1),In=BigInt(2),On=(t,e)=>(t+e/In)/e;function Cn(t){const e=En,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,h=Et(l,n,e)*l%e,d=Et(h,n,e)*l%e,f=Et(d,In,e)*u%e,p=Et(f,i,e)*f%e,m=Et(p,o,e)*p%e,g=Et(m,a,e)*m%e,y=Et(g,c,e)*g%e,v=Et(y,a,e)*m%e,w=Et(v,n,e)*l%e,b=Et(w,s,e)*p%e,_=Et(b,r,e)*u%e,k=Et(_,In,e);if(!Mn.eql(Mn.sqr(k),t))throw new Error("Cannot find square root");return k}const Mn=Ct(En,void 0,void 0,{sqrt:Cn}),Pn=function(t,e){const n=e=>xn({...t,...Sn(e)});return Object.freeze({...n(e),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Mn,n:An,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=An,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=On(o*t,e),c=On(-r*t,e);let u=xt(t-a*n-c*i,e),l=xt(-a*r-c*o,e);const h=u>s,d=l>s;if(h&&(u=e-u),d&&(l=e-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:d,k2:l}}}},ge);BigInt(0);Pn.ProjectivePoint;const Rn=re.utils.randomPrivateKey,Bn=()=>{const t=re.utils.randomPrivateKey(),e=Nn(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Nn=re.getPublicKey;function Ln(t){try{return re.ExtendedPoint.fromHex(t),!0}catch{return!1}}const jn=(t,e)=>re.sign(t,e.slice(0,32)),Dn=re.verify,Un=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class zn{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,ye.serialize)(qn,this))}static decode(t){return(0,ye.deserialize)(qn,this,t)}static decodeUnchecked(t){return(0,ye.deserializeUnchecked)(qn,this,t)}}class Fn extends zn{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const qn=new Map;var Vn;let Wn;const Hn=32,Kn=32;let $n=1;Wn=Symbol.toStringTag;class Gn extends zn{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"===typeof t){const e=ue().decode(t);if(e.length!=Kn)throw new Error("Invalid public key input");this._bn=new(ae())(e)}else this._bn=new(ae())(t);if(this._bn.byteLength()>Kn)throw new Error("Invalid public key input")}}static unique(){const t=new Gn($n);return $n+=1,new Gn(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ue().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===Kn)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Wn](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),n.toBuffer()]),o=ge(r);return new Gn(o)}static createProgramAddressSync(t,e){let n=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>Hn)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,Un(t)])})),n=i.Buffer.concat([n,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const r=ge(n);if(Ln(r))throw new Error("Invalid seeds, address must fall off the curve");return new Gn(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const o=t.concat(i.Buffer.from([r]));n=this.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return Ln(new Gn(t).toBytes())}}Vn=Gn,Gn.default=new Vn("11111111111111111111111111111111"),qn.set(Gn,{kind:"struct",fields:[["_bn","u256"]]});class Zn{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=Un(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=Un(Rn()),this._publicKey=Un(Nn(this._secretKey))}get publicKey(){return new Gn(this._publicKey)}get secretKey(){return i.Buffer.concat([this._secretKey,this._publicKey],64)}}const Yn=new Gn("BPFLoader1111111111111111111111111111111111"),Jn=1232,Xn=127,Qn=64;class tr extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(tr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class er extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(er.prototype,"name",{value:"TransactionExpiredTimeoutError"});class nr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(nr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class rr{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,n)=>{e.set(t.toBase58(),n)}));const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map((t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map((t=>n(t.pubkey))),data:t.data})))}}const ir=(t="publicKey")=>ve.Ik(32,t),or=(t="signature")=>ve.Ik(64,t),sr=(t="string")=>{const e=ve.n_([ve.Jq("length"),ve.Jq("lengthPadding"),ve.Ik(ve.cv(ve.Jq(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(t,e)=>n(t,e).chars.toString(),o.encode=(t,e,n)=>{const o={chars:i.Buffer.from(t,"utf8")};return r(o,e,n)},o.alloc=t=>ve.Jq().span+ve.Jq().span+i.Buffer.from(t,"utf8").length,o};function ar(t,e){const n=t=>{if(t.span>=0)return t.span;if("function"===typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const r=e[t.property];if(Array.isArray(r))return r.length*n(t.elementLayout)}else if("fields"in t)return ar({layout:t},e[t.property]);return 0};let r=0;return t.layout.fields.forEach((t=>{r+=n(t)})),r}function cr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,0===(128&r))break}return e}function ur(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function lr(t,e){if(!t)throw new Error(e||"Assertion failed")}class hr{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){r(o.programId).isInvoked=!0;for(const t of o.keys){const e=r(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new hr(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];lr(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),n=t.filter((([,t])=>t.isSigner&&!t.isWritable)),r=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{lr(e.length>0,"Expected at least one writable signer key");const[t]=e[0];lr(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new Gn(t))),...n.map((([t])=>new Gn(t))),...r.map((([t])=>new Gn(t))),...i.map((([t])=>new Gn(t)))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new Gn(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(lr(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}class dr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new Gn(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ue().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new rr(this.staticAccountKeys)}static compile(t){const e=hr.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new rr(r).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:ue().encode(t.data)})));return new dr({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];ur(e,t);const n=this.instructions.map((t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(ue().decode(t.data));let o=[];ur(o,e.length);let s=[];return ur(s,r.length),{programIdIndex:n,keyIndicesCount:i.Buffer.from(o),keyIndices:e,dataLength:i.Buffer.from(s),data:r}}));let r=[];ur(r,n.length);let o=i.Buffer.alloc(Jn);i.Buffer.from(r).copy(o);let s=r.length;n.forEach((t=>{const e=ve.n_([ve.u8("programIdIndex"),ve.Ik(t.keyIndicesCount.length,"keyIndicesCount"),ve.A9(ve.u8("keyIndex"),t.keyIndices.length,"keyIndices"),ve.Ik(t.dataLength.length,"dataLength"),ve.A9(ve.u8("userdatum"),t.data.length,"data")]).encode(t,o,s);s+=e})),o=o.slice(0,s);const a=ve.n_([ve.Ik(1,"numRequiredSignatures"),ve.Ik(1,"numReadonlySignedAccounts"),ve.Ik(1,"numReadonlyUnsignedAccounts"),ve.Ik(e.length,"keyCount"),ve.A9(ir("key"),t,"keys"),ir("recentBlockhash")]),c={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>Un(t.toBytes()))),recentBlockhash:ue().decode(this.recentBlockhash)};let u=i.Buffer.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&Xn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=e.shift(),o=e.shift(),s=cr(e);let a=[];for(let d=0;d<s;d++){const t=e.slice(0,Kn);e=e.slice(Kn),a.push(new Gn(i.Buffer.from(t)))}const c=e.slice(0,Kn);e=e.slice(Kn);const u=cr(e);let l=[];for(let d=0;d<u;d++){const t=e.shift(),n=cr(e),r=e.slice(0,n);e=e.slice(n);const o=cr(e),s=e.slice(0,o),a=ue().encode(i.Buffer.from(s));e=e.slice(o),l.push({programIdIndex:t,accounts:r,data:a})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:o},recentBlockhash:ue().encode(i.Buffer.from(c)),accountKeys:a,instructions:l};return new dr(h)}}class fr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new rr(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){return t-n<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0)}if(t>=this.header.numRequiredSignatures){return t-e<n-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=t.find((t=>t.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(r.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(r.state.addresses[t])}}return e}static compile(t){const e=hr.compile(t.instructions,t.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const c of i){const t=e.extractTableLookup(c);if(void 0!==t){const[e,{writable:i,readonly:o}]=t;n.push(e),r.writable.push(...i),r.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new rr(s,r).compileInstructions(t.instructions);return new fr({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();ur(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();ur(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();ur(i,this.addressTableLookups.length);const o=ve.n_([ve.u8("prefix"),ve.n_([ve.u8("numRequiredSignatures"),ve.u8("numReadonlySignedAccounts"),ve.u8("numReadonlyUnsignedAccounts")],"header"),ve.Ik(t.length,"staticAccountKeysLength"),ve.A9(ir(),this.staticAccountKeys.length,"staticAccountKeys"),ir("recentBlockhash"),ve.Ik(n.length,"instructionsLength"),ve.Ik(e.length,"serializedInstructions"),ve.Ik(i.length,"addressTableLookupsLength"),ve.Ik(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(Jn),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:ue().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(Jn);for(const n of this.compiledInstructions){const r=Array();ur(r,n.accountKeyIndexes.length);const i=Array();ur(i,n.data.length);t+=ve.n_([ve.u8("programIdIndex"),ve.Ik(r.length,"encodedAccountKeyIndexesLength"),ve.A9(ve.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),ve.Ik(i.length,"encodedDataLength"),ve.Ik(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Jn);for(const n of this.addressTableLookups){const r=Array();ur(r,n.writableIndexes.length);const i=Array();ur(i,n.readonlyIndexes.length);t+=ve.n_([ir("accountKey"),ve.Ik(r.length,"encodedWritableIndexesLength"),ve.A9(ve.u8(),n.writableIndexes.length,"writableIndexes"),ve.Ik(i.length,"encodedReadonlyIndexesLength"),ve.A9(ve.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),r=n&Xn;lr(n!==r,"Expected versioned message but received legacy message");lr(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},o=[],s=cr(e);for(let d=0;d<s;d++)o.push(new Gn(e.splice(0,Kn)));const a=ue().encode(e.splice(0,Kn)),c=cr(e),u=[];for(let d=0;d<c;d++){const t=e.shift(),n=cr(e),r=e.splice(0,n),i=cr(e),o=new Uint8Array(e.splice(0,i));u.push({programIdIndex:t,accountKeyIndexes:r,data:o})}const l=cr(e),h=[];for(let d=0;d<l;d++){const t=new Gn(e.splice(0,Kn)),n=cr(e),r=e.splice(0,n),i=cr(e),o=e.splice(0,i);h.push({accountKey:t,writableIndexes:r,readonlyIndexes:o})}return new fr({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:h})}}const pr={deserializeMessageVersion(t){const e=t[0],n=e&Xn;return n===e?"legacy":n},deserialize:t=>{const e=pr.deserializeMessageVersion(t);if("legacy"===e)return dr.from(t);if(0===e)return fr.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let mr=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const gr=i.Buffer.alloc(Qn).fill(0);class yr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class vr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new yr(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<e.length;p++)if(void 0===e[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const r=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();r.includes(e)||r.push(e)})),r.forEach((t=>{i.push({pubkey:new Gn(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),n=o.findIndex((t=>t.pubkey.toString()===e));n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((t=>t.pubkey.equals(n)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(p.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],h=[];o.forEach((({pubkey:t,isSigner:e,isWritable:n})=>{e?(l.push(t.toString()),a+=1,n||(c+=1)):(h.push(t.toString()),n||(u+=1))}));const d=l.concat(h),f=e.map((t=>{const{data:e,programId:n}=t;return{programIdIndex:d.indexOf(n.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:ue().encode(e)}}));return f.forEach((t=>{lr(t.programIdIndex>=0),t.accounts.forEach((t=>lr(t>=0)))})),new dr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,n)=>e[n].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),n.push(i))}this.signatures=n.map((t=>({signature:null,publicKey:t.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),n.push(i))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach((t=>{const e=jn(n,t.secretKey);this._addSignature(t.publicKey,Un(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){lr(64===e.length);const n=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=i.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?e&&(n.missing||=[]).push(i):Dn(r,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n){const t=this._getMessageSignednessErrors(r,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];ur(n,e.length);const r=n.length+64*e.length+t.length,o=i.Buffer.alloc(r);return lr(e.length<256),i.Buffer.from(n).copy(o,0),e.forEach((({signature:t},e)=>{null!==t&&(lr(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(o,n.length+64*e))})),t.copy(o,n.length+64*e.length),lr(o.length<=Jn,`Transaction too large: ${o.length} > ${Jn}`),o}get keys(){return lr(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return lr(1===this.instructions.length),this.instructions[0].programId}get data(){return lr(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=cr(e);let r=[];for(let o=0;o<n;o++){const t=e.slice(0,Qn);e=e.slice(Qn),r.push(ue().encode(i.Buffer.from(t)))}return vr.populate(dr.from(e),r)}static populate(t,e=[]){const n=new vr;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach(((e,r)=>{const i={signature:e==ue().encode(gr)?null:ue().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((t=>t.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new yr({keys:r,programId:t.accountKeys[e.programIdIndex],data:ue().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}class wr{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:n,compiledInstructions:r,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;lr(c>0,"Message header is invalid");const u=t.staticAccountKeys.length-o-a;lr(u>=0,"Message header is invalid");const l=t.getAccountKeys(e),h=l.get(0);if(void 0===h)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const f of r){const t=[];for(const r of f.accountKeyIndexes){const e=l.get(r);if(void 0===e)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<c:r<l.staticAccountKeys.length?r-o<u:r-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:r<n.numRequiredSignatures,isWritable:i})}const e=l.get(f.programIdIndex);if(void 0===e)throw new Error(`Failed to find program id for program id index ${f.programIdIndex}`);d.push(new yr({programId:e,data:Un(f.data),keys:t}))}return new wr({payerKey:h,instructions:d,recentBlockhash:i})}compileToLegacyMessage(){return dr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return fr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class br{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)lr(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(Qn));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();ur(e,this.signatures.length);const n=ve.n_([ve.Ik(e.length,"encodedSignaturesLength"),ve.A9(or(),this.signatures.length,"signatures"),ve.Ik(t.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},r);return r.slice(0,i)}static deserialize(t){let e=[...t];const n=[],r=cr(e);for(let o=0;o<r;o++)n.push(new Uint8Array(e.splice(0,Qn)));const i=pr.deserialize(new Uint8Array(e));return new br(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of t){const t=n.findIndex((t=>t.equals(r.publicKey)));lr(t>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[t]=jn(e,r.secretKey)}}addSignature(t,e){lr(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));lr(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}const _r=new Gn("SysvarC1ock11111111111111111111111111111111"),kr=new Gn("SysvarEpochSchedu1e111111111111111111111111"),xr=new Gn("Sysvar1nstructions1111111111111111111111111"),Sr=new Gn("SysvarRecentB1ockHashes11111111111111111111"),Er=new Gn("SysvarRent111111111111111111111111111111111"),Ar=new Gn("SysvarRewards111111111111111111111111111111"),Tr=new Gn("SysvarS1otHashes111111111111111111111111111"),Ir=new Gn("SysvarS1otHistory11111111111111111111111111"),Or=new Gn("SysvarStakeHistory1111111111111111111111111");async function Cr(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:n}=e.nonceInfo,i=n.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Mr(t){return new Promise((e=>setTimeout(e,t)))}function Pr(t,e){const n=t.layout.span>=0?t.layout.span:ar(t,e),r=i.Buffer.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,r),r}function Rr(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const Br=ve._O("lamportsPerSignature"),Nr=ve.n_([ve.Jq("version"),ve.Jq("state"),ir("authorizedPubkey"),ir("nonce"),ve.n_([Br],"feeCalculator")]),Lr=Nr.span;class jr{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Nr.decode(Un(t),0);return new jr({authorizedPubkey:new Gn(e.authorizedPubkey),nonce:new Gn(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Dr=(Ur=8,t=>{const e=(0,ve.Ik)(Ur,t),{encode:n,decode:r}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),o=e;return o.decode=(t,e)=>{const n=r(t,e);return(0,we.oU)(i.Buffer.from(n))},o.encode=(t,e,r)=>{const i=(0,we.k$)(t,Ur);return n(i,e,r)},o});var Ur;class zr{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=ve.Jq("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(Fr))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:n,programId:r}=Rr(Fr.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new Gn(r)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=Rr(Fr.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:n,programId:r}=Rr(Fr.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new Gn(r)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=Rr(Fr.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,space:r,programId:i}=Rr(Fr.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Gn(e),seed:n,space:r,programId:new Gn(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=Rr(Fr.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new Gn(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,programId:r}=Rr(Fr.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Gn(e),seed:n,programId:new Gn(r)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:n,lamports:r,space:i,programId:o}=Rr(Fr.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new Gn(e),seed:n,lamports:r,space:i,programId:new Gn(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=Rr(Fr.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new Gn(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Rr(Fr.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Rr(Fr.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=Rr(Fr.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new Gn(e)}}static checkProgramId(t){if(!t.equals(qr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Fr=Object.freeze({Create:{index:0,layout:ve.n_([ve.Jq("instruction"),ve.gM("lamports"),ve.gM("space"),ir("programId")])},Assign:{index:1,layout:ve.n_([ve.Jq("instruction"),ir("programId")])},Transfer:{index:2,layout:ve.n_([ve.Jq("instruction"),Dr("lamports")])},CreateWithSeed:{index:3,layout:ve.n_([ve.Jq("instruction"),ir("base"),sr("seed"),ve.gM("lamports"),ve.gM("space"),ir("programId")])},AdvanceNonceAccount:{index:4,layout:ve.n_([ve.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:ve.n_([ve.Jq("instruction"),ve.gM("lamports")])},InitializeNonceAccount:{index:6,layout:ve.n_([ve.Jq("instruction"),ir("authorized")])},AuthorizeNonceAccount:{index:7,layout:ve.n_([ve.Jq("instruction"),ir("authorized")])},Allocate:{index:8,layout:ve.n_([ve.Jq("instruction"),ve.gM("space")])},AllocateWithSeed:{index:9,layout:ve.n_([ve.Jq("instruction"),ir("base"),sr("seed"),ve.gM("space"),ir("programId")])},AssignWithSeed:{index:10,layout:ve.n_([ve.Jq("instruction"),ir("base"),sr("seed"),ir("programId")])},TransferWithSeed:{index:11,layout:ve.n_([ve.Jq("instruction"),Dr("lamports"),sr("seed"),ir("programId")])},UpgradeNonceAccount:{index:12,layout:ve.n_([ve.Jq("instruction")])}});class qr{constructor(){}static createAccount(t){const e=Pr(Fr.Create,{lamports:t.lamports,space:t.space,programId:Un(t.programId.toBuffer())});return new yr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;if("basePubkey"in t){e=Pr(Fr.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Un(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{e=Pr(Fr.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new yr({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){e=Pr(Fr.AssignWithSeed,{base:Un(t.basePubkey.toBuffer()),seed:t.seed,programId:Un(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Pr(Fr.Assign,{programId:Un(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new yr({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Pr(Fr.CreateWithSeed,{base:Un(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Un(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new yr({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new vr;"basePubkey"in t&&"seed"in t?e.add(qr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Lr,programId:this.programId})):e.add(qr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Lr,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=Pr(Fr.InitializeNonceAccount,{authorized:Un(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Sr,isSigner:!1,isWritable:!1},{pubkey:Er,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new yr(n)}static nonceAdvance(t){const e=Pr(Fr.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Sr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new yr(n)}static nonceWithdraw(t){const e=Pr(Fr.WithdrawNonceAccount,{lamports:t.lamports});return new yr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Sr,isSigner:!1,isWritable:!1},{pubkey:Er,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=Pr(Fr.AuthorizeNonceAccount,{authorized:Un(t.newAuthorizedPubkey.toBuffer())});return new yr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;if("basePubkey"in t){e=Pr(Fr.AllocateWithSeed,{base:Un(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Un(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Pr(Fr.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new yr({keys:n,programId:this.programId,data:e})}}qr.programId=new Gn("11111111111111111111111111111111");const Vr=Jn-300;class Wr{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Wr.chunkSize)+1+1)}static async load(t,e,n,r,o){{const i=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new vr,a.add(qr.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(r)||(a=a||new vr,a.add(qr.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<i&&(a=a||new vr,a.add(qr.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:i-s.lamports})))}else a=(new vr).add(qr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:i>0?i:1,space:o.length,programId:r}));null!==a&&await Cr(t,a,[e,n],{commitment:"confirmed"})}const s=ve.n_([ve.Jq("instruction"),ve.Jq("offset"),ve.Jq("bytesLength"),ve.Jq("bytesLengthPadding"),ve.A9(ve.u8("byte"),ve.cv(ve.Jq(),-8),"bytes")]),a=Wr.chunkSize;let c=0,u=o,l=[];for(;u.length>0;){const o=u.slice(0,a),h=i.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},h);const d=(new vr).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:h});if(l.push(Cr(t,d,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Mr(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=ve.n_([ve.Jq("instruction")]),s=i.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new vr).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Er,isSigner:!1,isWritable:!1}],programId:r,data:s}),c="processed",u=await t.sendTransaction(a,[e,n],{preflightCommitment:c}),{context:l,value:h}=await t.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:c})>l.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}Wr.chunkSize=Vr;const Hr=new Gn("BPFLoader2111111111111111111111111111111111");class Kr{static getMinNumSignatures(t){return Wr.getMinNumSignatures(t)}static load(t,e,n,r,i){return Wr.load(t,e,n,i,r)}}function $r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gr=Object.prototype.toString,Zr=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Yr(t,e){var n,r,i,o,s,a,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"===typeof t.toJSON)return Yr(t.toJSON(),e);if("[object Array]"===(c=Gr.call(t))){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Yr(t[n],!0)+",";return r>-1&&(i+=Yr(t[n],!0)),i+"]"}if("[object Object]"===c){for(r=(o=Zr(t).sort()).length,i="",n=0;n<r;)void 0!==(a=Yr(t[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var Jr=$r((function(t){var e=Yr(t,!1);if(void 0!==e)return""+e}));function Xr(t){let e=0;for(;t>1;)t/=2,e++;return e}class Qr{constructor(t,e,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Xr(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-Xr(32)-1;return[n,t-(this.getSlotsInEpoch(n)-32)]}{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Xr(32)):this.slotsPerEpoch}}class ti extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}const ei={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ni extends Error{constructor({code:t,message:e,data:n},r){super(null!=r?`${r}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var ri=globalThis.fetch;class ii extends Ze.Z{constructor(t,e,n){super((t=>{const n=(0,Ye.Z)(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in n?n.socket:n,n}),t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class oi{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}(si,t),n=t.length-56;lr(n>=0,"lookup table is invalid"),lr(n%32===0,"lookup table is invalid");const r=n/32,{addresses:i}=ve.n_([ve.A9(ir(),r,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new Gn(e.authority[0]):void 0,addresses:i.map((t=>new Gn(t)))}}}const si={index:1,layout:ve.n_([ve.Jq("typeIndex"),Dr("deactivationSlot"),ve._O("lastExtendedSlot"),ve.u8("lastExtendedStartIndex"),ve.u8(),ve.A9(ir(),ve.cv(ve.u8(),-1),"authority")])},ai=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const ci=Ke(Be(Gn),Fe(),(t=>new Gn(t))),ui=qe([Fe(),Ne("base64")]),li=Ke(Be(i.Buffer),ui,(t=>i.Buffer.from(t[0],"base64"))),hi=3e4;function di(t){let e,n;if("string"===typeof t)e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function fi(t){return We([Ve({jsonrpc:Ne("2.0"),id:Fe(),result:t}),Ve({jsonrpc:Ne("2.0"),id:Fe(),error:Ve({code:He(),message:Fe(),data:Ue(Me("any",(()=>!0)))})})])}const pi=fi(He());function mi(t){return Ke(fi(t),pi,(e=>"error"in e?e:{...e,result:Ie(e.result,t)}))}function gi(t){return mi(Ve({context:Ve({slot:De()}),value:t}))}function yi(t){return Ve({context:Ve({slot:De()}),value:t})}function vi(t,e){return 0===t?new fr({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new Gn(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ue().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new dr(e)}const wi=Ve({foundation:De(),foundationTerm:De(),initial:De(),taper:De(),terminal:De()}),bi=mi(Pe(je(Ve({epoch:De(),effectiveSlot:De(),amount:De(),postBalance:De(),commission:Ue(je(De()))})))),_i=Pe(Ve({slot:De(),prioritizationFee:De()})),ki=Ve({total:De(),validator:De(),foundation:De(),epoch:De()}),xi=Ve({epoch:De(),slotIndex:De(),slotsInEpoch:De(),absoluteSlot:De(),blockHeight:Ue(De()),transactionCount:Ue(De())}),Si=Ve({slotsPerEpoch:De(),leaderScheduleSlotOffset:De(),warmup:Re(),firstNormalEpoch:De(),firstNormalSlot:De()}),Ei=ze(Fe(),Pe(De())),Ai=je(We([Ve({}),Fe()])),Ti=Ve({err:Ai}),Ii=Ne("receivedSignature"),Oi=Ve({"solana-core":Fe(),"feature-set":Ue(De())}),Ci=gi(Ve({err:je(We([Ve({}),Fe()])),logs:je(Pe(Fe())),accounts:Ue(je(Pe(je(Ve({executable:Re(),owner:Fe(),lamports:De(),data:Pe(Fe()),rentEpoch:Ue(De())}))))),unitsConsumed:Ue(De()),returnData:Ue(je(Ve({programId:Fe(),data:qe([Fe(),Ne("base64")])})))})),Mi=gi(Ve({byIdentity:ze(Fe(),Pe(De())),range:Ve({firstSlot:De(),lastSlot:De()})}));const Pi=mi(wi),Ri=mi(ki),Bi=mi(_i),Ni=mi(xi),Li=mi(Si),ji=mi(Ei),Di=mi(De()),Ui=gi(Ve({total:De(),circulating:De(),nonCirculating:De(),nonCirculatingAccounts:Pe(ci)})),zi=Ve({amount:Fe(),uiAmount:je(De()),decimals:De(),uiAmountString:Ue(Fe())}),Fi=gi(Pe(Ve({address:ci,amount:Fe(),uiAmount:je(De()),decimals:De(),uiAmountString:Ue(Fe())}))),qi=gi(Pe(Ve({pubkey:ci,account:Ve({executable:Re(),owner:ci,lamports:De(),data:li,rentEpoch:De()})}))),Vi=Ve({program:Fe(),parsed:He(),space:De()}),Wi=gi(Pe(Ve({pubkey:ci,account:Ve({executable:Re(),owner:ci,lamports:De(),data:Vi,rentEpoch:De()})}))),Hi=gi(Pe(Ve({lamports:De(),address:ci}))),Ki=Ve({executable:Re(),owner:ci,lamports:De(),data:li,rentEpoch:De()}),$i=Ve({pubkey:ci,account:Ki}),Gi=Ke(We([Be(i.Buffer),Vi]),We([ui,Vi]),(t=>Array.isArray(t)?Ie(t,li):t)),Zi=Ve({executable:Re(),owner:ci,lamports:De(),data:Gi,rentEpoch:De()}),Yi=Ve({pubkey:ci,account:Zi}),Ji=Ve({state:We([Ne("active"),Ne("inactive"),Ne("activating"),Ne("deactivating")]),active:De(),inactive:De()}),Xi=mi(Pe(Ve({signature:Fe(),slot:De(),err:Ai,memo:je(Fe()),blockTime:Ue(je(De()))}))),Qi=mi(Pe(Ve({signature:Fe(),slot:De(),err:Ai,memo:je(Fe()),blockTime:Ue(je(De()))}))),to=Ve({subscription:De(),result:yi(Ki)}),eo=Ve({pubkey:ci,account:Ki}),no=Ve({subscription:De(),result:yi(eo)}),ro=Ve({parent:De(),slot:De(),root:De()}),io=Ve({subscription:De(),result:ro}),oo=We([Ve({type:We([Ne("firstShredReceived"),Ne("completed"),Ne("optimisticConfirmation"),Ne("root")]),slot:De(),timestamp:De()}),Ve({type:Ne("createdBank"),parent:De(),slot:De(),timestamp:De()}),Ve({type:Ne("frozen"),slot:De(),timestamp:De(),stats:Ve({numTransactionEntries:De(),numSuccessfulTransactions:De(),numFailedTransactions:De(),maxTransactionsPerEntry:De()})}),Ve({type:Ne("dead"),slot:De(),timestamp:De(),err:Fe()})]),so=Ve({subscription:De(),result:oo}),ao=Ve({subscription:De(),result:yi(We([Ti,Ii]))}),co=Ve({subscription:De(),result:De()}),uo=Ve({pubkey:Fe(),gossip:je(Fe()),tpu:je(Fe()),rpc:je(Fe()),version:je(Fe())}),lo=Ve({votePubkey:Fe(),nodePubkey:Fe(),activatedStake:De(),epochVoteAccount:Re(),epochCredits:Pe(qe([De(),De(),De()])),commission:De(),lastVote:De(),rootSlot:je(De())}),ho=mi(Ve({current:Pe(lo),delinquent:Pe(lo)})),fo=We([Ne("processed"),Ne("confirmed"),Ne("finalized")]),po=Ve({slot:De(),confirmations:je(De()),err:Ai,confirmationStatus:Ue(fo)}),mo=gi(Pe(je(po))),go=mi(De()),yo=Ve({accountKey:ci,writableIndexes:Pe(De()),readonlyIndexes:Pe(De())}),vo=Ve({signatures:Pe(Fe()),message:Ve({accountKeys:Pe(Fe()),header:Ve({numRequiredSignatures:De(),numReadonlySignedAccounts:De(),numReadonlyUnsignedAccounts:De()}),instructions:Pe(Ve({accounts:Pe(De()),data:Fe(),programIdIndex:De()})),recentBlockhash:Fe(),addressTableLookups:Ue(Pe(yo))})}),wo=Ve({pubkey:ci,signer:Re(),writable:Re(),source:Ue(We([Ne("transaction"),Ne("lookupTable")]))}),bo=Ve({accountKeys:Pe(wo),signatures:Pe(Fe())}),_o=Ve({parsed:He(),program:Fe(),programId:ci}),ko=Ve({accounts:Pe(ci),data:Fe(),programId:ci}),xo=Ke(We([ko,_o]),We([Ve({parsed:He(),program:Fe(),programId:Fe()}),Ve({accounts:Pe(Fe()),data:Fe(),programId:Fe()})]),(t=>Ie(t,"accounts"in t?ko:_o))),So=Ve({signatures:Pe(Fe()),message:Ve({accountKeys:Pe(wo),instructions:Pe(xo),recentBlockhash:Fe(),addressTableLookups:Ue(je(Pe(yo)))})}),Eo=Ve({accountIndex:De(),mint:Fe(),owner:Ue(Fe()),uiTokenAmount:zi}),Ao=Ve({writable:Pe(ci),readonly:Pe(ci)}),To=Ve({err:Ai,fee:De(),innerInstructions:Ue(je(Pe(Ve({index:De(),instructions:Pe(Ve({accounts:Pe(De()),data:Fe(),programIdIndex:De()}))})))),preBalances:Pe(De()),postBalances:Pe(De()),logMessages:Ue(je(Pe(Fe()))),preTokenBalances:Ue(je(Pe(Eo))),postTokenBalances:Ue(je(Pe(Eo))),loadedAddresses:Ue(Ao),computeUnitsConsumed:Ue(De())}),Io=Ve({err:Ai,fee:De(),innerInstructions:Ue(je(Pe(Ve({index:De(),instructions:Pe(xo)})))),preBalances:Pe(De()),postBalances:Pe(De()),logMessages:Ue(je(Pe(Fe()))),preTokenBalances:Ue(je(Pe(Eo))),postTokenBalances:Ue(je(Pe(Eo))),loadedAddresses:Ue(Ao),computeUnitsConsumed:Ue(De())}),Oo=We([Ne(0),Ne("legacy")]),Co=Ve({pubkey:Fe(),lamports:De(),postBalance:je(De()),rewardType:je(Fe()),commission:Ue(je(De()))}),Mo=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),transactions:Pe(Ve({transaction:vo,meta:je(To),version:Ue(Oo)})),rewards:Ue(Pe(Co)),blockTime:je(De()),blockHeight:je(De())}))),Po=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),rewards:Ue(Pe(Co)),blockTime:je(De()),blockHeight:je(De())}))),Ro=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),transactions:Pe(Ve({transaction:bo,meta:je(To),version:Ue(Oo)})),rewards:Ue(Pe(Co)),blockTime:je(De()),blockHeight:je(De())}))),Bo=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),transactions:Pe(Ve({transaction:So,meta:je(Io),version:Ue(Oo)})),rewards:Ue(Pe(Co)),blockTime:je(De()),blockHeight:je(De())}))),No=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),transactions:Pe(Ve({transaction:bo,meta:je(Io),version:Ue(Oo)})),rewards:Ue(Pe(Co)),blockTime:je(De()),blockHeight:je(De())}))),Lo=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),rewards:Ue(Pe(Co)),blockTime:je(De()),blockHeight:je(De())}))),jo=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),transactions:Pe(Ve({transaction:vo,meta:je(To)})),rewards:Ue(Pe(Co)),blockTime:je(De())}))),Do=mi(je(Ve({blockhash:Fe(),previousBlockhash:Fe(),parentSlot:De(),signatures:Pe(Fe()),blockTime:je(De())}))),Uo=mi(je(Ve({slot:De(),meta:je(To),blockTime:Ue(je(De())),transaction:vo,version:Ue(Oo)}))),zo=mi(je(Ve({slot:De(),transaction:So,meta:je(Io),blockTime:Ue(je(De())),version:Ue(Oo)}))),Fo=gi(Ve({blockhash:Fe(),feeCalculator:Ve({lamportsPerSignature:De()})})),qo=gi(Ve({blockhash:Fe(),lastValidBlockHeight:De()})),Vo=gi(Re()),Wo=mi(Pe(Ve({slot:De(),numTransactions:De(),numSlots:De(),samplePeriodSecs:De()}))),Ho=gi(je(Ve({feeCalculator:Ve({lamportsPerSignature:De()})}))),Ko=mi(Fe()),$o=mi(Fe()),Go=Ve({err:Ai,logs:Pe(Fe()),signature:Fe()}),Zo=Ve({result:yi(Go),subscription:De()}),Yo={"solana-client":"js/0.0.0-development"};class Jo{constructor(t,e){let n,r,i,o,s,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:n,config:r}=di(e),i=this._buildArgs([],n,void 0,r),o=Jr(i);return t[o]=t[o]??(async()=>{try{const e=Ie(await this._rpcRequest("getBlockHeight",i),mi(De()));if("error"in e)throw new ni(e.error,"failed to get block height information");return e.result}finally{delete t[o]}})(),await t[o]}})(),e&&"string"===typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,r=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,s=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=n||function(t){const e=t.match(ai);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(t),this._rpcClient=function(t,e,n,r,i,o){const s=n||ri;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(t,e)=>{const n=await new Promise(((n,i)=>{try{r(t,e,((t,e)=>n([t,e])))}catch(o){i(o)}}));return await s(...n)}),new(Ge())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Yo)};try{let e,n=5,c=500;for(;e=a?await a(t,o):await s(t,o),429===e.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${c}ms delay...`),await Mr(c),c*=2;const u=await e.text();e.ok?r(null,u):r(new Error(`${e.status} ${e.statusText}: ${u}`))}catch(c){c instanceof Error&&r(c)}}),{})}(t,r,i,o,s,a),this._rpcRequest=function(t){return(e,n)=>new Promise(((r,i)=>{t.request(e,n,((t,e)=>{t?i(t):r(e)}))}))}(this._rpcClient),this._rpcBatchRequest=function(t){return e=>new Promise(((n,r)=>{0===e.length&&n([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?r(t):n(e)}))}))}(this._rpcClient),this._rpcWebSocket=new ii(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgs([t.toBase58()],n,void 0,r),o=Ie(await this._rpcRequest("getBalance",i),gi(De()));if("error"in o)throw new ni(o.error,`failed to get balance for ${t.toBase58()}`);return o.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=Ie(await this._rpcRequest("getBlockTime",[t]),mi(je(De())));if("error"in e)throw new ni(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=Ie(await this._rpcRequest("minimumLedgerSlot",[]),mi(De()));if("error"in t)throw new ni(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=Ie(await this._rpcRequest("getFirstAvailableBlock",[]),Di);if("error"in t)throw new ni(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"===typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const n=Ie(await this._rpcRequest("getSupply",[e]),Ui);if("error"in n)throw new ni(n.error,"failed to get supply");return n.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),r=Ie(await this._rpcRequest("getTokenSupply",n),gi(zi));if("error"in r)throw new ni(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),r=Ie(await this._rpcRequest("getTokenAccountBalance",n),gi(zi));if("error"in r)throw new ni(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(t,e,n){const{commitment:r,config:i}=di(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=Ie(await this._rpcRequest("getTokenAccountsByOwner",s),qi);if("error"in a)throw new ni(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,n){let r=[t.toBase58()];"mint"in e?r.push({mint:e.mint.toBase58()}):r.push({programId:e.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=Ie(await this._rpcRequest("getTokenAccountsByOwner",i),Wi);if("error"in o)throw new ni(o.error,`failed to get token accounts owned by account ${t.toBase58()}`);return o.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],r=Ie(await this._rpcRequest("getLargestAccounts",n),Hi);if("error"in r)throw new ni(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),r=Ie(await this._rpcRequest("getTokenLargestAccounts",n),Fi);if("error"in r)throw new ni(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgs([t.toBase58()],n,"base64",r),o=Ie(await this._rpcRequest("getAccountInfo",i),gi(je(Ki)));if("error"in o)throw new ni(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getParsedAccountInfo(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=Ie(await this._rpcRequest("getAccountInfo",i),gi(je(Zi)));if("error"in o)throw new ni(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:r}=di(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=Ie(await this._rpcRequest("getMultipleAccounts",o),gi(Pe(je(Zi))));if("error"in s)throw new ni(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:r}=di(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],n,"base64",r),s=Ie(await this._rpcRequest("getMultipleAccounts",o),gi(Pe(je(Ki))));if("error"in s)throw new ni(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:r,config:i}=di(e),o=this._buildArgs([t.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=Ie(await this._rpcRequest("getStakeActivation",o),mi(Ji));if("error"in s)throw new ni(s.error,`failed to get Stake Activation ${t.toBase58()}`);return s.result}async getProgramAccounts(t,e){const{commitment:n,config:r}=di(e),{encoding:i,...o}=r||{},s=this._buildArgs([t.toBase58()],n,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=Pe($i),u=!0===o.withContext?Ie(a,gi(c)):Ie(a,mi(c));if("error"in u)throw new ni(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=Ie(await this._rpcRequest("getProgramAccounts",i),mi(Pe(Yi)));if("error"in o)throw new ni(o.error,`failed to get accounts owned by program ${t.toBase58()}`);return o.result}async confirmTransaction(t,e){let n,r;if("string"==typeof t)n=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);n=e.signature}try{r=ue().decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return lr(64===r.length,"signature has invalid length"),"string"===typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,n)=>{null!=t&&(t.aborted?n(t.reason):t.addEventListener("abort",(()=>{n(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((o,s)=>{try{n=this.onSignature(e,((t,e)=>{n=void 0;const r={context:e,value:t};o({__type:mr.PROCESSED,response:r})}),t);const a=new Promise((t=>{null==n?t():r=this._onSubscriptionStateChange(n,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(e);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:mr.PROCESSED,response:{context:r,value:c}})}})()}catch(a){s(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise((e=>{const r=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await r();if(!i){for(;t<=n;){if(await Mr(1e3),i)return;if(t=await r(),i)return}e({__type:mr.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:r}),c=this.getCancellationPromise(e);let u;try{const t=await Promise.race([c,a,o]);if(t.__type!==mr.PROCESSED)throw new tr(r);u=t.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((e=>{let o=i,a=null;const c=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(r,{commitment:t,minContextSlot:n});return a=e.slot,i?.nonce}catch(e){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void e({__type:mr.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Mr(2e3),s)return;if(o=await c(),s)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),l=this.getCancellationPromise(e);let h;try{const e=await Promise.race([l,u,a]);if(e.__type===mr.PROCESSED)h=e.response;else{let r;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??n))){r=t;break}await Mr(400)}if(!r?.value)throw new nr(o);{const e=t||"finalized",{confirmationStatus:n}=r.value;switch(e){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new nr(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new nr(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new nr(o)}h={context:r.context,value:{err:r.value.err}}}}}finally{s=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const r=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>e({__type:mr.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let s;try{const t=await Promise.race([o,r]);if(t.__type!==mr.PROCESSED)throw new er(e,t.timeoutMs/1e3);s=t.response}finally{clearTimeout(n),i()}return s}async getClusterNodes(){const t=Ie(await this._rpcRequest("getClusterNodes",[]),mi(Pe(uo)));if("error"in t)throw new ni(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=Ie(await this._rpcRequest("getVoteAccounts",e),ho);if("error"in n)throw new ni(n.error,"failed to get vote accounts");return n.result}async getSlot(t){const{commitment:e,config:n}=di(t),r=this._buildArgs([],e,void 0,n),i=Ie(await this._rpcRequest("getSlot",r),mi(De()));if("error"in i)throw new ni(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:n}=di(t),r=this._buildArgs([],e,void 0,n),i=Ie(await this._rpcRequest("getSlotLeader",r),mi(Fe()));if("error"in i)throw new ni(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const n=[t,e],r=Ie(await this._rpcRequest("getSlotLeaders",n),mi(Pe(ci)));if("error"in r)throw new ni(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(t,e){const{context:n,value:r}=await this.getSignatureStatuses([t],e);lr(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const r=Ie(await this._rpcRequest("getSignatureStatuses",n),mo);if("error"in r)throw new ni(r.error,"failed to get signature status");return r.result}async getTransactionCount(t){const{commitment:e,config:n}=di(t),r=this._buildArgs([],e,void 0,n),i=Ie(await this._rpcRequest("getTransactionCount",r),mi(De()));if("error"in i)throw new ni(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=Ie(await this._rpcRequest("getInflationGovernor",e),Pi);if("error"in n)throw new ni(n.error,"failed to get inflation");return n.result}async getInflationReward(t,e,n){const{commitment:r,config:i}=di(n),o=this._buildArgs([t.map((t=>t.toBase58()))],r,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=Ie(await this._rpcRequest("getInflationReward",o),bi);if("error"in s)throw new ni(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const t=Ie(await this._rpcRequest("getInflationRate",[]),Ri);if("error"in t)throw new ni(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:n}=di(t),r=this._buildArgs([],e,void 0,n),i=Ie(await this._rpcRequest("getEpochInfo",r),Ni);if("error"in i)throw new ni(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=Ie(await this._rpcRequest("getEpochSchedule",[]),Li);if("error"in t)throw new ni(t.error,"failed to get epoch schedule");const e=t.result;return new Qr(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=Ie(await this._rpcRequest("getLeaderSchedule",[]),ji);if("error"in t)throw new ni(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),r=Ie(await this._rpcRequest("getMinimumBalanceForRentExemption",n),go);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=Ie(await this._rpcRequest("getRecentBlockhash",e),Fo);if("error"in n)throw new ni(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(t){const e=Ie(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Wo);if("error"in e)throw new ni(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),r=Ie(await this._rpcRequest("getFeeCalculatorForBlockhash",n),Ho);if("error"in r)throw new ni(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(t,e){const n=Un(t.serialize()).toString("base64"),r=this._buildArgs([n],e),i=Ie(await this._rpcRequest("getFeeForMessage",r),gi(je(De())));if("error"in i)throw new ni(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),n=e?.length?[e]:[],r=Ie(await this._rpcRequest("getRecentPrioritizationFees",n),Bi);if("error"in r)throw new ni(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=di(t),r=this._buildArgs([],e,void 0,n),i=Ie(await this._rpcRequest("getLatestBlockhash",r),qo);if("error"in i)throw new ni(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgs([t],n,void 0,r),o=Ie(await this._rpcRequest("isBlockhashValid",i),Vo);if("error"in o)throw new ni(o.error,"failed to determine if the blockhash `"+t+"`is valid");return o.result}async getVersion(){const t=Ie(await this._rpcRequest("getVersion",[]),mi(Oi));if("error"in t)throw new ni(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=Ie(await this._rpcRequest("getGenesisHash",[]),mi(Fe()));if("error"in t)throw new ni(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=Ie(o,Ro);if("error"in t)throw t.error;return t.result}case"none":{const t=Ie(o,Po);if("error"in t)throw t.error;return t.result}default:{const t=Ie(o,Mo);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:n})=>({meta:e,transaction:{...t,message:vi(n,t.message)},version:n})))}:null}}}catch(s){throw new ni(s,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=Ie(o,No);if("error"in t)throw t.error;return t.result}case"none":{const t=Ie(o,Lo);if("error"in t)throw t.error;return t.result}default:{const t=Ie(o,Bo);if("error"in t)throw t.error;return t.result}}}catch(s){throw new ni(s,"failed to get block")}}async getBlockProduction(t){let e,n;if("string"===typeof t)n=t;else if(t){const{commitment:r,...i}=t;n=r,e=i}const r=this._buildArgs([],n,"base64",e),i=Ie(await this._rpcRequest("getBlockProduction",r),Mi);if("error"in i)throw new ni(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=Ie(await this._rpcRequest("getTransaction",i),Uo);if("error"in o)throw new ni(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:vi(s.version,s.transaction.message)}}:s}async getParsedTransaction(t,e){const{commitment:n,config:r}=di(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=Ie(await this._rpcRequest("getTransaction",i),zo);if("error"in o)throw new ni(o.error,"failed to get transaction");return o.result}async getParsedTransactions(t,e){const{commitment:n,config:r}=di(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=Ie(t,zo);if("error"in e)throw new ni(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:n,config:r}=di(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=Ie(t,Uo);if("error"in e)throw new ni(e.error,"failed to get transactions");const n=e.result;return n?{...n,transaction:{...n.transaction,message:vi(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=Ie(await this._rpcRequest("getConfirmedBlock",n),jo);if("error"in r)throw new ni(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");const o={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const n=new dr(t.message);return{meta:e,transaction:{...t,message:n}}}))};return{...o,transactions:o.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:vr.populate(t.message,t.signatures)})))}}async getBlocks(t,e,n){const r=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],n),i=Ie(await this._rpcRequest("getBlocks",r),mi(Pe(De())));if("error"in i)throw new ni(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=Ie(await this._rpcRequest("getBlock",n),Do);if("error"in r)throw new ni(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=Ie(await this._rpcRequest("getConfirmedBlock",n),Do);if("error"in r)throw new ni(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=Ie(await this._rpcRequest("getConfirmedTransaction",n),Uo);if("error"in r)throw new ni(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new dr(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:vr.populate(o,s)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),r=Ie(await this._rpcRequest("getConfirmedTransaction",n),zo);if("error"in r)throw new ni(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(t,e){const n=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((t=>{const e=Ie(t,zo);if("error"in e)throw new ni(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(r.until=t.signatures[t.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>o);)try{const t=await this.getConfirmedBlockSignatures(n);t.signatures.length>0&&(r.before=t.signatures[t.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(t,r)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=Ie(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),Xi);if("error"in i)throw new ni(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=Ie(await this._rpcRequest("getSignaturesForAddress",r),Qi);if("error"in i)throw new ni(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=new oi({key:t,state:oi.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=jr.fromAccountData(r.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const n=Ie(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),Ko);if("error"in n)throw new ni(n.error,`airdrop to ${t.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Mr(100);const t=Date.now()-this._blockhashInfo.lastFetch>=hi;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let r=0;r<50;r++){const t=await this.getLatestBlockhash("finalized");if(n!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await Mr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=di(t),r=this._buildArgs([],e,"base64",n),i=Ie(await this._rpcRequest("getStakeMinimumDelegation",r),gi(De()));if("error"in i)throw new ni(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,n){if("message"in t){const r=t.serialize(),o=i.Buffer.from(r).toString("base64");if(Array.isArray(e)||void 0!==n)throw new Error("Invalid arguments");const s=e||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const a=[o,s],c=Ie(await this._rpcRequest("simulateTransaction",a),Ci);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let r;if(t instanceof vr){let e=t;r=new vr,r.feePayer=e.feePayer,r.instructions=t.instructions,r.nonceInfo=e.nonceInfo,r.signatures=e.signatures}else r=vr.populate(t),r._message=r._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(r.nonceInfo&&o)r.sign(...o);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(r.lastValidBlockHeight=e.lastValidBlockHeight,r.recentBlockhash=e.blockhash,!o)break;if(r.sign(...o),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}t=!0}}const s=r._compile(),a=s.serialize(),c=r._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const t=(Array.isArray(n)?n:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}o&&(u.sigVerify=!0);const l=[c,u],h=Ie(await this._rpcRequest("simulateTransaction",l),Ci);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(h.error.message,n)}throw new ti("failed to simulate transaction: "+h.error.message,t)}return h.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const r=e;if(t.nonceInfo)t.sign(...r);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...r),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=Un(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},r=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(n.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(n.minContextSlot=e.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[t,n],s=Ie(await this._rpcRequest("sendTransaction",o),$o);if("error"in s){let t;throw"data"in s.error&&(t=s.error.data.logs),new ti("failed to send transaction: "+s.error.message,t)}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const n=this._subscriptionStateChangeCallbacksByHash[t];n&&n.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const n=this._subscriptionHashByClientSubscriptionId[t];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(e),()=>{r.delete(e),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const n=this._subscriptionsByHash[t];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(t,{...n,state:"subscribing"});const e=await this._rpcWebSocket.call(i,r);this._setSubscription(t,{...n,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,r,o.message),!e())return;this._setSubscription(t,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(t,{...n,state:"unsubscribing"}),this._setSubscription(t,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(o){if(o instanceof Error&&console.error(`${i} error:`,o.message),!e())return;return this._setSubscription(t,{...n,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(t,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==n&&n.forEach((t=>{try{t(...e)}catch(n){console.error(n)}}))}_wsOnAccountNotification(t){const{result:e,subscription:n}=Ie(t,to);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,r=Jr([t.method,e],!0),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const e=this._subscriptionsByHash[r];lr(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const r=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=Ie(t,no);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,r){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const r=this._buildArgs(["object"===typeof t?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=Ie(t,Zo);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=Ie(t,io);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=Ie(t,so);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,r){const i=e||this._commitment;if(i||n||r){let e={};n&&(e.encoding=n),i&&(e.commitment=i),r&&(e=Object.assign(e,r)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,n,r){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,r)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=Ie(t,ao);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const r=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,n)=>{if("status"===t.type){e(t.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(t,e,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],r,void 0,i),s=this._makeSubscription({callback:(t,n)=>{e(t,n);try{this.removeSignatureListener(s)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=Ie(t,co);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Xo{constructor(t){this._keypair=void 0,this._keypair=t??Bn()}static generate(){return new Xo(Bn())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),r=Nn(e);for(let t=0;t<32;t++)if(n[t]!==r[t])throw new Error("provided secretKey is invalid")}return new Xo({publicKey:n,secretKey:t})}static fromSeed(t){const e=Nn(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new Xo({publicKey:e,secretKey:n})}get publicKey(){return new Gn(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Qo=Object.freeze({CreateLookupTable:{index:0,layout:ve.n_([ve.Jq("instruction"),Dr("recentSlot"),ve.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ve.n_([ve.Jq("instruction")])},ExtendLookupTable:{index:2,layout:ve.n_([ve.Jq("instruction"),Dr(),ve.A9(ir(),ve.cv(ve.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ve.n_([ve.Jq("instruction")])},CloseLookupTable:{index:4,layout:ve.n_([ve.Jq("instruction")])}});class ts{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=ve.Jq("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(Qo))if(i.index==e){n=r;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=Rr(Qo.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=Rr(Qo.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new Gn(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(es.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class es{constructor(){}static createLookupTable(t){const[e,n]=Gn.findProgramAddressSync([t.authority.toBuffer(),(0,we.k$)(BigInt(t.recentSlot),8)],this.programId),r=Pr(Qo.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:qr.programId,isSigner:!1,isWritable:!1}];return[new yr({programId:this.programId,keys:i,data:r}),e]}static freezeLookupTable(t){const e=Pr(Qo.FreezeLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new yr({programId:this.programId,keys:n,data:e})}static extendLookupTable(t){const e=Pr(Qo.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&n.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:qr.programId,isSigner:!1,isWritable:!1}),new yr({programId:this.programId,keys:n,data:e})}static deactivateLookupTable(t){const e=Pr(Qo.DeactivateLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new yr({programId:this.programId,keys:n,data:e})}static closeLookupTable(t){const e=Pr(Qo.CloseLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new yr({programId:this.programId,keys:n,data:e})}}es.programId=new Gn("AddressLookupTab1e1111111111111111111111111");class ns{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=ve.u8("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(rs))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:n}=Rr(rs.RequestUnits,t.data);return{units:e,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=Rr(rs.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=Rr(rs.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=Rr(rs.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(is.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const rs=Object.freeze({RequestUnits:{index:0,layout:ve.n_([ve.u8("instruction"),ve.Jq("units"),ve.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:ve.n_([ve.u8("instruction"),ve.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:ve.n_([ve.u8("instruction"),ve.Jq("units")])},SetComputeUnitPrice:{index:3,layout:ve.n_([ve.u8("instruction"),Dr("microLamports")])}});class is{constructor(){}static requestUnits(t){const e=Pr(rs.RequestUnits,t);return new yr({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=Pr(rs.RequestHeapFrame,t);return new yr({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=Pr(rs.SetComputeUnitLimit,t);return new yr({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=Pr(rs.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new yr({keys:[],programId:this.programId,data:e})}}is.programId=new Gn("ComputeBudget111111111111111111111111111111");const os=ve.n_([ve.u8("numSignatures"),ve.u8("padding"),ve.KB("signatureOffset"),ve.KB("signatureInstructionIndex"),ve.KB("publicKeyOffset"),ve.KB("publicKeyInstructionIndex"),ve.KB("messageDataOffset"),ve.KB("messageDataSize"),ve.KB("messageInstructionIndex")]);class ss{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,instructionIndex:o}=t;lr(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),lr(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=os.span,a=s+e.length,c=a+r.length,u=i.Buffer.alloc(c+n.length),l=null==o?65535:o;return os.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:l},u),u.fill(e,s),u.fill(r,a),u.fill(n,c),new yr({keys:[],programId:ss.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;lr(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Xo.fromSecretKey(e),i=t.publicKey.toBytes(),o=jn(n,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}ss.programId=new Gn("Ed25519SigVerify111111111111111111111111111");Pn.utils.isValidPrivateKey;const as=Pn.getPublicKey,cs=ve.n_([ve.u8("numSignatures"),ve.KB("signatureOffset"),ve.u8("signatureInstructionIndex"),ve.KB("ethAddressOffset"),ve.u8("ethAddressInstructionIndex"),ve.KB("messageDataOffset"),ve.KB("messageDataSize"),ve.u8("messageInstructionIndex"),ve.Ik(20,"ethAddress"),ve.Ik(64,"signature"),ve.u8("recoveryId")]);class us{constructor(){}static publicKeyToEthAddress(t){lr(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from(fn(Un(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,recoveryId:i,instructionIndex:o}=t;return us.createInstructionWithEthAddress({ethAddress:us.publicKeyToEthAddress(e),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:r,recoveryId:o,instructionIndex:s=0}=t;let a;a="string"===typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,lr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+r.length+1,l=i.Buffer.alloc(cs.span+n.length);return cs.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:Un(r),ethAddress:Un(a),recoveryId:o},l),l.fill(Un(n),cs.span),new yr({keys:[],programId:us.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;lr(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Un(e),o=as(t,!1).slice(1),s=i.Buffer.from(fn(Un(n))),[a,c]=((t,e)=>{const n=Pn.sign(t,e);return[n.toCompactRawBytes(),n.recovery]})(s,t);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:r})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}var ls;us.programId=new Gn("KeccakSecp256k11111111111111111111111111111");const hs=new Gn("StakeConfig11111111111111111111111111111111");class ds{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class fs{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}ls=fs,fs.default=new ls(0,0,Gn.default);class ps{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=ve.Jq("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(ms))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:n}=Rr(ms.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new ds(new Gn(e.staker),new Gn(e.withdrawer)),lockup:new fs(n.unixTimestamp,n.epoch,new Gn(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Rr(ms.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:n}=Rr(ms.Authorize,t.data),r={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new Gn(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(r.custodianPubkey=t.keys[3].pubkey),r}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Rr(ms.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:r,authorityOwner:new Gn(i),newAuthorizedPubkey:new Gn(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Rr(ms.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Rr(ms.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Rr(ms.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Rr(ms.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(ys.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ms=Object.freeze({Initialize:{index:0,layout:ve.n_([ve.Jq("instruction"),((t="authorized")=>ve.n_([ir("staker"),ir("withdrawer")],t))(),((t="lockup")=>ve.n_([ve.gM("unixTimestamp"),ve.gM("epoch"),ir("custodian")],t))()])},Authorize:{index:1,layout:ve.n_([ve.Jq("instruction"),ir("newAuthorized"),ve.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:ve.n_([ve.Jq("instruction")])},Split:{index:3,layout:ve.n_([ve.Jq("instruction"),ve.gM("lamports")])},Withdraw:{index:4,layout:ve.n_([ve.Jq("instruction"),ve.gM("lamports")])},Deactivate:{index:5,layout:ve.n_([ve.Jq("instruction")])},Merge:{index:7,layout:ve.n_([ve.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:ve.n_([ve.Jq("instruction"),ir("newAuthorized"),ve.Jq("stakeAuthorizationType"),sr("authoritySeed"),ir("authorityOwner")])}}),gs=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ys{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:r}=t,i=r||fs.default,o=Pr(ms.Initialize,{authorized:{staker:Un(n.staker.toBuffer()),withdrawer:Un(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Un(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Er,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new yr(s)}static createAccountWithSeed(t){const e=new vr;e.add(qr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(t){const e=new vr;e.add(qr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:r}=t,i=Pr(ms.Delegate);return(new vr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:Or,isSigner:!1,isWritable:!1},{pubkey:hs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=t,s=Pr(ms.Authorize,{newAuthorized:Un(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new vr).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,c=Pr(ms.AuthorizeWithSeed,{newAuthorized:Un(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:Un(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:_r,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new vr).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=t,o=Pr(ms.Split,{lamports:i});return new yr({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t,e){const n=new vr;return n.add(qr.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=t,c=new vr;return c.add(qr.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),e&&e>0&&c.add(qr.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:r}=t,i=Pr(ms.Merge);return(new vr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:Or,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=t,s=Pr(ms.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:Or,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new vr).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,r=Pr(ms.Deactivate);return(new vr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}ys.programId=new Gn("Stake11111111111111111111111111111111111111"),ys.space=200;class vs{constructor(t,e,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=r}}class ws{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=ve.Jq("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(bs))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=Rr(bs.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new vs(new Gn(e.nodePubkey),new Gn(e.authorizedVoter),new Gn(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:n}=Rr(bs.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new Gn(e),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Rr(bs.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Gn(e),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Gn(r),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Rr(bs.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(ks.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const bs=Object.freeze({InitializeAccount:{index:0,layout:ve.n_([ve.Jq("instruction"),((t="voteInit")=>ve.n_([ir("nodePubkey"),ir("authorizedVoter"),ir("authorizedWithdrawer"),ve.u8("commission")],t))()])},Authorize:{index:1,layout:ve.n_([ve.Jq("instruction"),ir("newAuthorized"),ve.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:ve.n_([ve.Jq("instruction"),ve.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:ve.n_([ve.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>ve.n_([ve.Jq("voteAuthorizationType"),ir("currentAuthorityDerivedKeyOwnerPubkey"),sr("currentAuthorityDerivedKeySeed"),ir("newAuthorized")],t))()])}}),_s=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ks{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:r}=t,i=Pr(bs.InitializeAccount,{voteInit:{nodePubkey:Un(r.nodePubkey.toBuffer()),authorizedVoter:Un(r.authorizedVoter.toBuffer()),authorizedWithdrawer:Un(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Er,isSigner:!1,isWritable:!1},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new yr(o)}static createAccount(t){const e=new vr;return e.add(qr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=t,o=Pr(bs.Authorize,{newAuthorized:Un(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new vr).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=Pr(bs.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Un(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:Un(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new vr).add({keys:c,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=t,o=Pr(bs.Withdraw,{lamports:r}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new vr).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return ks.withdraw(t)}}ks.programId=new Gn("Vote111111111111111111111111111111111111111"),ks.space=3731;const xs=new Gn("Va1idator1nfo111111111111111111111111111111"),Ss=Ve({name:Fe(),website:Ue(Fe()),details:Ue(Fe()),keybaseUsername:Ue(Fe())});class Es{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==cr(e))return null;const n=[];for(let r=0;r<2;r++){const t=new Gn(e.slice(0,Kn));e=e.slice(Kn);const r=1===e.slice(0,1)[0];e=e.slice(1),n.push({publicKey:t,isSigner:r})}if(n[0].publicKey.equals(xs)&&n[1].isSigner){const t=sr().decode(i.Buffer.from(e)),r=JSON.parse(t);return Te(r,Ss),new Es(n[1].publicKey,r)}return null}}const As=new Gn("Vote111111111111111111111111111111111111111"),Ts=ve.n_([ir("nodePubkey"),ir("authorizedWithdrawer"),ve.u8("commission"),ve._O(),ve.A9(ve.n_([ve._O("slot"),ve.Jq("confirmationCount")]),ve.cv(ve.Jq(),-8),"votes"),ve.u8("rootSlotValid"),ve._O("rootSlot"),ve._O(),ve.A9(ve.n_([ve._O("epoch"),ir("authorizedVoter")]),ve.cv(ve.Jq(),-8),"authorizedVoters"),ve.n_([ve.A9(ve.n_([ir("authorizedPubkey"),ve._O("epochOfLastAuthorizedSwitch"),ve._O("targetEpoch")]),32,"buf"),ve._O("idx"),ve.u8("isEmpty")],"priorVoters"),ve._O(),ve.A9(ve.n_([ve._O("epoch"),ve._O("credits"),ve._O("prevCredits")]),ve.cv(ve.Jq(),-8),"epochCredits"),ve.n_([ve._O("slot"),ve._O("timestamp")],"lastTimestamp")]);class Is{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=Ts.decode(Un(t),4);let n=e.rootSlot;return e.rootSlotValid||(n=null),new Is({nodePubkey:new Gn(e.nodePubkey),authorizedWithdrawer:new Gn(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:n,authorizedVoters:e.authorizedVoters.map(Os),priorVoters:Ms(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function Os({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Gn(t)}}function Cs({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new Gn(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function Ms({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(Cs),...t.slice(0,e).map(Cs)]}const Ps={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Rs(t,e){const n=!1===e?"http":"https";if(!t)return Ps[n].devnet;const r=Ps[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function Bs(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,u=i?t.confirmTransaction(i,c):t.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Ns=1e9},5382:function(t,e,n){!function(t,e,n,r){"use strict";var i=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},o=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},s=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},c=function(t,e,n){var r=n.startTime,i=n.target,o=n.timeConstant;return i+(e-i)*Math.exp((r-t)/o)},u=function(t){return"exponentialRampToValue"===t.type},l=function(t){return"linearRampToValue"===t.type},h=function(t){return u(t)||l(t)},d=function(t){return"setValue"===t.type},f=function(t){return"setValueCurve"===t.type},p=function t(e,n,r,i){var o=e[n];return void 0===o?i:h(o)||d(o)?o.value:f(o)?o.values[o.values.length-1]:c(r,t(e,n-1,o.startTime,i),o)},m=function(t,e,n,r,i){return void 0===n?[r.insertTime,i]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:f(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,p(t,e-1,n.startTime,i)]},g=function(t){return"cancelAndHold"===t.type},y=function(t){return"cancelScheduledValues"===t.type},v=function(t){return g(t)||y(t)?t.cancelTime:u(t)||l(t)?t.endTime:t.startTime},w=function(t,e,n,r){var i=r.endTime,o=r.value;return n===o?o:0<n&&0<o||n<0&&o<0?n*Math.pow(o/n,(t-e)/(i-e)):0},b=function(t,e,n,r){return n+(t-e)/(r.endTime-e)*(r.value-n)},_=function(t,e){var n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},k=function(t,e){var n=e.duration,r=e.startTime,i=e.values,o=(t-r)/n*(i.length-1);return _(i,o)},x=function(t){return"setTarget"===t.type},S=function(t){function _(t){n(this,_),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return r(_,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=v(t);if(g(t)||y(t)){var n=this._automationEvents.findIndex((function(n){return y(t)&&f(n)?n.startTime+n.duration>=e:v(n)>=e})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var c=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&h(r)){if(void 0!==c&&x(c))throw new Error("The internal list is malformed.");var d=void 0===c?r.insertTime:f(c)?c.startTime+c.duration:v(c),p=void 0===c?this._defaultValue:f(c)?c.values[c.values.length-1]:c.value,m=u(r)?w(e,d,p,r):b(e,d,p,r),_=u(r)?i(m,e,this._currenTime):o(m,e,this._currenTime);this._automationEvents.push(_)}if(void 0!==c&&x(c)&&this._automationEvents.push(s(this.getValue(e),e)),void 0!==c&&f(c)&&c.startTime+c.duration>e){var k=e-c.startTime,S=(c.values.length-1)/c.duration,E=Math.max(2,1+Math.ceil(k*S)),A=k/(E-1)*S,T=c.values.slice(0,E);if(A<1)for(var I=1;I<E;I+=1){var O=A*I%1;T[I]=c.values[I-1]*(1-O)+c.values[I]*O}this._automationEvents[this._automationEvents.length-1]=a(T,c.startTime,k)}}}else{var C=this._automationEvents.findIndex((function(t){return v(t)>e})),M=-1===C?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[C-1];if(void 0!==M&&f(M)&&v(M)+M.duration>e)return!1;var P=u(t)?i(t.value,t.endTime,this._currenTime):l(t)?o(t.value,e,this._currenTime):t;if(-1===C)this._automationEvents.push(P);else{if(f(t)&&e+t.duration>v(this._automationEvents[C]))return!1;this._automationEvents.splice(C,0,P)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return v(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),r=n[0];x(r)&&n.unshift(s(p(this._automationEvents,e-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return v(e)>t})),r=this._automationEvents[n],i=(-1===n?this._automationEvents.length:n)-1,o=this._automationEvents[i];if(void 0!==o&&x(o)&&(void 0===r||!h(r)||r.insertTime>t))return c(t,p(this._automationEvents,i-1,o.startTime,this._defaultValue),o);if(void 0!==o&&d(o)&&(void 0===r||!h(r)))return o.value;if(void 0!==o&&f(o)&&(void 0===r||!h(r)||o.startTime+o.duration>t))return t<o.startTime+o.duration?k(t,o):o.values[o.values.length-1];if(void 0!==o&&h(o)&&(void 0===r||!h(r)))return o.value;if(void 0!==r&&u(r)){var s=m(this._automationEvents,i,o,r,this._defaultValue),a=e(s,2),g=a[0],y=a[1];return w(t,g,y,r)}if(void 0!==r&&l(r)){var _=m(this._automationEvents,i,o,r,this._defaultValue),S=e(_,2),E=S[0],A=S[1];return b(t,E,A,r)}return this._defaultValue}}]),_}(Symbol.iterator),E=function(t){return{cancelTime:t,type:"cancelAndHold"}},A=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},T=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},I=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},O=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=S,t.createCancelAndHoldAutomationEvent=E,t.createCancelScheduledValuesAutomationEvent=A,t.createExponentialRampToValueAutomationEvent=T,t.createLinearRampToValueAutomationEvent=I,t.createSetTargetAutomationEvent=O,t.createSetValueAutomationEvent=s,t.createSetValueCurveAutomationEvent=a}(e,n(7424),n(6690),n(9728))},8162:function(t,e,n){"use strict";var r=n(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,o=0;t[n]===c;)i++,n++;for(var s=(t.length-n)*u+1>>>0,l=new Uint8Array(s);t[n];){var h=e[t.charCodeAt(n)];if(255===h)return;for(var d=0,f=s-1;(0!==h||d<o)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=d,n++}for(var p=s-o;p!==s&&0===l[p];)p++;var m=r.allocUnsafe(i+(s-p));m.fill(0,0,i);for(var g=i;p!==s;)m[g++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,n++;for(var u=(s-o)*l+1>>>0,h=new Uint8Array(u);o!==s;){for(var d=e[o],f=0,p=u-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,o++}for(var m=u-i;m!==u&&0===h[m];)m++;for(var g=c.repeat(n);m<u;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},9742:function(t,e){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=c(t),s=o[0],a=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(u(t,a,a+s>c?c:a+s));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},475:function(t,e,n){"use strict";var r=n(8764).Buffer;e.oU=function(t){{const e=r.from(t);e.reverse();const n=e.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},e.Q5=function(t){{const e=t.toString("hex");return 0===e.length?BigInt(0):BigInt(`0x${e}`)}},e.k$=function(t,e){{const n=t.toString(16),i=r.from(n.padStart(2*e,"0").slice(0,2*e),"hex");return i.reverse(),i}},e.zP=function(t,e){{const n=t.toString(16);return r.from(n.padStart(2*e,"0").slice(0,2*e),"hex")}}},3550:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(6601).Buffer}catch(I){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function c(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2===0?e+1:e;r<t.length;r+=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,l=n;l<a;l+=r)c=u(t,l,l+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(I){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?d[6-c.length]+c+n:c+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=p[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);n=(h=h.idivn(l)).isZero()?m+n:d[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}n.words[u]=0|h,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],h=8191&l,d=l>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],y=8191&g,v=g>>>13,w=0|s[3],b=8191&w,_=w>>>13,k=0|s[4],x=8191&k,S=k>>>13,E=0|s[5],A=8191&E,T=E>>>13,I=0|s[6],O=8191&I,C=I>>>13,M=0|s[7],P=8191&M,R=M>>>13,B=0|s[8],N=8191&B,L=B>>>13,j=0|s[9],D=8191&j,U=j>>>13,z=0|a[0],F=8191&z,q=z>>>13,V=0|a[1],W=8191&V,H=V>>>13,K=0|a[2],$=8191&K,G=K>>>13,Z=0|a[3],Y=8191&Z,J=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,F)|0))<<13)|0;u=((o=Math.imul(d,q))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,q))+Math.imul(m,F)|0,o=Math.imul(m,q);var yt=(u+(r=r+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(d,W)|0))<<13)|0;u=((o=o+Math.imul(d,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,F),i=(i=Math.imul(y,q))+Math.imul(v,F)|0,o=Math.imul(v,q),r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,H)|0;var vt=(u+(r=r+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,$)|0))<<13)|0;u=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,F),i=(i=Math.imul(b,q))+Math.imul(_,F)|0,o=Math.imul(_,q),r=r+Math.imul(y,W)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,H)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,G)|0;var wt=(u+(r=r+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Y)|0))<<13)|0;u=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(S,F)|0,o=Math.imul(S,q),r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,H)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,G)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,J)|0;var bt=(u+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(A,F),i=(i=Math.imul(A,q))+Math.imul(T,F)|0,o=Math.imul(T,q),r=r+Math.imul(x,W)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,H)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,G)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;u=((o=o+Math.imul(d,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(O,F),i=(i=Math.imul(O,q))+Math.imul(C,F)|0,o=Math.imul(C,q),r=r+Math.imul(A,W)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,H)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,G)|0,r=r+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var kt=(u+(r=r+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(R,F)|0,o=Math.imul(R,q),r=r+Math.imul(O,W)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,H)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,G)|0,r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var xt=(u+(r=r+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(N,F),i=(i=Math.imul(N,q))+Math.imul(L,F)|0,o=Math.imul(L,q),r=r+Math.imul(P,W)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,H)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,J)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var St=(u+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,q))+Math.imul(U,F)|0,o=Math.imul(U,q),r=r+Math.imul(N,W)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,G)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,J)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0;var Et=(u+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(D,W),i=(i=Math.imul(D,H))+Math.imul(U,W)|0,o=Math.imul(U,H),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,G)|0,r=r+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,r=r+Math.imul(b,ct)|0,i=(i=i+Math.imul(b,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,dt)|0;var At=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(D,$),i=(i=Math.imul(D,G))+Math.imul(U,$)|0,o=Math.imul(U,G),r=r+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(C,nt)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,r=r+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(S,ct)|0,o=o+Math.imul(S,ut)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Tt=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(D,Y),i=(i=Math.imul(D,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,r=r+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ut)|0,r=r+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,dt)|0;var It=(u+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(D,Q),i=(i=Math.imul(D,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,r=r+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ut)|0,r=r+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,dt)|0;var Ot=(u+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(D,nt),i=(i=Math.imul(D,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,r=r+Math.imul(P,ct)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(R,ct)|0,o=o+Math.imul(R,ut)|0,r=r+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,dt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,dt)|0;var Ct=(u+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(D,ot),i=(i=Math.imul(D,st))+Math.imul(U,ot)|0,o=Math.imul(U,st),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,dt)|0;var Mt=(u+(r=r+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(D,ct),i=(i=Math.imul(D,ut))+Math.imul(U,ct)|0,o=Math.imul(U,ut),r=r+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,dt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,dt)|0;var Pt=(u+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(D,ht),i=(i=Math.imul(D,dt))+Math.imul(U,ht)|0,o=Math.imul(U,dt);var Rt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Bt=(u+(r=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((o=Math.imul(U,mt))+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,c[0]=gt,c[1]=yt,c[2]=vt,c[3]=wt,c[4]=bt,c[5]=_t,c[6]=kt,c[7]=xt,c[8]=St,c[9]=Et,c[10]=At,c[11]=Tt,c[12]=It,c[13]=Ot,c[14]=Ct,c[15]=Mt,c[16]=Pt,c[17]=Rt,c[18]=Bt,0!==u&&(c[19]=u,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},w.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,d=u,f=0;f<s;f++){var p=n[l+f],m=r[l+f],g=n[l+f+s],y=r[l+f+s],v=h*g-d*y;y=h*y+d*g,g=v,n[l+f]=p+g,r[l+f]=m+y,n[l+f+s]=p-g,r[l+f+s]=m-y,f!==a&&(v=c*h-u*d,d=c*d+u*h,h=v)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,h,r,i);for(var f=0;f<r;f++){var p=a[f]*l[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"===typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0===(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0===(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(k,_),k.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},k.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,_),i(S,_),i(E,_),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new k;else if("p224"===t)e=new x;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return b[t]=e,e},A.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},A.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var h=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new T(t)},i(T,A),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},5532:function(t,e,n){"use strict";var r=n(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=c(n(3550)),l=c(n(7191)),h=a(n(1127)),d=new("function"!==typeof TextDecoder?h.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"===typeof t&&(t=r.from(t,"utf8")),l.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(l.default.decode(t))};const f=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class m{constructor(){this.buf=r.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(f)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(f)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new p("Reached the end of buffer when deserializing")}throw e}}}e.BinaryWriter=m;class y{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return d.decode(e)}catch(n){throw new p(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e,n,r,i){try{if("string"===typeof r)i[`write${v(r)}`](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)w(t,null,n[e],r[0],i)}else i.writeArray(n,(n=>{w(t,e,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null===n||void 0===n?i.writeU8(0):(i.writeU8(1),w(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{w(t,e,o,r.key,i),w(t,e,n,r.value,i)}));break;default:throw new p(`FieldType ${r} unrecognized`)}else b(t,n,i)}catch(o){throw o instanceof p&&o.addToFieldPath(e),o}}function b(t,e,n){if("function"===typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{w(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),w(t,s,e[s],a,n);break}}}}}function _(t,e,n,r){try{if("string"===typeof n)return r[`read${v(n)}`]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(_(t,null,n[0],r));return e}return r.readArray((()=>_(t,e,n[0],r)))}if("option"===n.kind){return r.readU8()?_(t,e,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=_(t,e,n.key,r),s=_(t,e,n.value,r);i.set(o,s)}return i}return k(t,n,r)}catch(i){throw i instanceof p&&i.addToFieldPath(e),i}}function k(t,e,n){if("function"===typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new p(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=_(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new e({[o]:_(t,o,s,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}s([g],y.prototype,"readU8",null),s([g],y.prototype,"readU16",null),s([g],y.prototype,"readU32",null),s([g],y.prototype,"readU64",null),s([g],y.prototype,"readU128",null),s([g],y.prototype,"readU256",null),s([g],y.prototype,"readU512",null),s([g],y.prototype,"readString",null),s([g],y.prototype,"readFixedArray",null),s([g],y.prototype,"readArray",null),e.BinaryReader=y,e.serialize=function(t,e,n=m){const r=new n;return b(t,e,r),r.toArray()},e.deserialize=function(t,e,n,r=y){const i=new r(n),o=k(t,e,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,n,r=y){return k(t,e,new r(n))}},7191:function(t,e,n){var r=n(8162);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},698:function(t,e,n){"use strict";var r=n(8764).Buffer;class i{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=i,e.nameWithProperty=o,e.bindConstructorLayout=function(t,e){if("function"!==typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof i))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};class s extends i{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class c extends s{constructor(t,e,n){if(!(t instanceof i))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class u extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class l extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class h extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class d extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const f=Math.pow(2,32);function p(t){const e=Math.floor(t/f);return{hi32:e,lo32:t-e*f}}function m(t,e){return t*f+e}class g extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return m(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class y extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return m(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class v extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return m(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class w extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return m(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class b extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatLE(t,n),4}}class _ extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatBE(t,n),4}}class k extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleLE(t,n),8}}class x extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleBE(t,n),8}}class S extends i{constructor(t,e,n){if(!(t instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof s)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0,r=this.count;if(r instanceof s&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){void 0===e&&(e=0);const n=[];let r=0,i=this.count;for(i instanceof s&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n){void 0===n&&(n=0);const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof s&&this.count.encode(t.length,e,n),i}}class E extends i{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(o){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=t[s.property];void 0!==i&&(o=s.encode(i,e,n),0>r&&(r=s.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!==typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class A{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class T extends A{constructor(t,e){if(!(t instanceof s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class I extends i{constructor(t,e,n){const r=t instanceof u||t instanceof l;if(r)t=new T(new c(t));else if(t instanceof s&&t.isCount())t=new T(t);else if(!(t instanceof A))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&r&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return a(t)},this.configGetSourceVariant=function(t){a=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new O(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return r.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class O extends i{constructor(t,e,n,r){if(!(t instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof i))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function C(t){return 0>t&&(t+=4294967296),t}class M extends i{constructor(t,e,n){if(!(t instanceof u||t instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof e&&void 0===n&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=C(t),this},this._packedGetValue=function(){return r}}decode(t,e){const n=this.makeDestinationObject();void 0===e&&(e=0);const r=this.word.decode(t,e);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(r));return n}encode(t,e,n){void 0===n&&(n=0);const r=this.word.decode(e,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new P(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new R(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class P{constructor(t,e,n){if(!(t instanceof M))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=C(this.valueMask<<this.start),this.property=n}decode(){return C(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==C(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=C(t<<this.start);this.container._packedSetValue(C(e&~this.wordMask)|n)}}class R extends P{constructor(t,e){super(t,1,e)}decode(t,e){return!!P.prototype.decode.call(this,t,e)}encode(t){return"boolean"===typeof t&&(t=+t),P.prototype.encode.call(this,t)}}class B extends i{constructor(t,e){if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof s||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof s&&(i=t.length),!r.isBuffer(t)||i!==t.length)throw new TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,i,"hex"),this.length instanceof s&&this.length.encode(i,e,n),i}}class N extends i{constructor(t){super(-1,t)}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);return t.slice(e,e+r-1).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!==typeof t&&(t=t.toString());const i=new r(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,n),e[n+o]=0,o+1}}class L extends i{constructor(t,e){if("string"===typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+r).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!==typeof t&&(t=t.toString());const i=new r(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,n),o}}class j extends i{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}e.ExternalLayout=s,e.GreedyCount=a,e.OffsetLayout=c,e.UInt=u,e.UIntBE=l,e.Int=h,e.IntBE=d,e.Float=b,e.FloatBE=_,e.Double=k,e.DoubleBE=x,e.Sequence=S,e.Structure=E,e.UnionDiscriminator=A,e.UnionLayoutDiscriminator=T,e.Union=I,e.VariantLayout=O,e.BitStructure=M,e.BitField=P,e.Boolean=R,e.Blob=B,e.CString=N,e.UTF8=L,e.Constant=j,e.greedy=(t,e)=>new a(t,e),e.offset=(t,e,n)=>new c(t,e,n),e.u8=t=>new u(1,t),e.u16=t=>new u(2,t),e.u24=t=>new u(3,t),e.u32=t=>new u(4,t),e.u40=t=>new u(5,t),e.u48=t=>new u(6,t),e.nu64=t=>new g(t),e.u16be=t=>new l(2,t),e.u24be=t=>new l(3,t),e.u32be=t=>new l(4,t),e.u40be=t=>new l(5,t),e.u48be=t=>new l(6,t),e.nu64be=t=>new y(t),e.s8=t=>new h(1,t),e.s16=t=>new h(2,t),e.s24=t=>new h(3,t),e.s32=t=>new h(4,t),e.s40=t=>new h(5,t),e.s48=t=>new h(6,t),e.ns64=t=>new v(t),e.s16be=t=>new d(2,t),e.s24be=t=>new d(3,t),e.s32be=t=>new d(4,t),e.s40be=t=>new d(5,t),e.s48be=t=>new d(6,t),e.ns64be=t=>new w(t),e.f32=t=>new b(t),e.f32be=t=>new _(t),e.f64=t=>new k(t),e.f64be=t=>new x(t),e.struct=(t,e,n)=>new E(t,e,n),e.bits=(t,e,n)=>new M(t,e,n),e.seq=(t,e,n)=>new S(t,e,n),e.union=(t,e,n)=>new I(t,e,n),e.unionLayoutDiscriminator=(t,e)=>new T(t,e),e.blob=(t,e)=>new B(t,e),e.cstr=t=>new N(t),e.utf8=(t,e)=>new L(t,e),e.const=(t,e)=>new j(t,e)},8764:function(t,e,n){"use strict";const r=n(9742),i=n(645),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,n)}function u(t,e,n){if("string"===typeof t)return function(t,e){"string"===typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let r=a(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!==typeof t.length||Y(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(Y(r))return s;t[n+s]=r}return s}function _(t,e,n,r){return G(K(e,t.length-n),t,n,r)}function k(t,e,n,r){return G(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return G($(e),t,n,r)}function S(t,e,n,r){return G(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128===(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128===(192&n)&&128===(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"===typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n);for(let c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return k(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=e;o<n;++o)i+=J[t[o]];return i}function M(t,e,n){const r=t.slice(e,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r,i){q(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,i){q(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return e=+e,n>>>=0,o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,o){return e=+e,n>>>=0,o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=X((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=X((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const U={};function z(t,e,n){U[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function q(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"===typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||W(e,t.length-(n+1))}(r,i,o)}function V(t,e){if("number"!==typeof t)throw new U.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,n){if(Math.floor(t)!==t)throw V(t,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function K(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function G(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!==t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function X(t){return"undefined"===typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},3204:function(t){"use strict";const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),a=new RegExp(o.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(t,i)=>{if("string"!==typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const o=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),u=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);if(1===t.length)return i.pascalCase?u(t):o(t);return t!==o(t)&&(t=((t,r,i)=>{let o=!1,s=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];o&&e.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),o=!1,a=s,s=!0,c++):s&&a&&n.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=s,s=!1,o=!0):(o=r(u)===u&&i(u)!==u,a=s,s=i(u)===u&&r(u)!==u)}return t})(t,o,u)),t=t.replace(s,""),t=i.preserveConsecutiveUppercase?((t,e)=>(r.lastIndex=0,t.replace(r,(t=>e(t)))))(t,o):o(t),i.pascalCase&&(t=u(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,c.lastIndex=0,t.replace(a,((t,n)=>e(n))).replace(c,(t=>e(t)))))(t,u)};t.exports=u,t.exports.default=u},6729:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},645:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+f]=255&s,f+=p,s/=256,u-=8);t[n+f-p]|=128*m}},1198:function(t,e,n){"use strict";const r=n(4667).v4,i=n(7741),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:"undefined"!==typeof e.reviver?e.reviver:null,replacer:"undefined"!==typeof e.replacer?e.replacer:null,generator:"undefined"!==typeof e.generator?e.generator:function(){return r()},version:"undefined"!==typeof e.version?e.version:2,notificationIdNull:"boolean"===typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,n,r){const o=this;let s=null;const a=Array.isArray(t)&&"function"===typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"===typeof t&&"function"===typeof e)r=e,s=t;else{"function"===typeof n&&(r=n,n=void 0);const o="function"===typeof r;try{s=i(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(o)return r(u);throw u}if(!o)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,(function(t,e){o._parseResponse(t,e,r)})),s},o.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return"undefined"!==typeof t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}},7741:function(t,e,n){"use strict";const r=n(4667).v4;t.exports=function(t,e,n,i){if("string"!==typeof t)throw new TypeError(t+" must be a string");const o="number"===typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!==typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if("undefined"===typeof n){const t="function"===typeof i.generator?i.generator:function(){return r()};s.id=t(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},4667:function(t,e,n){"use strict";var r;n.d(e,{v4:function(){return h}});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(t){return"string"===typeof t&&s.test(t)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};var h=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return l(r)}},2023:function(module,exports,__webpack_require__){var process=__webpack_require__(3454),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"===typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,s=[],a=t.length,c=0;for(r=0;r<a;++r)(o=t.charCodeAt(r))<128?s[c++]=o:o<2048?(s[c++]=192|o>>6,s[c++]=128|63&o):o<55296||o>=57344?(s[c++]=224|o>>12,s[c++]=128|o>>6&63,s[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),s[c++]=240|o>>18,s[c++]=128|o>>12&63,s[c++]=128|o>>6&63,s[c++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],l=[];for(r=0;r<64;++r){var h=t[r]||0;u[r]=92^h,l[r]=54^h}Sha256.call(this,e,n),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=t.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,s,a,c,u=this.h0,l=this.h1,h=this.h2,d=this.h3,f=this.h4,p=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((i=y[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[t]=y[t-16]+e+y[t-7]+n<<0;for(c=l&h,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,g=(i=y[0]-1413257819)-150054599<<0,d=i+24177077<<0):(o=704751109,g=(i=y[0]-210244248)-1521486534<<0,d=i+143694565<<0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&l)^u&h^c,g=d+(i=g+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&m)+K[t]+y[t])<<0,d=i+(e+r)<<0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(s=d&u)^d&l^o,m=h+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&p)+K[t+1]+y[t+1])<<0,e=((h=i+(e+r)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(a=h&d)^h&u^s,p=l+(i=p+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&f)+K[t+2]+y[t+2])<<0,e=((l=i+(e+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(c=l&h)^l&d^a,f=u+(i=f+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+K[t+3]+y[t+3])<<0,u=i+(e+r)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+d<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},3454:function(t,e,n){"use strict";var r,i;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(7663)},6840:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(2769)}])},8288:function(t,e,n){"use strict";n.d(e,{EX:function(){return l},Ie:function(){return i},Jr:function(){return o},Ju:function(){return a},Rq:function(){return u},cg:function(){return s},fT:function(){return c}});var r=n(5959),i=new r.PublicKey("49VmFApTZ9aRBGARH56vA7Mr32SwHi7XBCRvyKpbTZNG"),o=.05,s=.01,a="https://dogebets.casino",c=!0,u="https://explorer.gamba.so/platform/".concat(i.toString()),l=[{mint:new r.PublicKey("So11111111111111111111111111111111111111112"),name:"Solana",symbol:"SOL",image:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",decimals:9,baseWager:1e7},{mint:new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),name:"USD Coin",symbol:"USDC",image:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",decimals:9,baseWager:1e7},{mint:new r.PublicKey("JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN"),name:"Jupiter",symbol:"JUP",image:"https://static.jup.ag/jup/icon.png",decimals:6,baseWager:1e4},{mint:new r.PublicKey("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),name:"Bonk",symbol:"Bonk",image:"https://arweave.net/hQiPZOsRZXGXBJd_82PhVdlM_hACsT_q6wqwf5cSY7I",decimals:5,baseWager:1e3}]},1210:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDomainLocale=function(t,e,n,r){return!1};("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},8418:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4941).Z;n(5753).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(2648).Z,o=n(7273).Z,s=i(n(7294)),a=n(6273),c=n(2725),u=n(3462),l=n(1018),h=n(7190),d=n(1210),f=n(8684),p={};function m(t,e,n,r){if(t&&a.isLocalURL(e)){Promise.resolve(t.prefetch(e,n,r)).catch((function(t){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:t&&t.locale;p[e+"%"+n+(i?"%"+i:"")]=!0}}var g=s.default.forwardRef((function(t,e){var n,i=t.href,g=t.as,y=t.children,v=t.prefetch,w=t.passHref,b=t.replace,_=t.shallow,k=t.scroll,x=t.locale,S=t.onClick,E=t.onMouseEnter,A=t.onTouchStart,T=t.legacyBehavior,I=void 0===T?!0!==Boolean(!1):T,O=o(t,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=y,!I||"string"!==typeof n&&"number"!==typeof n||(n=s.default.createElement("a",null,n));var C=!1!==v,M=s.default.useContext(u.RouterContext),P=s.default.useContext(l.AppRouterContext);P&&(M=P);var R,B=s.default.useMemo((function(){var t=r(a.resolveHref(M,i,!0),2),e=t[0],n=t[1];return{href:e,as:g?a.resolveHref(M,g):n||e}}),[M,i,g]),N=B.href,L=B.as,j=s.default.useRef(N),D=s.default.useRef(L);I&&(R=s.default.Children.only(n));var U=I?R&&"object"===typeof R&&R.ref:e,z=r(h.useIntersection({rootMargin:"200px"}),3),F=z[0],q=z[1],V=z[2],W=s.default.useCallback((function(t){D.current===L&&j.current===N||(V(),D.current=L,j.current=N),F(t),U&&("function"===typeof U?U(t):"object"===typeof U&&(U.current=t))}),[L,U,N,V,F]);s.default.useEffect((function(){var t=q&&C&&a.isLocalURL(N),e="undefined"!==typeof x?x:M&&M.locale,n=p[N+"%"+L+(e?"%"+e:"")];t&&!n&&m(M,N,L,{locale:e})}),[L,N,q,x,C,M]);var H={ref:W,onClick:function(t){I||"function"!==typeof S||S(t),I&&R.props&&"function"===typeof R.props.onClick&&R.props.onClick(t),t.defaultPrevented||function(t,e,n,r,i,o,c,u,l,h){if("A"!==t.currentTarget.nodeName.toUpperCase()||!function(t){var e=t.currentTarget.target;return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&a.isLocalURL(n)){t.preventDefault();var d=function(){"beforePopState"in e?e[i?"replace":"push"](n,r,{shallow:o,locale:u,scroll:c}):e[i?"replace":"push"](n,{forceOptimisticNavigation:!h})};l?s.default.startTransition(d):d()}}(t,M,N,L,b,_,k,x,Boolean(P),C)},onMouseEnter:function(t){I||"function"!==typeof E||E(t),I&&R.props&&"function"===typeof R.props.onMouseEnter&&R.props.onMouseEnter(t),!C&&P||a.isLocalURL(N)&&m(M,N,L,{priority:!0})},onTouchStart:function(t){I||"function"!==typeof A||A(t),I&&R.props&&"function"===typeof R.props.onTouchStart&&R.props.onTouchStart(t),!C&&P||a.isLocalURL(N)&&m(M,N,L,{priority:!0})}};if(!I||w||"a"===R.type&&!("href"in R.props)){var K="undefined"!==typeof x?x:M&&M.locale,$=M&&M.isLocaleDomain&&d.getDomainLocale(L,K,M.locales,M.domainLocales);H.href=$||f.addBasePath(c.addLocale(L,K,M&&M.defaultLocale))}return I?s.default.cloneElement(R,H):s.default.createElement("a",Object.assign({},O,H),n)}));e.default=g,("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},7190:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4941).Z;Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootRef,n=t.rootMargin,u=t.disabled||!s,l=r(i.useState(!1),2),h=l[0],d=l[1],f=r(i.useState(null),2),p=f[0],m=f[1];i.useEffect((function(){if(s){if(u||h)return;if(p&&p.tagName){var t=function(t,e,n){var r=function(t){var e,n={root:t.root||null,margin:t.rootMargin||""},r=c.find((function(t){return t.root===n.root&&t.margin===n.margin}));if(r&&(e=a.get(r)))return e;var i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var e=i.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return e={id:n,observer:o,elements:i},c.push(n),a.set(n,e),e}(n),i=r.id,o=r.observer,s=r.elements;return s.set(t,e),o.observe(t),function(){if(s.delete(t),o.unobserve(t),0===s.size){o.disconnect(),a.delete(i);var e=c.findIndex((function(t){return t.root===i.root&&t.margin===i.margin}));e>-1&&c.splice(e,1)}}}(p,(function(t){return t&&d(t)}),{root:null==e?void 0:e.current,rootMargin:n});return t}}else if(!h){var r=o.requestIdleCallback((function(){return d(!0)}));return function(){return o.cancelIdleCallback(r)}}}),[p,u,n,e,h]);var g=i.useCallback((function(){d(!1)}),[]);return[m,h,g]};var i=n(7294),o=n(9311),s="function"===typeof IntersectionObserver,a=new Map,c=[];("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},1018:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateContext=e.GlobalLayoutRouterContext=e.LayoutRouterContext=e.AppRouterContext=void 0;var r=(0,n(2648).Z)(n(7294)),i=r.default.createContext(null);e.AppRouterContext=i;var o=r.default.createContext(null);e.LayoutRouterContext=o;var s=r.default.createContext(null);e.GlobalLayoutRouterContext=s;var a=r.default.createContext(null);e.TemplateContext=a},638:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6856).Z;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=s.default,o=(null==e?void 0:e.suspense)?{}:{loading:function(t){t.error,t.isLoading;return t.pastDelay,null}};r(t,Promise)?o.loader=function(){return t}:"function"===typeof t?o.loader=t:"object"===typeof t&&(o=i({},o,t));!1;(o=i({},o,e)).suspense&&(delete o.ssr,delete o.loading);o.loadableGenerated&&delete(o=i({},o,o.loadableGenerated)).loadableGenerated;if("boolean"===typeof o.ssr&&!o.suspense){if(!o.ssr)return delete o.ssr,a(n,o);delete o.ssr}return n(o)},e.noSSR=a;var i=n(6495).Z,o=n(2648).Z,s=(o(n(7294)),o(n(4302)));function a(t,e){return delete e.webpack,delete e.modules,t(e)}("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},6319:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadableContext=void 0;var r=(0,n(2648).Z)(n(7294)).default.createContext(null);e.LoadableContext=r},4302:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9658).Z,i=n(7222).Z;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(6495).Z,s=(0,n(2648).Z)(n(7294)),a=n(6319),c=n(7294).useSyncExternalStore,u=[],l=[],h=!1;function d(t){var e=t(),n={loading:!0,loaded:null,error:null};return n.promise=e.then((function(t){return n.loading=!1,n.loaded=t,t})).catch((function(t){throw n.loading=!1,n.error=t,t})),n}var f=function(){function t(e,n){r(this,t),this._loadFn=e,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(t,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var t=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var e=this._res,n=this._opts;e.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){t._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){t._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){t._update({}),t._clearTimeouts()})).catch((function(e){t._update({}),t._clearTimeouts()})),this._update({})}},{key:"_update",value:function(t){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach((function(t){return t()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(t){var e=this;return this._callbacks.add(t),function(){e._callbacks.delete(t)}}}]),t}();function p(t){return function(t,e){var n=function(){if(!u){var e=new f(t,i);u={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return u.promise()},r=function(){n();var t=s.default.useContext(a.LoadableContext);t&&Array.isArray(i.modules)&&i.modules.forEach((function(e){t(e)}))},i=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},e);i.suspense&&(i.lazy=s.default.lazy(i.loader));var u=null;if(!h){var d=i.webpack?i.webpack():i.modules;d&&l.push((function(t){var e=!0,r=!1,i=void 0;try{for(var o,s=d[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var a=o.value;if(-1!==t.indexOf(a))return n()}}catch(c){r=!0,i=c}finally{try{e||null==s.return||s.return()}finally{if(r)throw i}}}))}var p=i.suspense?function(t,e){return r(),s.default.createElement(i.lazy,o({},t,{ref:e}))}:function(t,e){r();var n=c(u.subscribe,u.getCurrentValue,u.getCurrentValue);return s.default.useImperativeHandle(e,(function(){return{retry:u.retry}}),[]),s.default.useMemo((function(){return n.loading||n.error?s.default.createElement(i.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:u.retry}):n.loaded?s.default.createElement((e=n.loaded)&&e.__esModule?e.default:e,t):null;var e}),[t,n])};return p.preload=function(){return n()},p.displayName="LoadableComponent",s.default.forwardRef(p)}(d,t)}function m(t,e){for(var n=[];t.length;){var r=t.pop();n.push(r(e))}return Promise.all(n).then((function(){if(t.length)return m(t,e)}))}p.preloadAll=function(){return new Promise((function(t,e){m(u).then(t,e)}))},p.preloadReady=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(e){var n=function(){return h=!0,e()};m(l,t).then(n,n)}))},window.__NEXT_PRELOADREADY=p.preloadReady;var g=p;e.default=g},5186:function(t,e,n){"use strict";n.d(e,{J:function(){return i}});var r=n(5893),i=(n(7294),{Close:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 242 242",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M241.208 29.076 212.924.792 121 92.716 29.076.792.792 29.076 92.716 121 .792 212.924l28.284 28.284L121 149.284l91.924 91.924 28.284-28.284L149.284 121z",fill:"currentColor"})})},Jackpot:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 200 106",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M200 13H0v80h200zM20.148 62.502q.967-2.256.967-4.812v-18.5h-6.144v18.5a5.8 5.8 0 0 1-.494 2.384 6.1 6.1 0 0 1-1.311 1.955 6.3 6.3 0 0 1-1.976 1.332 6.1 6.1 0 0 1-2.385.473 6.15 6.15 0 0 1-3.094-.838v6.617Q7.257 70 8.805 70q2.556 0 4.79-.967a12.3 12.3 0 0 0 3.91-2.62 12.5 12.5 0 0 0 2.643-3.911m24.256-10.979v6.166H32.072v-6.166q0-1.268.473-2.384.494-1.14 1.332-1.977a6.1 6.1 0 0 1 1.955-1.31 6 6 0 0 1 2.406-.495q1.267 0 2.385.495 1.14.473 1.977 1.31a6 6 0 0 1 1.31 1.977q.494 1.117.494 2.384m0 18.477h6.166V51.523q0-2.556-.967-4.79a12.4 12.4 0 0 0-2.642-3.932 12.4 12.4 0 0 0-3.932-2.643q-2.235-.967-4.79-.967-2.558 0-4.813.967a12.5 12.5 0 0 0-3.91 2.643 12.6 12.6 0 0 0-2.621 3.931q-.967 2.235-.967 4.791V70h6.144v-6.166h12.332zm31.303-.322a15.7 15.7 0 0 0 4.813-2.836l-3.266-5.371a9.35 9.35 0 0 1-3.201 2.256 9.9 9.9 0 0 1-3.867.773 9.5 9.5 0 0 1-3.825-.773 10 10 0 0 1-3.115-2.106 10 10 0 0 1-2.105-3.094 9.45 9.45 0 0 1-.774-3.802q0-2.02.774-3.803a9.7 9.7 0 0 1 2.105-3.115 10 10 0 0 1 3.115-2.106 9.5 9.5 0 0 1 3.825-.773q2.019 0 3.867.795a9.1 9.1 0 0 1 3.2 2.234l3.266-5.371a15.1 15.1 0 0 0-4.812-2.836 15.8 15.8 0 0 0-5.521-.988q-2.192 0-4.233.58-2.02.559-3.803 1.611a16 16 0 0 0-3.222 2.492 16.3 16.3 0 0 0-2.514 3.245 16.3 16.3 0 0 0-1.611 3.802 16 16 0 0 0-.559 4.233q0 2.19.559 4.232a17 17 0 0 0 1.611 3.803 16.5 16.5 0 0 0 2.514 3.222 16.5 16.5 0 0 0 3.222 2.514 16.2 16.2 0 0 0 3.803 1.59q2.04.58 4.233.58 2.857 0 5.521-.988m8.4.322h6.166v-6.166l4.706-6.295L101.746 70h7.004l-9.732-17.81 9.732-12.999h-7.004L90.273 54.596V39.19h-6.166zm39.832-12.31h-6.166V45.357h6.166q1.268 0 2.385.495a6.03 6.03 0 0 1 3.266 3.287q.494 1.118.494 2.384 0 1.268-.494 2.407a6.1 6.1 0 0 1-1.311 1.955 6.4 6.4 0 0 1-1.955 1.332 6.1 6.1 0 0 1-2.385.473M111.607 70h6.166v-6.166h6.166q2.536 0 4.77-.967a12.4 12.4 0 0 0 3.932-2.642 12.5 12.5 0 0 0 2.642-3.91q.967-2.257.967-4.792 0-1.697-.451-3.265a12 12 0 0 0-1.246-2.943 11.6 11.6 0 0 0-1.934-2.493 11.6 11.6 0 0 0-2.492-1.933 11.5 11.5 0 0 0-2.922-1.246 11.8 11.8 0 0 0-3.266-.452h-12.332zm57.879-11.043q.58-2.041.58-4.232t-.58-4.233a15.65 15.65 0 0 0-4.082-7.025 16 16 0 0 0-3.222-2.492 15.7 15.7 0 0 0-3.803-1.59 15.4 15.4 0 0 0-4.233-.58q-2.19 0-4.232.58a16.2 16.2 0 0 0-3.803 1.59 16 16 0 0 0-3.222 2.492 16.6 16.6 0 0 0-2.514 3.223 16.3 16.3 0 0 0-1.611 3.802 16 16 0 0 0-.559 4.233q0 2.19.559 4.232a17 17 0 0 0 1.611 3.803 16.6 16.6 0 0 0 2.514 3.222 16.6 16.6 0 0 0 3.222 2.514 16.2 16.2 0 0 0 3.803 1.59q2.042.58 4.232.58 2.192 0 4.233-.58a15.7 15.7 0 0 0 3.803-1.59 16.6 16.6 0 0 0 3.222-2.514 16 16 0 0 0 2.492-3.222 16 16 0 0 0 1.59-3.803m-6.316-8.035a9.45 9.45 0 0 1 .773 3.803 9.45 9.45 0 0 1-.773 3.802 10 10 0 0 1-2.106 3.094 9.6 9.6 0 0 1-3.115 2.106 9.45 9.45 0 0 1-3.803.773 9.5 9.5 0 0 1-3.824-.773 10 10 0 0 1-3.115-2.106 10 10 0 0 1-2.105-3.094 9.45 9.45 0 0 1-.774-3.802q0-2.02.774-3.803a9.6 9.6 0 0 1 2.105-3.115 10 10 0 0 1 3.115-2.106 9.5 9.5 0 0 1 3.824-.773q2.02 0 3.803.773a9.6 9.6 0 0 1 3.115 2.106 9.7 9.7 0 0 1 2.106 3.115M179.928 70h6.144V45.357h9.239v-6.166h-24.643v6.166h9.26z",fill:"currentColor"})})},Fairness:function(){return(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 800 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"m738 312.197-74.146-160.552a52.68 52.68 0 0 0 17.301-38.697 52.13 52.13 0 0 0-11.559-32.532 52.18 52.18 0 0 0-29.359-18.187 52.2 52.2 0 0 0-34.293 4.128 52.17 52.17 0 0 0-24.2 24.635l-374.847 95.233a51.1 51.1 0 0 0-33.228-12.35 51.93 51.93 0 0 0-29.664 9.063 51.9 51.9 0 0 0-19.193 24.353 51.84 51.84 0 0 0 14.256 57.426L63 429.386l221.064-.824-75.794-164.668a51.32 51.32 0 0 0 15.929-27.445l135.384-34.305v421.551h-2.747l-182.891 56.812a29.1 29.1 0 0 0-14.614 10.429 29.08 29.08 0 0 0-5.709 17.014v1.923a27.4 27.4 0 0 0 1.706 11.342 27.45 27.45 0 0 0 15.795 15.937 27.5 27.5 0 0 0 11.334 1.811h436.361a27.48 27.48 0 0 0 20.827-8.001 27.46 27.46 0 0 0 8.007-20.816v-2.196a29.07 29.07 0 0 0-5.597-16.95 29.1 29.1 0 0 0-14.45-10.493l-182.618-56.812h-3.021V184.58l146.096-38.698 5.491 5.763-74.42 161.101c16.434 0 203.806-.549 218.867-.549M108.311 429.386l65.358-141.615 64.451 140.984zm521.766-254.687 63.711 137.223H565.542z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M323 424c0 82.842-66.932 150-149.5 150C90.934 574 24 506.842 24 424c164.834.004 130.334 0 299 0",fill:"currentColor"}),(0,r.jsx)("path",{d:"M173.5 534c46.484 0 86.212-29.026 102.16-70h-83.154c-34.704.002-59.152.002-121.165 0 15.949 40.974 55.676 70 102.159 70M29.374 464C25.872 451.266 24 437.852 24 424h39.867c67.733.002 92.681.002 128.874 0H323v.054c-.004 13.832-1.876 27.228-5.374 39.946-17.446 63.424-75.364 110-144.126 110-68.76 0-126.679-46.576-144.126-110M770 311c0 82.292-66.934 149-149.5 149-82.568 0-149.5-66.708-149.5-149 164.833.004 130.332 0 299 0",fill:"currentColor"}),(0,r.jsx)("path",{d:"M620.5 420.267c46.485 0 86.212-28.833 102.158-69.534l-83.154.002H518.34c15.948 40.699 55.675 69.532 102.16 69.532m-144.126-69.534C472.872 338.084 471 324.76 471 311l39.867.002h128.875l90.391-.002H770v.054c-.006 13.741-1.876 27.046-5.374 39.679C747.178 413.735 689.26 460 620.5 460c-68.762 0-126.68-46.265-144.126-109.267",fill:"currentColor"})]})},Refresh:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 800 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M712.764 116.921C724.113 105.547 737 95.647 737 84.062 737 72.479 727.588 63 715.943 63H505.378c-2.548 0-21.057 0-21.057 21.063v210.625c0 11.584 9.433 21.062 21.057 21.062 11.644 0 19.751-11.162 28.721-20.008l58.516-58.555c37.27 44.021 59.969 100.679 59.969 162.813 0 139.644-113.137 252.75-252.679 252.75S147.226 539.644 147.226 400c0-125.111 91.112-228.948 210.566-248.958V65.949C191.635 86.59 63 228.13 63 400c0 186.193 150.849 337 336.905 337S736.81 586.193 736.81 400c0-85.514-31.921-163.233-84.373-222.629z",fill:"currentColor"})})},Info:function(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("path",{d:"M12 16v-4m0-4h.01"})]})},ExternalLink:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4 12h16m0 0-6-6m6 6-6 6",stroke:"currentColor"})})},ArrowRight:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m190.5 66.9 22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3"})})},ArrowLeft:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m257.5 445.1-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3"})})},Shuffle:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 800 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 600q0 20.8 14.4 36t36 14.401H100q51.2 0 97.6-20.001 46.4-20 79.2-53.6t53.6-80 20-96.8q0-61.599 43.2-105.6t106.4-44h100V300q0 16.8 9.6 28.8t21.6 17.6 28 3.2 26.4-13.6l100-100q15.2-15.999 14.4-36t-14.4-35.2l-100-100q-12-11.2-27.2-13.6t-28 3.2T608.8 72t-8.8 28v50.4H500q-50.4 0-96.8 20-46.4 20.001-80 52.8-33.6 32.8-53.6 80T250.4 400q0 62.4-44 106.4T100 550.401H50.4q-20.8 0-36 14.399Q-.8 579.2 0 600m0-399.2q0 20.8 14.4 35.2t36 14.4H100q35.2 0 64.8 15.2t52 41.6q16.8-51.2 49.6-92-72.8-64.8-166.4-64.8H50.4q-20.8 0-36 15.2T0 200.8m334.4 385.6q71.2 64 165.6 64.001h100V700.8q0 16 9.6 28.8t21.6 17.6 28 2.4 26.4-13.6l100-100q15.2-15.2 14.4-36t-14.4-34.4l-100-100q-12-12-27.2-14.4t-28 3.2-21.6 18.401T600 500.8v49.601H500q-34.4 0-64.8-14.401T384 494.4q-17.6 51.2-49.6 92",fill:"currentColor"})})},Close2:function(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 242 242",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M241.208 29.076 212.924.792 121 92.716 29.076.792.792 29.076 92.716 121 .792 212.924l28.284 28.284L121 149.284l91.924 91.924 28.284-28.284L149.284 121z",fill:"currentColor"})})}})},9081:function(t,e,n){"use strict";n.d(e,{u:function(){return s}});var r=n(5893),i=n(7294),o=n(5186);function s(t){var e=t.children,n=t.onClose;return(0,i.useEffect)((function(){var t=function(t){"Escape"===t.key&&(null===n||void 0===n||n())};return document.body.style.overflow="hidden",document.addEventListener("keydown",t),function(){document.body.style.overflow="",document.removeEventListener("keydown",t)}}),[n]),(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[999] h-screen flex items-center justify-center p-2 animate-fade-in overflow-y-hidden",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{tabIndex:-1,className:"focus:outline-none relative flex flex-col items-center w-full max-w-md mx-auto rounded-lg bg-[#15151f] shadow-lg z-100 py-5 pb-5 animate-scale-up text-white overflow-y-auto max-h-[90vh]",children:[n&&(0,r.jsx)("button",{onClick:n,className:"w-10 h-10 z-50 absolute top-2.5 right-2.5 bg-transparent rounded-full p-2 hover:bg-white hover:bg-opacity-10 transition-opacity duration-200 ease-linear focus:outline-none min-w-[44px] min-h-[44px]",children:(0,r.jsx)(o.J.Close2,{})}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center w-full space-y-4 p-5 text-center overflow-y-auto",children:e})]})})})}},7547:function(t,e,n){"use strict";n.d(e,{W:function(){return o}});var r=n(5152),i=n.n(r),o=[{id:"dice",meta:{background:"#ff6490",name:"Dice",image:"/games/logo.png",description:"Dice offers an exhilarating challenge where players must forecast the outcome of a roll with a unique twist. By selecting a number, participants aim to roll below it to clinch victory. The dynamic nature of the game allows for adjustments in choices, directly influencing potential payouts and skillfully balancing risk and reward, ensuring an immersive and stimulating gaming experience."},app:i()((function(){return n.e(62).then(n.bind(n,8037))}),{loadableGenerated:{webpack:function(){return[8037]}}})},{id:"slots",meta:{background:"#5465ff",name:"Slots",image:"/games/logo.png",description:"Slots stands as the epitome of chance and anticipation, offering players a captivating journey through its reels. Engage in the timeless thrill of spinning symbols to align and unlock potential rewards, prominently displayed upfront. With its meticulously crafted interface, Slots delivers a fair and riveting casino experience, meticulously tailored for digital enthusiasts, promising moments of pure excitement and suspense."},app:i()((function(){return n.e(170).then(n.bind(n,7170))}),{loadableGenerated:{webpack:function(){return[7170]}}})},{id:"flip",meta:{background:"#ffe694",name:"Flip",image:"/games/logo.png",description:"Flip presents a compelling blend of simplicity and high-stakes excitement, where players face the tantalizing gamble of choosing between Heads or Tails. Every flip of the coin serves as a decisive moment, offering the potential to double one's fortune or lose it all. This straightforward yet adrenaline-inducing game tests players' luck and strategic decision-making prowess, ensuring an electrifying and immersive gaming session."},app:i()((function(){return Promise.all([n.e(737),n.e(322),n.e(43)]).then(n.bind(n,2043))}),{loadableGenerated:{webpack:function(){return[2043]}}})},{id:"hilo",meta:{background:"#ff4f4f",name:"HiLo",image:"/games/logo.png",description:"HiLo invites players into a world of foresight and chance, where every decision holds the power to unlock untold riches. Embark on a journey of prediction as you forecast whether the next card will ascend or descend in value. Master the art of consecutive correct guesses to amplify winnings, strategically deciding when to cash out for maximum rewards, making each session an exhilarating test of skill and intuition."},props:{logo:"/logo.svg"},app:i()((function(){return n.e(39).then(n.bind(n,6039))}),{loadableGenerated:{webpack:function(){return[6039]}}})},{id:"mines",meta:{background:"#8376ff",name:"Mines",image:"/games/logo.png",description:"Mines emerges as a strategic masterpiece, where players navigate a perilous landscape in search of hidden treasures. Uncover squares with caution, as lurking mines threaten to abruptly end your quest. With each revelation, the stakes escalate, offering daring players a heart-pounding experience filled with suspense and calculated risk, ensuring an immersive and unforgettable gaming adventure."},app:i()((function(){return n.e(894).then(n.bind(n,7894))}),{loadableGenerated:{webpack:function(){return[7894]}}})},{id:"roulette",meta:{background:"#1de87e",name:"Roulette",image:"/games/logo.png",description:"Roulette breathes new life into the timeless tradition of wheel-spinning, blending elegance with digital innovation. Place your bets and witness the mesmerizing spectacle of the wheel as it determines your fate. With its straightforward yet captivating gameplay and the allure of substantial wins, Roulette stands as a testament to the thrill of chance and fortune, promising endless excitement and anticipation."},app:i()((function(){return n.e(191).then(n.bind(n,5191))}),{loadableGenerated:{webpack:function(){return[5191]}}})},{id:"plinko",meta:{background:"#7272ff",name:"Plinko",image:"/games/logo.png",description:"Plinko transforms the act of dropping chips into an art form, where anticipation and strategy converge to create an endlessly entertaining spectacle. Witness the tension mount with each chip's descent down the pegged board, as they randomly find their place among slots boasting varying win amounts. Each drop offers a delicate balance between luck and skill, making Plinko a captivating odyssey of chance and strategy. \u26a0\ufe0f Under development. Results shown might be incorrect. \u26a0\ufe0f"},app:i()((function(){return Promise.all([n.e(611),n.e(923)]).then(n.bind(n,3923))}),{loadableGenerated:{webpack:function(){return[3923]}}})},{id:"limbo",meta:{background:"#ff7d7d",name:"Limbo",image:"/games/logo.png",description:"Limbo challenges players to walk the fine line between ambition and caution, where every decision shapes their destiny. Set a target multiplier and place your bet, daring to defy the odds. As the stakes rise, so does the adrenaline, pushing players to test their strategy and intuition in pursuit of monumental victories, ensuring an immersive and adrenaline-fueled gaming experience."},app:i()((function(){return n.e(161).then(n.bind(n,2161))}),{loadableGenerated:{webpack:function(){return[2161]}}})},{id:"keno",meta:{background:"#317aff",name:"Keno",image:"/games/logo.png",description:"Keno beckons players into a world of strategic decision-making and anticipation, where every choice holds the potential for untold riches. Select up to 10 blocks and place your bets, eagerly awaiting the draw that will determine your fate. Whether opting for fewer numbers and the allure of substantial wins or more numbers for increased odds of success, Keno promises a riveting experience filled with excitement and possibility."},app:i()((function(){return n.e(253).then(n.bind(n,5253))}),{loadableGenerated:{webpack:function(){return[5253]}}})}]},8862:function(t,e,n){"use strict";n.d(e,{L:function(){return a}});var r=n(4529);function i(t,e){let n;try{n=t()}catch(r){return}return{getItem:t=>{var r;const i=t=>null===t?null:JSON.parse(t,null==e?void 0:e.reviver),o=null!=(r=n.getItem(t))?r:null;return o instanceof Promise?o.then(i):i(o)},setItem:(t,r)=>n.setItem(t,JSON.stringify(r,null==e?void 0:e.replacer)),removeItem:t=>n.removeItem(t)}}const o=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then:t=>o(t)(n),catch(t){return this}}}catch(n){return{then(t){return this},catch:t=>o(t)(n)}}},s=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},a=!1;const c=new Set,u=new Set;let l;try{l=s.getStorage()}catch(y){}if(!l)return t(((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...t)}),r,i);const h=o(s.serialize),d=()=>{const t=s.partialize({...r()});let e;const n=h({state:t,version:s.version}).then((t=>l.setItem(s.name,t))).catch((t=>{e=t}));if(e)throw e;return n},f=i.setState;i.setState=(t,e)=>{f(t,e),d()};const p=t(((...t)=>{n(...t),d()}),r,i);let m;const g=()=>{var t;if(!l)return;a=!1,c.forEach((t=>t(r())));const e=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,r()))||void 0;return o(l.getItem.bind(l))(s.name).then((t=>{if(t)return s.deserialize(t)})).then((t=>{if(t){if("number"!==typeof t.version||t.version===s.version)return t.state;if(s.migrate)return s.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((t=>{var e;return m=s.merge(t,null!=(e=r())?e:p),n(m,!0),d()})).then((()=>{null==e||e(m,void 0),a=!0,u.forEach((t=>t(m)))})).catch((t=>{null==e||e(void 0,t)}))};return i.persist={setOptions:t=>{s={...s,...t},t.getStorage&&(l=t.getStorage())},clearStorage:()=>{null==l||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:t=>(c.add(t),()=>{c.delete(t)}),onFinishHydration:t=>(u.add(t),()=>{u.delete(t)})},g(),m||p})(t,e)):((t,e)=>(n,r,s)=>{let a={storage:i((()=>localStorage)),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},c=!1;const u=new Set,l=new Set;let h=a.storage;if(!h)return t(((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...t)}),r,s);const d=()=>{const t=a.partialize({...r()});return h.setItem(a.name,{state:t,version:a.version})},f=s.setState;s.setState=(t,e)=>{f(t,e),d()};const p=t(((...t)=>{n(...t),d()}),r,s);let m;s.getInitialState=()=>p;const g=()=>{var t,e;if(!h)return;c=!1,u.forEach((t=>{var e;return t(null!=(e=r())?e:p)}));const i=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,null!=(t=r())?t:p))||void 0;return o(h.getItem.bind(h))(a.name).then((t=>{if(t){if("number"!==typeof t.version||t.version===a.version)return t.state;if(a.migrate)return a.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((t=>{var e;return m=a.merge(t,null!=(e=r())?e:p),n(m,!0),d()})).then((()=>{null==i||i(m,void 0),m=r(),c=!0,l.forEach((t=>t(m)))})).catch((t=>{null==i||i(void 0,t)}))};return s.persist={setOptions:t=>{a={...a,...t},t.storage&&(h=t.storage)},clearStorage:()=>{null==h||h.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:t=>(u.add(t),()=>{u.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},a.skipHydration||g(),m||p})(t,e);var a=(0,r.Ue)(s((function(t){return{agreedToTerms:!1,newcomer:!0,gamesPlayed:[],set:t}}),{name:"user",storage:i((function(){return sessionStorage}))}))},2769:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Je}});var r=n(6042),i=n(5893),o=(n(472),n(999),n(5959)),s=n(7294),a=n(4718);const c=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=(0,s.useMemo)((()=>new o.Connection(e,n)),[e,n]);return s.createElement(a.h.Provider,{value:{connection:r}},t)};var u,l=n(6729);class h extends Error{constructor(t,e){super(t),this.error=e}}class d extends h{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class f extends h{constructor(){super(...arguments),this.name="WalletConfigError"}}class p extends h{constructor(){super(...arguments),this.name="WalletConnectionError"}}class m extends h{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class g extends h{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class y extends h{constructor(){super(...arguments),this.name="WalletAccountError"}}class v extends h{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class w extends h{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class b extends h{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class _ extends h{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class k extends h{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class x extends h{constructor(){super(...arguments),this.name="WalletSignInError"}}!function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"}(u||(u={}));class S extends l{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const r=this.publicKey;if(!r)throw new w;return t.feePayer=t.feePayer||r,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function E(t){return"version"in t}class A extends S{async sendTransaction(t,e,n={}){let r=!0;try{if(E(t)){if(!this.supportedTransactionVersions)throw new b("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new b(`Sending transaction version ${t.version} isn't supported by this wallet`);try{const r=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(r,n)}catch(i){if(i instanceof _)throw r=!1,i;throw new b(i?.message,i)}}else try{const{signers:r,...i}=n;t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r);const o=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(o,i)}catch(i){if(i instanceof _)throw r=!1,i;throw new b(i?.message,i)}}catch(i){throw r&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(E(n)){if(!this.supportedTransactionVersions)throw new _("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new _(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class T extends A{}class I extends T{}new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");function O(t){let e=`${t.domain} wants you to sign in with your Solana account:\n`;e+=`${t.address}`,t.statement&&(e+=`\n\n${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const e of t.resources)n.push(`- ${e}`)}return n.length&&(e+=`\n\n${n.join("\n")}`),e}const C="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",M="ERROR_FORBIDDEN_WALLET_BASE_URL",P="ERROR_SECURE_CONTEXT_REQUIRED",R="ERROR_SESSION_CLOSED",B="ERROR_SESSION_TIMEOUT",N="ERROR_WALLET_NOT_FOUND",L="ERROR_INVALID_PROTOCOL_VERSION";class j extends Error{constructor(...t){const[e,n,r]=t;super(n),this.code=e,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class D extends Error{constructor(...t){const[e,n,r,i]=t;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function U(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function z(t){return e=function(t){return O(t)}(t),window.btoa(e);var e}const F="solana:signTransactions",q="solana:cloneAuthorization";function V(t,e){return new Proxy({},{get:(n,r)=>(null==n[r]&&(n[r]=function(n){return U(this,void 0,void 0,(function*(){const{method:i,params:o}=function(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)).toLowerCase();switch(t){case"authorize":{let{chain:t}=r;if("legacy"===n){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=r.cluster}r.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}r.chain=t}}case"reauthorize":{const{auth_token:t,identity:e}=r;if(t)if("legacy"===n)i="reauthorize",r={auth_token:t,identity:e};else i="authorize";break}}return{method:i,params:r}}(r,n,t),s=yield e(i,o);return"authorize"===i&&o.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield function(t,e,n){var r;return U(this,void 0,void 0,(function*(){const i=null!==(r=t.domain)&&void 0!==r?r:window.location.host,o=e.accounts[0].address,s=z(Object.assign(Object.assign({},t),{domain:i,address:o}));return{address:o,signed_message:s,signature:(yield n("sign_messages",{addresses:[o],payloads:[s]})).signed_payloads[0].slice(s.length)}}))}(o.sign_in_payload,s,e)),function(t,e,n){if("getCapabilities"===t){const t=e;switch(n){case"legacy":{const e=[F];return!0===t.supports_clone_authorization&&e.push(q),Object.assign(Object.assign({},t),{features:e})}case"v1":return Object.assign(Object.assign({},t),{supports_sign_and_send_transactions:!0,supports_clone_authorization:t.features.includes(q)})}}return e}(r,s,t)}))}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}function W(t,e,n){return U(this,void 0,void 0,(function*(){const r=function(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}(e),i=new Uint8Array(12);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(K(r,i),n,(new TextEncoder).encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s}))}function H(t,e){return U(this,void 0,void 0,(function*(){const n=t.slice(0,4),r=t.slice(4,16),i=t.slice(16),o=yield crypto.subtle.decrypt(K(n,r),e,i);return function(){void 0===$&&($=new TextDecoder("utf-8"));return $}().decode(o)}))}function K(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let $;function G(t){if(t<49152||t>65535)throw new j(C,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Z(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Y(t,e,n,r=["v1"]){return U(this,void 0,void 0,(function*(){const i=G(e),o=function(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}(yield crypto.subtle.exportKey("raw",t)),s=function(t,e){let n=null;if(e){try{n=new URL(e)}catch(i){}if("https:"!==(null===n||void 0===n?void 0:n.protocol))throw new j(M,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("solana-wallet:/"));const r=t.startsWith("/")?t:[...Z(n.pathname),...Z(t)].join("/");return new URL(r,n)}("v1/associate/local",n);return s.searchParams.set("association",o.replace(/[/+=]/g,(t=>({"/":"_","+":"-","=":"."}[t])))),s.searchParams.set("port",`${i}`),r.forEach((t=>{s.searchParams.set("v",t)})),s}))}const J=0,X=1;let Q=null;function tt(t,e){return U(this,void 0,void 0,(function*(){const n=G(49152+Math.floor(16384*Math.random())),r=yield Y(t,n,e);if("https:"===r.protocol)window.location.assign(r);else try{const t=-1!==navigator.userAgent.indexOf("Firefox/")?J:X;switch(t){case J:i=r,null==Q&&(Q=document.createElement("iframe"),Q.style.display="none",document.body.appendChild(Q)),Q.contentWindow.location.href=i.toString();break;case X:{const t=new Promise(((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout((()=>{n(),e()}),2e3)}));window.location.assign(r),yield t;break}}}catch(o){throw new j(N,"Found no installed wallet that supports the mobile wallet protocol.")}var i;return n}))}const et={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function nt(t){return new DataView(t).getUint32(0,!1)}function rt(t,e){return U(this,void 0,void 0,(function*(){!function(){if("undefined"===typeof window||!0!==window.isSecureContext)throw new j(P,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return U(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}(),r=yield tt(n.publicKey,null===e||void 0===e?void 0:e.baseUri),i=`ws://localhost:${r}/solana-wallet`;let o;const s=(()=>{const t=[...et.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise(((e,l)=>{let h;const d={},f=()=>U(this,void 0,void 0,(function*(){if("connecting"!==u.__type)return void console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);const{associationKeypair:t}=u;h.removeEventListener("open",f);const e=yield function(){return U(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}();h.send(yield function(t,e){return U(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i}))}(e.publicKey,t.privateKey)),u={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}})),p=t=>{t.wasClean?u={__type:"disconnected"}:l(new j(R,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),y()},m=t=>U(this,void 0,void 0,(function*(){y(),Date.now()-o>=et.timeoutMs?l(new j(B,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise((t=>{const e=s();v=window.setTimeout(t,e)})),w())})),g=n=>U(this,void 0,void 0,(function*(){const r=yield n.data.arrayBuffer();switch(u.__type){case"connected":try{const t=nt(r.slice(0,4));if(t!==c+1)throw new Error("Encrypted message has invalid sequence number");c=t;const e=yield function(t,e){return U(this,void 0,void 0,(function*(){const n=yield H(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new D(r.id,r.error.code,r.error.message);return r}))}(r,u.sharedSecret),n=d[e.id];delete d[e.id],n.resolve(e.result)}catch(i){if(!(i instanceof D))throw i;{const t=d[i.jsonRpcMessageId];delete d[i.jsonRpcMessageId],t.reject(i)}}break;case"hello_req_sent":{const n=yield function(t,e,n){return U(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}(r,u.associationPublicKey,u.ecdhPrivateKey),o=r.slice(65),s=0!==o.byteLength?yield(()=>U(this,void 0,void 0,(function*(){const t=nt(o.slice(0,4));if(t!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=t,function(t,e){return U(this,void 0,void 0,(function*(){const n=yield H(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new j(L,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}}))}(o,n)})))():{protocol_version:"legacy"};u={__type:"connected",sharedSecret:n,sessionProperties:s};const f=V(s.protocol_version,((t,e)=>U(this,void 0,void 0,(function*(){const r=a++;return h.send(yield function(t,e){return U(this,void 0,void 0,(function*(){return W(JSON.stringify(t),t.id,e)}))}({id:r,jsonrpc:"2.0",method:t,params:null!==e&&void 0!==e?e:{}},n)),new Promise(((e,n)=>{d[r]={resolve(r){switch(t){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=r;if(null!=t)try{!function(t){let e;try{e=new URL(t)}catch(n){throw new j(M,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new j(M,"Base URLs supplied by wallets must be valid `https` URLs")}(t)}catch(i){return void n(i)}break}}e(r)},reject:n}}))}))));try{e(yield t(f))}catch(i){l(i)}finally{y(),h.close()}break}}}));let y,v;const w=()=>{y&&y(),u={__type:"connecting",associationKeypair:n},void 0===o&&(o=Date.now()),h=new WebSocket(i,["com.solana.mobilewalletadapter.v1"]),h.addEventListener("open",f),h.addEventListener("close",p),h.addEventListener("error",m),h.addEventListener("message",g),y=()=>{window.clearTimeout(v),h.removeEventListener("open",f),h.removeEventListener("close",p),h.removeEventListener("error",m),h.removeEventListener("message",g)}};w()}))}))}var it=n(5019);function ot(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function st(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function at(t){return window.btoa(String.fromCharCode.call(null,...t))}function ct(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function ut(t){return at("version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function lt(t){const e=t[0]*o.SIGNATURE_LENGTH_IN_BYTES+1;return"legacy"===o.VersionedMessage.deserializeMessageVersion(t.slice(e,t.length))?o.Transaction.from(t):o.VersionedTransaction.deserialize(t)}function ht(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function dt(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}const ft="Mobile Wallet Adapter";function pt(t){return"version"in t}class mt extends I{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=ft,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!==typeof window&&window.isSecureContext&&"undefined"!==typeof document&&/android/i.test(navigator.userAgent)?u.Loadable:u.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=null!==(e=t.chain)&&void 0!==e?e:t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==u.Unsupported&&this._authorizationResultCache.get().then((t=>{t&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(t){const e=dt(t);return new o.PublicKey(e)}(this._selectedAddress)}catch(t){throw new v(t instanceof Error&&(null===t||void 0===t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==u.Installed&&this.emit("readyStateChange",this._readyState=u.Installed)}runWithGuard(t){return ht(this,void 0,void 0,(function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ht(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return ht(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){if(this._readyState!==u.Installed&&this._readyState!==u.Loadable)throw new d;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new p(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}connect(){return ht(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){if(this._readyState!==u.Installed&&this._readyState!==u.Loadable)throw new d;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new p(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}performAuthorization(t){return ht(this,void 0,void 0,(function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact((e=>ht(this,void 0,void 0,(function*(){const n=yield e.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))))}catch(e){throw new p(e instanceof Error&&e.message||"Unknown error",e)}}))}handleAuthorizationResult(t){var e;return ht(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some(((e,n)=>e.address!==t.accounts[n].address));if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const e=yield this._addressSelector.select(t.accounts.map((({address:t})=>t)));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(t,e){return ht(this,void 0,void 0,(function*(){try{const n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new m(n instanceof Error&&(null===n||void 0===n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return ht(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(t){var e;return ht(this,void 0,void 0,(function*(){const n=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,r=n?{baseUri:n}:void 0,i=this._connectionGeneration;try{return yield function(t,e){return st(this,void 0,void 0,(function*(){return yield rt((e=>{const n=new Proxy({},{get(t,n){if(null==t[n])switch(n){case"signAndSendTransactions":t[n]=function(t){var{minContextSlot:n,commitment:r,skipPreflight:i,maxRetries:o,waitForCommitmentToSendNextTransaction:s,transactions:a}=t,c=ot(t,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return st(this,void 0,void 0,(function*(){const t=a.map(ut),u={min_context_slot:n,commitment:r,skip_preflight:i,max_retries:o,wait_for_commitment_to_send_next_transaction:s},{signatures:l}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},c),Object.values(u).some((t=>null!=t))?{options:u}:null),{payloads:t}));return l.map(ct).map(it.encode)}))};break;case"signMessages":t[n]=function(t){var{payloads:n}=t,r=ot(t,["payloads"]);return st(this,void 0,void 0,(function*(){const t=n.map(at),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},r),{payloads:t}));return i.map(ct)}))};break;case"signTransactions":t[n]=function(t){var{transactions:n}=t,r=ot(t,["transactions"]);return st(this,void 0,void 0,(function*(){const t=n.map(ut),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},r),{payloads:t}));return i.map(ct).map(lt)}))};break;default:t[n]=e[n]}return t[n]},defineProperty:()=>!1,deleteProperty:()=>!1});return t(n)}),e)}))}(t,r)}catch(o){throw this._connectionGeneration!==i&&(yield new Promise((()=>{}))),o instanceof Error&&"SolanaMobileWalletAdapterError"===o.name&&"ERROR_WALLET_NOT_FOUND"===o.code&&(yield this._onWalletNotFound(this)),o}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new w;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return ht(this,void 0,void 0,(function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact((n=>ht(this,void 0,void 0,(function*(){yield this.performReauthorization(n,e);return yield n.signTransactions({transactions:t})}))))}catch(n){throw new _(null===n||void 0===n?void 0:n.message,n)}}))}sendTransaction(t,e,n){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const{authToken:r}=this.assertIsAuthorized(),i=null===n||void 0===n?void 0:n.minContextSlot;try{return yield this.transact((o=>ht(this,void 0,void 0,(function*(){function s(){let t,r;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null===n||void 0===n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=t;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===t?2:"confirmed"===t?1:0)?r:t}const[a,c,u]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,r),pt(t)?null:(()=>ht(this,void 0,void 0,(function*(){var n;if(t.feePayer||(t.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==t.recentBlockhash){const{blockhash:n}=yield e.getLatestBlockhash({commitment:s()});t.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions){return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0]}{const[r]=yield o.signTransactions({transactions:[t]});if(pt(r))return yield e.sendTransaction(r);{const t=r.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}))))}catch(o){throw new b(null===o||void 0===o?void 0:o.message,o)}}))))}))}signTransaction(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const[e]=yield this.performSignTransactions([t]);return e}))))}))}signAllTransactions(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){return yield this.performSignTransactions(t)}))))}))}signMessage(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>ht(this,void 0,void 0,(function*(){yield this.performReauthorization(r,e);const[i]=yield r.signMessages({addresses:[n],payloads:[t]});return i.slice(-64)}))))}catch(r){throw new k(null===r||void 0===r?void 0:r.message,r)}}))))}))}signIn(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){var e,n;if(this._readyState!==u.Installed&&this._readyState!==u.Loadable)throw new d;this._connecting=!0;try{const r=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:null!==(e=null===t||void 0===t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find((t=>t.address==i)))&&void 0!==n?n:{address:i}),{publicKey:dt(i)}),signedMessage:dt(r.sign_in_result.signed_message),signature:dt(r.sign_in_result.signature)}}catch(r){throw new p(r instanceof Error&&r.message||"Unknown error",r)}finally{this._connecting=!1}}))))}))}}const gt="SolanaMobileWalletAdapterDefaultAuthorizationCache";function yt(){let t;try{t=window.localStorage}catch(e){}return{clear(){return ht(this,void 0,void 0,(function*(){if(t)try{t.removeItem(gt)}catch(e){}}))},get(){return ht(this,void 0,void 0,(function*(){if(t)try{return JSON.parse(t.getItem(gt))||void 0}catch(e){}}))},set(n){return ht(this,void 0,void 0,(function*(){if(t)try{t.setItem(gt,JSON.stringify(n))}catch(e){}}))}}}function vt(t){return ht(this,void 0,void 0,(function*(){"undefined"!==typeof window&&window.location.assign(t.url)}))}const wt="solana:signAndSendTransaction",bt="solana:signTransaction",_t="standard:connect",kt="standard:events";const xt=function(t){return _t in t.features&&kt in t.features&&(wt in t.features||bt in t.features)},St="solana:signMessage",Et="solana:signIn",At="solana:mainnet",Tt="solana:devnet",It="solana:testnet",Ot="solana:localnet";const Ct="https://api.mainnet-beta.solana.com";function Mt(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Pt="standard:disconnect";function Rt(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var Bt,Nt,Lt,jt,Dt,Ut,zt,Ft,qt,Vt,Wt,Ht,Kt,$t,Gt,Zt,Yt,Jt,Xt=n(7191),Qt=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},te=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class ee extends S{constructor({wallet:t}){super(),Bt.add(this),Nt.set(this,void 0),Lt.set(this,void 0),jt.set(this,void 0),Dt.set(this,void 0),Ut.set(this,void 0),zt.set(this,void 0),Ft.set(this,void 0),qt.set(this,"undefined"===typeof window||"undefined"===typeof document?u.Unsupported:u.Installed),$t.set(this,(t=>{if("accounts"in t){const t=te(this,Ft,"f").accounts[0];te(this,Nt,"f")&&!te(this,Dt,"f")&&t!==te(this,Nt,"f")&&(t?te(this,Bt,"m",Wt).call(this,t):(this.emit("error",new m),te(this,Bt,"m",Ht).call(this)))}"features"in t&&te(this,Bt,"m",Kt).call(this)})),Qt(this,Ft,t,"f"),Qt(this,Nt,null,"f"),Qt(this,Lt,null,"f"),Qt(this,jt,!1,"f"),Qt(this,Dt,!1,"f"),Qt(this,Ut,te(this,Ft,"f").features[kt].on("change",te(this,$t,"f")),"f"),te(this,Bt,"m",Kt).call(this)}get name(){return te(this,Ft,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return te(this,Ft,"f").icon}get readyState(){return te(this,qt,"f")}get publicKey(){return te(this,Lt,"f")}get connecting(){return te(this,jt,"f")}get supportedTransactionVersions(){return te(this,zt,"f")}get wallet(){return te(this,Ft,"f")}get standard(){return!0}destroy(){Qt(this,Nt,null,"f"),Qt(this,Lt,null,"f"),Qt(this,jt,!1,"f"),Qt(this,Dt,!1,"f");const t=te(this,Ut,"f");t&&(Qt(this,Ut,null,"f"),t())}async autoConnect(){return te(this,Bt,"m",Vt).call(this,{silent:!0})}async connect(){return te(this,Bt,"m",Vt).call(this)}async disconnect(){if(Pt in te(this,Ft,"f").features)try{Qt(this,Dt,!0,"f"),await te(this,Ft,"f").features[Pt].disconnect()}catch(t){this.emit("error",new g(t?.message,t))}finally{Qt(this,Dt,!1,"f")}te(this,Bt,"m",Ht).call(this)}async sendTransaction(t,e,n={}){try{const o=te(this,Nt,"f");if(!o)throw new w;let s;if(wt in te(this,Ft,"f").features)if(o.features.includes(wt))s=wt;else{if(!(bt in te(this,Ft,"f").features)||!o.features.includes(bt))throw new y;s=bt}else{if(!(bt in te(this,Ft,"f").features))throw new f;if(!o.features.includes(bt))throw new y;s=bt}const a=(r=e.rpcEndpoint).includes(Ct)?At:/\bdevnet\b/i.test(r)?Tt:/\btestnet\b/i.test(r)?It:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?Ot:At;if(!o.chains.includes(a))throw new b;try{const{signers:r,...i}=n;let c;if(E(t)?(r?.length&&t.sign(r),c=t.serialize()):(t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r),c=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===wt){const[t]=await te(this,Ft,"f").features[wt].signAndSendTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:Mt(i.preflightCommitment||e.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return Xt.encode(t.signature)}{const[t]=await te(this,Ft,"f").features[bt].signTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:Mt(i.preflightCommitment||e.commitment),minContextSlot:i.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...i,preflightCommitment:Mt(i.preflightCommitment||e.commitment)})}}catch(i){if(i instanceof h)throw i;throw new b(i?.message,i)}}catch(i){throw this.emit("error",i),i}var r}}Nt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Dt=new WeakMap,Ut=new WeakMap,zt=new WeakMap,Ft=new WeakMap,qt=new WeakMap,$t=new WeakMap,Bt=new WeakSet,Vt=async function(t){try{if(this.connected||this.connecting)return;if(te(this,qt,"f")!==u.Installed)throw new d;if(Qt(this,jt,!0,"f"),!te(this,Ft,"f").accounts.length)try{await te(this,Ft,"f").features[_t].connect(t)}catch(e){throw new p(e?.message,e)}const n=te(this,Ft,"f").accounts[0];if(!n)throw new y;te(this,Bt,"m",Wt).call(this,n)}catch(e){throw this.emit("error",e),e}finally{Qt(this,jt,!1,"f")}},Wt=function(t){let e;try{e=new o.PublicKey(t.address)}catch(n){throw new v(n?.message,n)}Qt(this,Nt,t,"f"),Qt(this,Lt,e,"f"),te(this,Bt,"m",Kt).call(this),this.emit("connect",e)},Ht=function(){Qt(this,Nt,null,"f"),Qt(this,Lt,null,"f"),te(this,Bt,"m",Kt).call(this),this.emit("disconnect")},Kt=function(){const t=wt in te(this,Ft,"f").features?te(this,Ft,"f").features[wt].supportedTransactionVersions:te(this,Ft,"f").features[bt].supportedTransactionVersions;Qt(this,zt,Rt(t,["legacy"])?null:new Set(t),"f"),bt in te(this,Ft,"f").features&&te(this,Nt,"f")?.features.includes(bt)?(this.signTransaction=te(this,Bt,"m",Gt),this.signAllTransactions=te(this,Bt,"m",Zt)):(delete this.signTransaction,delete this.signAllTransactions),St in te(this,Ft,"f").features&&te(this,Nt,"f")?.features.includes(St)?this.signMessage=te(this,Bt,"m",Yt):delete this.signMessage,Et in te(this,Ft,"f").features?this.signIn=te(this,Bt,"m",Jt):delete this.signIn},Gt=async function(t){try{const n=te(this,Nt,"f");if(!n)throw new w;if(!(bt in te(this,Ft,"f").features))throw new f;if(!n.features.includes(bt))throw new y;try{const e=(await te(this,Ft,"f").features[bt].signTransaction({account:n,transaction:E(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return E(t)?o.VersionedTransaction.deserialize(e):o.Transaction.from(e)}catch(e){if(e instanceof h)throw e;throw new _(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Zt=async function(t){try{const n=te(this,Nt,"f");if(!n)throw new w;if(!(bt in te(this,Ft,"f").features))throw new f;if(!n.features.includes(bt))throw new y;try{const e=await te(this,Ft,"f").features[bt].signTransaction(...t.map((t=>({account:n,transaction:E(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return t.map(((t,n)=>{const r=e[n].signedTransaction;return E(t)?o.VersionedTransaction.deserialize(r):o.Transaction.from(r)}))}catch(e){throw new _(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Yt=async function(t){try{const n=te(this,Nt,"f");if(!n)throw new w;if(!(St in te(this,Ft,"f").features))throw new f;if(!n.features.includes(St))throw new y;try{return(await te(this,Ft,"f").features[St].signMessage({account:n,message:t}))[0].signature}catch(e){throw new k(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Jt=async function(t={}){try{if(!(Et in te(this,Ft,"f").features))throw new f;let n;try{[n]=await te(this,Ft,"f").features[Et].signIn(t)}catch(e){throw new x(e?.message,e)}if(!n)throw new x;return te(this,Bt,"m",Wt).call(this,n.account),n}catch(e){throw this.emit("error",e),e}};var ne,re=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},ie=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};let oe;const se=new Set,ae={};function ce(){if(oe)return oe;if(oe=Object.freeze({register:ue,get:le,on:he}),"undefined"===typeof window)return oe;const t=Object.freeze({register:ue});try{window.addEventListener("wallet-standard:register-wallet",(({detail:e})=>e(t)))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new fe(t))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return oe}function ue(...t){return(t=t.filter((t=>!se.has(t)))).length?(t.forEach((t=>se.add(t))),ae.register?.forEach((e=>de((()=>e(...t))))),function(){t.forEach((t=>se.delete(t))),ae.unregister?.forEach((e=>de((()=>e(...t)))))}):()=>{}}function le(){return[...se]}function he(t,e){return ae[t]?.push(e)||(ae[t]=[e]),function(){ae[t]=ae[t]?.filter((t=>e!==t))}}function de(t){try{t()}catch(e){console.error(e)}}class fe extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),ne.set(this,void 0),re(this,ne,t,"f")}get detail(){return ie(this,ne,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function pe(t){const e=me((()=>new Set)),{get:n,on:r}=me((()=>function(){if(oe)return oe;if(oe=ce(),"undefined"===typeof window)return oe;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),oe;const{register:e}=oe,n=(...t)=>t.forEach((t=>de((()=>t({register:e})))));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return console.error("window.navigator.wallets could not be set"),oe}return n(...t),oe}())),[i,o]=(0,s.useState)((()=>ge(n())));(0,s.useEffect)((()=>{const t=[r("register",((...t)=>o((e=>[...e,...ge(t)])))),r("unregister",((...t)=>o((e=>e.filter((e=>t.some((t=>t===e.wallet))))))))];return()=>t.forEach((t=>t()))}),[r]);const a=function(t){const e=(0,s.useRef)();return(0,s.useEffect)((()=>{e.current=t})),e.current}(i);return(0,s.useEffect)((()=>{if(!a)return;const t=new Set(i);new Set(a.filter((e=>!t.has(e)))).forEach((t=>t.destroy()))}),[a,i]),(0,s.useEffect)((()=>()=>i.forEach((t=>t.destroy()))),[]),(0,s.useMemo)((()=>[...i,...t.filter((({name:t})=>!i.some((e=>e.name===t))||(e.has(t)||(e.add(t),console.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1)))]),[i,t,e])}function me(t){const e=(0,s.useRef)();return e.current||(e.current={value:t()}),e.current.value}function ge(t){return t.filter(xt).map((t=>new ee({wallet:t})))}var ye;ne=new WeakMap,function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"}(ye||(ye={}));class ve extends h{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var we=n(4306);function be({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:a,onSelectWallet:c}){const l=(0,s.useRef)(!1),[h,f]=(0,s.useState)(!1),p=(0,s.useRef)(!1),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)((()=>n?.publicKey??null)),[b,_]=(0,s.useState)((()=>n?.connected??!1)),k=(0,s.useRef)(a);(0,s.useEffect)((()=>(k.current=a,()=>{k.current=void 0})),[a]);const x=(0,s.useRef)(((t,e)=>(r.current||(k.current?k.current(t,e):(console.error(t,e),t instanceof d&&"undefined"!==typeof window&&e&&window.open(e.url,"_blank"))),t))),[S,E]=(0,s.useState)((()=>e.map((t=>({adapter:t,readyState:t.readyState}))).filter((({readyState:t})=>t!==u.Unsupported))));(0,s.useEffect)((()=>{function t(t){E((e=>{const n=e.findIndex((({adapter:t})=>t===this));if(-1===n)return e;const{adapter:r}=e[n];return[...e.slice(0,n),{adapter:r,readyState:t},...e.slice(n+1)].filter((({readyState:t})=>t!==u.Unsupported))}))}return E((t=>e.map(((e,n)=>{const r=t[n];return r&&r.adapter===e&&r.readyState===e.readyState?r:{adapter:e,readyState:e.readyState}})).filter((({readyState:t})=>t!==u.Unsupported)))),e.forEach((e=>e.on("readyStateChange",t,e))),()=>{e.forEach((e=>e.off("readyStateChange",t,e)))}}),[n,e]);const A=(0,s.useMemo)((()=>S.find((t=>t.adapter===n))??null),[n,S]);(0,s.useEffect)((()=>{if(!n)return;const t=t=>{v(t),l.current=!1,f(!1),_(!0),p.current=!1,g(!1)},e=()=>{r.current||(v(null),l.current=!1,f(!1),_(!1),p.current=!1,g(!1))},i=t=>{x.current(t,n)};return n.on("connect",t),n.on("disconnect",e),n.on("error",i),()=>{n.off("connect",t),n.off("disconnect",e),n.off("error",i),e()}}),[n,r]);const T=(0,s.useRef)(!1);(0,s.useEffect)((()=>()=>{T.current=!1}),[n]),(0,s.useEffect)((()=>{T.current||l.current||b||!i||A?.readyState!==u.Installed&&A?.readyState!==u.Loadable||(l.current=!0,f(!0),T.current=!0,async function(){try{await i()}catch{o()}finally{f(!1),l.current=!1}}())}),[b,i,o,A]);const I=(0,s.useCallback)((async(t,e,r)=>{if(!n)throw x.current(new ve);if(!b)throw x.current(new w,n);return await n.sendTransaction(t,e,r)}),[n,b]),O=(0,s.useMemo)((()=>n&&"signTransaction"in n?async t=>{if(!b)throw x.current(new w,n);return await n.signTransaction(t)}:void 0),[n,b]),C=(0,s.useMemo)((()=>n&&"signAllTransactions"in n?async t=>{if(!b)throw x.current(new w,n);return await n.signAllTransactions(t)}:void 0),[n,b]),M=(0,s.useMemo)((()=>n&&"signMessage"in n?async t=>{if(!b)throw x.current(new w,n);return await n.signMessage(t)}:void 0),[n,b]),P=(0,s.useMemo)((()=>n&&"signIn"in n?async t=>await n.signIn(t):void 0),[n]),R=(0,s.useCallback)((async()=>{if(l.current||p.current||A?.adapter.connected)return;if(!A)throw x.current(new ve);const{adapter:t,readyState:e}=A;if(e!==u.Installed&&e!==u.Loadable)throw x.current(new d,t);l.current=!0,f(!0);try{await t.connect()}catch(n){throw o(),n}finally{f(!1),l.current=!1}}),[o,A]),B=(0,s.useCallback)((async()=>{if(!p.current&&n){p.current=!0,g(!0);try{await n.disconnect()}finally{g(!1),p.current=!1}}}),[n]);return s.createElement(we.z.Provider,{value:{autoConnect:!!i,wallets:S,wallet:A,publicKey:y,connected:b,connecting:h,disconnecting:m,select:c,connect:R,disconnect:B,sendTransaction:I,signTransaction:O,signAllTransactions:C,signMessage:M,signIn:P}},t)}let _e;function ke(t){return function({adapters:t,userAgentString:e}){return t.some((t=>t.name!==ft&&t.readyState===u.Installed))?ye.DESKTOP_WEB:e&&/android/i.test(e)&&!function(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}(e)?ye.MOBILE_WEB:ye.DESKTOP_WEB}({adapters:t,userAgentString:(void 0===_e&&(_e=globalThis.navigator?.userAgent??null),_e)})===ye.MOBILE_WEB}function xe(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Se({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=(0,a.R)(),c=pe(e),u=(0,s.useMemo)((()=>{if(!ke(c))return null;const t=c.find((t=>t.name===ft));return t||new mt({addressSelector:{select(t){return ht(this,void 0,void 0,(function*(){return t[0]}))}},appIdentity:{uri:xe()},authorizationResultCache:yt(),cluster:(e=o?.rpcEndpoint,e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:vt});var e}),[c,o?.rpcEndpoint]),l=(0,s.useMemo)((()=>null==u||-1!==c.indexOf(u)?c:[u,...c]),[c,u]),[h,d]=function(t,e){const n=(0,s.useState)((()=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(n){"undefined"!==typeof window&&console.error(n)}return e})),r=n[0],i=(0,s.useRef)(!0);return(0,s.useEffect)((()=>{if(i.current)i.current=!1;else try{null===r?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(e){"undefined"!==typeof window&&console.error(e)}}),[r,t]),n}(r,ke(c)?ft:null),f=(0,s.useMemo)((()=>l.find((t=>t.name===h))??null),[l,h]),p=(0,s.useCallback)((t=>{h!==t&&(f&&f.name!==ft&&f.disconnect(),d(t))}),[f,d,h]);(0,s.useEffect)((()=>{if(f)return f.on("disconnect",t),()=>{f.off("disconnect",t)};function t(){y.current||h===ft&&ke(c)||d(null)}}),[f,c,d,h]);const m=(0,s.useRef)(!1),g=(0,s.useMemo)((()=>{if(n&&f)return async()=>{(!0===n||await n(f))&&(m.current?await f.connect():await f.autoConnect())}}),[n,f]),y=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(h!==ft||!ke(c))return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)};function t(){y.current=!0}y.current=!1}),[c,h]);const v=(0,s.useCallback)((()=>{f&&f.name!==ft&&p(null)}),[f,p]),w=(0,s.useCallback)((t=>{m.current=!0,p(t)}),[p]);return s.createElement(be,{wallets:l,adapter:f,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:v,onError:i,onSelectWallet:w},t)}var Ee=n(1355),Ae=n(8288),Te=[{href:"https://t.me/shibainulfg",title:"Telegram"},{href:"https://x.com/shibainulfg",title:"Twitter"},{href:"https://www.shibainusol.net/",title:"Website"}],Ie="https://x.com/shibainulfg",Oe="\xa9 2024 Shiba Inu";function Ce(){return(0,i.jsx)("footer",{className:"bg-black rounded-t-2xl shadow dark:bg-gray-900",children:(0,i.jsxs)("div",{className:"w-full max-w-screen-xl mx-auto p-4 md:py-8",children:[(0,i.jsxs)("div",{className:"sm:flex sm:items-center sm:justify-between",children:[(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://Floki-sol.site",className:"flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse",children:(0,i.jsx)("img",{src:"/DogeBets.png",className:"h-10",alt:"Gamba Logo"})}),(0,i.jsx)("ul",{className:"flex flex-wrap items-center mb-6 text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400",children:Te.map((function(t){return(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t.href,className:"hover:underline me-4 md:me-6",children:t.title})},t.href)}))})]}),(0,i.jsx)("hr",{className:"my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"}),(0,i.jsx)("span",{className:"block text-sm text-gray-500 sm:text-center dark:text-gray-400",children:(0,i.jsx)("a",{href:Ie,className:"hover:underline",children:Oe})})]})})}var Me=n(9531),Pe=n(7306),Re=n(1664),Be=n.n(Re),Ne=n(2198),Le=n(4712);function je(t){var e=t.event,n=e.data,r=(0,Ee.cg)(n.tokenMint),o=n.bet[n.resultIndex.toNumber()]/Pe.HI,s=n.wager.toNumber(),a=o*s+n.jackpotPayoutToUser.toNumber()-s,c=(0,Ne.m)(e).game;if(!c||!r)return null;var u=a>=0?"text-green-600":"text-red-600";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:"/games/".concat(c.id,"/logo.png"),alt:"".concat(c.meta.name),className:"h-10"}),(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)("img",{src:"/logo.svg",alt:"gamba",className:"absolute top-2 right-2 w-24 h-6 rounded-full"}),(0,i.jsxs)("div",{className:"font-bold text-lg",children:[n.user.toBase58().substring(0,4),"..."," ",(0,i.jsx)("span",{className:"text-sm",children:a>=0?"WON":"LOST"})," ",(0,i.jsx)(Ee.WA,{amount:Math.abs(a),mint:n.tokenMint})]}),(0,i.jsxs)("div",{className:"whitespace-nowrap flex items-center gap-2 mt-2",children:[r.image?(0,i.jsx)("img",{src:r.image,alt:"".concat(r.name),className:"w-6 h-6 rounded-full"}):(0,i.jsx)("span",{className:"inline-block w-6 h-6 border border-white rounded-full items-center justify-center text-xs font-medium text-white",children:(0,i.jsx)("span",{className:"w-4 h-4 rounded-full border border-white flex items-center justify-center",children:r.symbol})}),a>=0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:["+",(0,i.jsx)(Ee.WA,{amount:n.payout.toNumber(),mint:n.tokenMint})]}),(0,i.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["(",o.toFixed(2),"x)"]})]})]}),n.jackpotPayoutToUser.toNumber()>0&&(0,i.jsxs)("div",{className:"mt-2 animate-jackpotGradient flex items-center gap-2 text-black rounded-lg p-1",children:["+",(0,i.jsx)(Ee.WA,{mint:n.tokenMint,amount:n.jackpotPayoutToUser.toNumber()})]}),(0,i.jsxs)("div",{className:"flex flex-row gap-2 absolute bottom-2 right-2",children:[(0,i.jsx)("a",{href:"https://explorer.gamba.so/tx/".concat(e.signature),target:"_blank",rel:"noreferrer",children:(0,i.jsx)("button",{className:"gambaButton text-xs rounded-lg p-1",children:"Verify"})}),(0,i.jsx)(Be(),{href:"/play/".concat(c.id),passHref:!0,children:(0,i.jsx)("button",{className:"gambaButton text-xs rounded-lg px-2",children:"Play"})})]})]})]})}var De=function(){var t=(0,we.O)().publicKey;return(0,Me.jv)("GameSettled",(function(e){if((0,Ne.m)(e).game){var n=null===t||void 0===t?void 0:t.toString(),r=e.data.user.toBase58();if(!t||r!==n)(e.data.payout.toNumber()>0?Le.A.success:Le.A.error)((0,i.jsx)(je,{event:e}),{duration:5e3,position:"bottom-left"})}})),null},Ue=n(3495),ze=n(3935);const Fe=({id:t,children:e,expanded:n=!1})=>{const r=(0,s.useRef)(null),i=(0,s.useRef)(!0);return(0,s.useLayoutEffect)((()=>{n?(()=>{const t=r.current;t&&requestAnimationFrame((()=>{t.style.height=t.scrollHeight+"px"}))})():(()=>{const t=r.current;t&&requestAnimationFrame((()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame((()=>{t.style.height="0"}))}))})()}),[n]),(0,s.useLayoutEffect)((()=>{const t=r.current;if(t)return i.current&&(e(),i.current=!1),t.addEventListener("transitionend",o),()=>t.removeEventListener("transitionend",o);function e(){t&&(t.style.overflow=n?"initial":"hidden",n&&(t.style.height="auto"))}function o(n){t&&n.target===t&&"height"===n.propertyName&&e()}}),[n]),s.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:"height 250ms ease-out"}},e)},qe=t=>s.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&s.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&s.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),Ve=({wallet:t,...e})=>t&&s.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),We=({handleClick:t,tabIndex:e,wallet:n})=>s.createElement("li",null,s.createElement(qe,{onClick:t,startIcon:s.createElement(Ve,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===u.Installed&&s.createElement("span",null,"Detected"))),He=()=>s.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),s.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),s.createElement("g",{clipPath:"url(#clip0_880_5115)"},s.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),s.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),s.createElement("defs",null,s.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#9945FF"}),s.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),s.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),s.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),s.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),s.createElement("stop",{offset:"1",stopColor:"#00D18C"})),s.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#9945FF"}),s.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),s.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),s.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),s.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),s.createElement("stop",{offset:"1",stopColor:"#00D18C"})),s.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#9945FF"}),s.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),s.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),s.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),s.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),s.createElement("stop",{offset:"1",stopColor:"#00D18C"})),s.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#9945FF"}),s.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),s.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),s.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),s.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),s.createElement("stop",{offset:"1",stopColor:"#00D18C"})),s.createElement("clipPath",{id:"clip0_880_5115"},s.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Ke=({className:t="",container:e="body"})=>{const n=(0,s.useRef)(null),{wallets:r,select:i}=(0,we.O)(),{setVisible:o}=(0,Ue.h)(),[a,c]=(0,s.useState)(!1),[l,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(null),[p,m]=(0,s.useMemo)((()=>{const t=[],e=[];for(const n of r)n.readyState===u.Installed?t.push(n):e.push(n);return t.length?[t,e]:[e,[]]}),[r]),g=(0,s.useCallback)((()=>{h(!1),setTimeout((()=>o(!1)),150)}),[o]),y=(0,s.useCallback)((t=>{t.preventDefault(),g()}),[g]),v=(0,s.useCallback)(((t,e)=>{i(e),y(t)}),[i,y]),w=(0,s.useCallback)((()=>c(!a)),[a]),b=(0,s.useCallback)((t=>{const e=n.current;if(!e)return;const r=e.querySelectorAll("button"),i=r[0],o=r[r.length-1];t.shiftKey?document.activeElement===i&&(o.focus(),t.preventDefault()):document.activeElement===o&&(i.focus(),t.preventDefault())}),[n]);return(0,s.useLayoutEffect)((()=>{const t=t=>{"Escape"===t.key?g():"Tab"===t.key&&b(t)},{overflow:e}=window.getComputedStyle(document.body);return setTimeout((()=>h(!0)),0),document.body.style.overflow="hidden",window.addEventListener("keydown",t,!1),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t,!1)}}),[g,b]),(0,s.useLayoutEffect)((()=>f(document.querySelector(e))),[e]),d&&(0,ze.createPortal)(s.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},s.createElement("div",{className:"wallet-adapter-modal-container"},s.createElement("div",{className:"wallet-adapter-modal-wrapper"},s.createElement("button",{onClick:y,className:"wallet-adapter-modal-button-close"},s.createElement("svg",{width:"14",height:"14"},s.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?s.createElement(s.Fragment,null,s.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),s.createElement("ul",{className:"wallet-adapter-modal-list"},p.map((t=>s.createElement(We,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),wallet:t}))),m.length?s.createElement(Fe,{expanded:a,id:"wallet-adapter-modal-collapse"},m.map((t=>s.createElement(We,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),tabIndex:a?0:-1,wallet:t})))):null),m.length?s.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},s.createElement("span",null,a?"Less ":"More ","options"),s.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(a?"wallet-adapter-modal-list-more-icon-rotate":"")},s.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):s.createElement(s.Fragment,null,s.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),s.createElement("div",{className:"wallet-adapter-modal-middle"},s.createElement(He,null)),m.length?s.createElement(s.Fragment,null,s.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},s.createElement("span",null,a?"Hide ":"Already have a wallet? View ","options"),s.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(a?"wallet-adapter-modal-list-more-icon-rotate":"")},s.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),s.createElement(Fe,{expanded:a,id:"wallet-adapter-modal-collapse"},s.createElement("ul",{className:"wallet-adapter-modal-list"},m.map((t=>s.createElement(We,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),tabIndex:a?0:-1,wallet:t})))))):null))),s.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:y})),d)},$e=({children:t,...e})=>{const[n,r]=(0,s.useState)(!1);return s.createElement(Ue.g.Provider,{value:{visible:n,setVisible:r}},t,n&&s.createElement(Ke,{...e}))};var Ge=n(9396),Ze=n(9081),Ye=n(8862);var Je=function(t){var e,n=t.Component,o=t.pageProps,a=function(){var t=(0,s.useState)(!1),e=t[0],n=t[1],o=(0,Ye.L)(),a=o.agreedToTerms,c=o.set;(0,s.useEffect)((function(){n(!a)}),[a]);var u=function(){c((function(t){return(0,Ge.Z)((0,r.Z)({},t),{agreedToTerms:!0})})),n(!1)};return{showDisclaimer:e,DisclaimerModal:function(){return(0,i.jsxs)(Ze.u,{onClose:u,children:[(0,i.jsx)("div",{className:"modal items-start text-left p-4 overflow-y-auto max-h-[60vh]",style:{maxHeight:"400px"},children:(0,i.jsxs)("ol",{className:"list-decimal list-inside space-y-4",children:[(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"1. Age Requirement:"})," Must be at least 18 years old."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"2. Legal Compliance:"})," Follow local laws responsibly."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"3. Risk Acknowledgement:"})," Games involve risk; no guaranteed winnings."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"4. No Warranty:"}),' Games provided "as is"; operate randomly.']}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"5. Limitation of Liability:"})," ","We're not liable for damages."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"6. Licensing Disclaimer:"})," Not a licensed casino; for simulation only."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"7. Fair Play:"})," Games are conducted fairly and transparently."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"8. Data Privacy:"})," Your privacy is important to us."]}),(0,i.jsxs)("li",{className:"text-lg",children:[(0,i.jsx)("span",{className:"font-bold",children:"9. Responsible Gaming:"})," Play responsibly; seek help if needed."]})]})}),(0,i.jsx)("p",{className:"text-lg py-6",children:"By playing on our platform, you confirm your compliance."}),(0,i.jsx)(Ee.AX.Button,{main:!0,onClick:u,children:"Acknowledge"})]})}}}(),u=a.showDisclaimer,l=a.DisclaimerModal,h=null!==(e="https://mainnet.helius-rpc.com/?api-key=11a2a08c-1a23-415a-90f0-a80b2c11ced7")?e:"https://api.mainnet-beta.solana.com";return(0,i.jsx)("div",{className:"bg-background-image h-screen overflow-auto",children:(0,i.jsx)(c,{endpoint:h,config:{commitment:"processed"},children:(0,i.jsx)(Se,{autoConnect:!0,wallets:[],children:(0,i.jsx)($e,{children:(0,i.jsx)(Ee.Pk,{tokens:Ae.EX,children:(0,i.jsx)(Me.nh,{children:(0,i.jsxs)(Ee.bG,{creator:Ae.Ie,defaultCreatorFee:Ae.Jr,defaultJackpotFee:Ae.cg,children:[(0,i.jsx)(n,(0,r.Z)({},o)),(0,i.jsx)(Ce,{}),(0,i.jsx)(Le.x,{position:"bottom-right",richColors:!0,toastOptions:{style:{background:"#15151f"}}}),Ae.fT&&(0,i.jsx)(De,{}),u&&(0,i.jsx)(l,{})]})})})})})})})}},2198:function(t,e,n){"use strict";n.d(e,{x:function(){return f},m:function(){return d}});var r=n(9474),o=n(3375),s=n(3128),a=n(1566);var c=n(5893),u=n(7306),l=n(1355),h=n(7547),d=function(t){try{var e=(c=t.data.metadata.split(":"),(0,r.Z)(c)||(0,o.Z)(c)||(0,a.Z)(c,i)||(0,s.Z)()),n=(e[0],e[1]);e.slice(2);return{game:h.W.find((function(t){return t.id.toLowerCase()===n.toLowerCase()})),gameNameFallback:n||"Unknown"}}catch(u){return{game:null,gameNameFallback:"Unknown"}}var c};function f(t){var e=t.event,n=e.data,r=(0,l.cg)(n.tokenMint),i=n.bet[n.resultIndex.toNumber()]/u.HI,o=n.wager.toNumber(),s=i*o-o,a=d(e),h=a.game,f=a.gameNameFallback;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"game-info",children:h?(0,c.jsx)("img",{src:"/games/".concat(h.id,"/logo.png"),alt:"Splash for ".concat(h.meta.name),width:64}):(0,c.jsx)("div",{className:"fallback-game-info",children:f})}),(0,c.jsx)("div",{style:{color:"#a079ff"},children:"".concat(n.user.toBase58().substring(0,4),"...").concat(n.user.toBase58().slice(-4))}),(0,c.jsx)("div",{className:"hidden md:flex",children:s>=0?" WON ":" LOST "}),(0,c.jsxs)("div",{className:"flex gap-2 items-center rounded-lg p-1",style:{backgroundColor:s>0?"#34D399":"#666"},children:[r.image?(0,c.jsx)("img",{src:r.image,alt:"Token",width:24,className:"rounded-full"}):(0,c.jsx)("span",{className:"inline-block w-6 h-6 border border-white rounded-full items-center justify-center text-xs font-medium text-white",children:(0,c.jsx)("span",{className:"w-4 h-4 rounded-full border border-white flex items-center justify-center m-auto",children:r.symbol})}),(0,c.jsx)(l.WA,{amount:Math.abs(s),mint:n.tokenMint})]}),(0,c.jsxs)("div",{className:"hidden md:flex flex-col",children:[s>0&&(0,c.jsxs)("div",{children:["(",i.toFixed(2),"x)"]}),n.jackpotPayoutToUser.toNumber()>0&&(0,c.jsxs)("div",{className:"animate-jackpotGradient flex gap-2 items-center text-black rounded-lg p-1",children:["+",(0,c.jsx)(l.WA,{mint:n.tokenMint,amount:n.jackpotPayoutToUser.toNumber()})]})]})]})}},7596:function(t,e,n){var r=n(3454),i=n(8764).Buffer;!function(){var e={992:function(t){t.exports=function(t,n,r){if(t.filter)return t.filter(n,r);if(void 0===t||null===t)throw new TypeError;if("function"!=typeof n)throw new TypeError;for(var i=[],o=0;o<t.length;o++)if(e.call(t,o)){var s=t[o];n.call(r,s,o,t)&&i.push(s)}return i};var e=Object.prototype.hasOwnProperty},167:function(t,e,n){"use strict";function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o,s,a=n(23).codes,c=a.ERR_AMBIGUOUS_ARGUMENT,u=a.ERR_INVALID_ARG_TYPE,l=a.ERR_INVALID_ARG_VALUE,h=a.ERR_INVALID_RETURN_VALUE,d=a.ERR_MISSING_ARGS,f=n(545),p=n(177).inspect,m=n(177).types,g=m.isPromise,y=m.isRegExp,v=Object.assign?Object.assign:n(604).assign,w=Object.is?Object.is:n(208);new Map;function b(){var t=n(176);o=t.isDeepEqual,s=t.isDeepStrictEqual}var _=!1,k=t.exports=A,x={};function S(t){if(t.message instanceof Error)throw t.message;throw new f(t)}function E(t,e,n,r){if(!n){var i=!1;if(0===e)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new f({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function A(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[A,e.length].concat(e))}k.fail=function t(e,n,i,o,s){var a,c=arguments.length;if(0===c)a="Failed";else if(1===c)i=e,e=void 0;else{if(!1===_){_=!0;var u=r.emitWarning?r.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===c&&(o="!=")}if(i instanceof Error)throw i;var l={actual:e,expected:n,operator:void 0===o?"fail":o,stackStartFn:s||t};void 0!==i&&(l.message=i);var h=new f(l);throw a&&(h.message=a,h.generatedMessage=!0),h},k.AssertionError=f,k.ok=A,k.equal=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");e!=n&&S({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},k.notEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");e==n&&S({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},k.deepEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===o&&b(),o(e,n)||S({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},k.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===o&&b(),o(e,n)&&S({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},k.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===o&&b(),s(e,n)||S({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},k.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===o&&b();s(e,n)&&S({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},k.strictEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");w(e,n)||S({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},k.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new d("actual","expected");w(e,n)&&S({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var T=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"===typeof r[t]&&y(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function I(t,e,n,r,i,o){if(!(n in t)||!s(t[n],e[n])){if(!r){var a=new T(t,i),c=new T(e,i,t),u=new f({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=t,u.expected=e,u.operator=o.name,u}S({actual:t,expected:e,message:r,operator:o.name,stackStartFn:o})}}function O(t,e,n,r){if("function"!==typeof e){if(y(e))return e.test(t);if(2===arguments.length)throw new u("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var s=new f({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw s.operator=r.name,s}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new l("error",e,"may not be an empty object");return void 0===o&&b(),a.forEach((function(i){"string"===typeof t[i]&&y(e[i])&&e[i].test(t[i])||I(t,e,i,n,a,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function C(t){if("function"!==typeof t)throw new u("fn","Function",t);try{t()}catch(t){return t}return x}function M(t){return g(t)||null!==t&&"object"===i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function P(t){return Promise.resolve().then((function(){var e;if("function"===typeof t){if(!M(e=t()))throw new h("instance of Promise","promiseFn",e)}else{if(!M(t))throw new u("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return x})).catch((function(t){return t}))}))}function R(t,e,n,r){if("string"===typeof n){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],n);if("object"===i(e)&&null!==e){if(e.message===n)throw new c("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new c("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==i(n)&&"function"!==typeof n)throw new u("error",["Object","Error","Function","RegExp"],n);if(e===x){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=r?": ".concat(r):".";var s="rejects"===t.name?"rejection":"exception";S({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(n&&!O(e,n,r,t))throw e}function B(t,e,n,r){if(e!==x){if("string"===typeof n&&(r=n,n=void 0),!n||O(e,n)){var i=r?": ".concat(r):".",o="doesNotReject"===t.name?"rejection":"exception";S({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[N,e.length].concat(e))}k.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.apply(void 0,[t,C(e)].concat(r))},k.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(e).then((function(e){return R.apply(void 0,[t,e].concat(r))}))},k.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];B.apply(void 0,[t,C(e)].concat(r))},k.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(e).then((function(e){return B.apply(void 0,[t,e].concat(r))}))},k.ifError=function t(e){if(null!==e&&void 0!==e){var n="ifError got unwanted exception: ";"object"===i(e)&&"string"===typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=p(e);var r=new f({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),o=e.stack;if("string"===typeof o){var s=o.split("\n");s.shift();for(var a=r.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}r.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw r}},k.strict=v(N,k,{equal:k.strictEqual,deepEqual:k.deepStrictEqual,notEqual:k.notStrictEqual,notDeepEqual:k.notDeepStrictEqual}),k.strict.strict=k.strict},545:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e="function"===typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return l(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)},c(t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return l=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&h(i,n.prototype),i},l.apply(null,arguments)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}var p=n(177).inspect,m=n(23).codes.ERR_INVALID_ARG_TYPE;function g(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var y="",v="",w="",b="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function k(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function x(t){return p(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function S(t,e,n){var i="",o="",s=0,a="",c=!1,u=x(t),l=u.split("\n"),h=x(e).split("\n"),d=0,p="";if("strictEqual"===n&&"object"===f(t)&&"object"===f(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===l.length&&1===h.length&&l[0]!==h[0]){var m=l[0].length+h[0].length;if(m<=10){if(("object"!==f(t)||null===t)&&("object"!==f(e)||null===e)&&(0!==t||0!==e))return"".concat(_[n],"\n\n")+"".concat(l[0]," !== ").concat(h[0],"\n")}else if("strictEqualObject"!==n){if(m<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][d]===h[0][d];)d++;d>2&&(p="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",d),"^"),d=0)}}}for(var k=l[l.length-1],S=h[h.length-1];k===S&&(d++<2?a="\n  ".concat(k).concat(a):i=k,l.pop(),h.pop(),0!==l.length&&0!==h.length);)k=l[l.length-1],S=h[h.length-1];var E=Math.max(l.length,h.length);if(0===E){var A=u.split("\n");if(A.length>30)for(A[26]="".concat(y,"...").concat(b);A.length>27;)A.pop();return"".concat(_.notIdentical,"\n\n").concat(A.join("\n"),"\n")}d>3&&(a="\n".concat(y,"...").concat(b).concat(a),c=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var T=0,I=_[n]+"\n".concat(v,"+ actual").concat(b," ").concat(w,"- expected").concat(b),O=" ".concat(y,"...").concat(b," Lines skipped");for(d=0;d<E;d++){var C=d-s;if(l.length<d+1)C>1&&d>2&&(C>4?(o+="\n".concat(y,"...").concat(b),c=!0):C>3&&(o+="\n  ".concat(h[d-2]),T++),o+="\n  ".concat(h[d-1]),T++),s=d,i+="\n".concat(w,"-").concat(b," ").concat(h[d]),T++;else if(h.length<d+1)C>1&&d>2&&(C>4?(o+="\n".concat(y,"...").concat(b),c=!0):C>3&&(o+="\n  ".concat(l[d-2]),T++),o+="\n  ".concat(l[d-1]),T++),s=d,o+="\n".concat(v,"+").concat(b," ").concat(l[d]),T++;else{var M=h[d],P=l[d],R=P!==M&&(!g(P,",")||P.slice(0,-1)!==M);R&&g(M,",")&&M.slice(0,-1)===P&&(R=!1,P+=","),R?(C>1&&d>2&&(C>4?(o+="\n".concat(y,"...").concat(b),c=!0):C>3&&(o+="\n  ".concat(l[d-2]),T++),o+="\n  ".concat(l[d-1]),T++),s=d,o+="\n".concat(v,"+").concat(b," ").concat(P),i+="\n".concat(w,"-").concat(b," ").concat(M),T+=2):(o+=i,i="",1!==C&&0!==d||(o+="\n  ".concat(P),T++))}if(T>20&&d<E-2)return"".concat(I).concat(O,"\n").concat(o,"\n").concat(y,"...").concat(b).concat(i,"\n")+"".concat(y,"...").concat(b)}return"".concat(I).concat(c?O:"","\n").concat(o).concat(i).concat(a).concat(p)}var E=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==f(t)||null===t)throw new m("options","Object",t);var i=t.message,o=t.operator,c=t.stackStartFn,u=t.actual,l=t.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=s(this,d(e).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(y="\x1b[34m",v="\x1b[32m",b="\x1b[39m",w="\x1b[31m"):(y="",v="",b="",w="")),"object"===f(u)&&null!==u&&"object"===f(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=k(u),l=k(l)),"deepStrictEqual"===o||"strictEqual"===o)n=s(this,d(e).call(this,S(u,l,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var p=_[o],g=x(u).split("\n");if("notStrictEqual"===o&&"object"===f(u)&&null!==u&&(p=_.notStrictEqualObject),g.length>30)for(g[26]="".concat(y,"...").concat(b);g.length>27;)g.pop();n=1===g.length?s(this,d(e).call(this,"".concat(p," ").concat(g[0]))):s(this,d(e).call(this,"".concat(p,"\n\n").concat(g.join("\n"),"\n")))}else{var E=x(u),A="",T=_[o];"notDeepEqual"===o||"notEqual"===o?(E="".concat(_[o],"\n\n").concat(E)).length>1024&&(E="".concat(E.slice(0,1021),"...")):(A="".concat(x(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),A.length>512&&(A="".concat(A.slice(0,509),"...")),"deepEqual"===o||"equal"===o?E="".concat(T,"\n\n").concat(E,"\n\nshould equal\n\n"):A=" ".concat(o," ").concat(A)),n=s(this,d(e).call(this,"".concat(E).concat(A)))}return Error.stackTraceLimit=h,n.generatedMessage=!i,Object.defineProperty(a(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(a(n),c),n.stack,n.name="AssertionError",s(n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(t,e){return p(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}]),e}(c(Error));t.exports=E},23:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}var a,c,u={};function l(t,e,n){function r(t,n,r){return"string"===typeof e?e:e(t,n,r)}n||(n=Error);var a=function(e){function n(e,s,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(c=i(this,o(n).call(this,r(e,s,a)))).code=t,c}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,e),n}(n);u[t]=a}function h(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s;if(void 0===a&&(a=n(167)),a("string"===typeof t,"'name' must be a string"),"string"===typeof e&&function(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}(e,"not ")?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(o," ").concat(h(e,"type"));else{var c=function(t,e,n){return"number"!==typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(c," ").concat(o," ").concat(h(e,"type"))}return s+=". Received type ".concat(r(i))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=n(177));var i=c.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===a&&(a=n(167)),a(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=u},176:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},a=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},c=Object.is?Object.is:n(208),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(718);function h(t){return t.call.bind(t)}var d=h(Object.prototype.hasOwnProperty),f=h(Object.prototype.propertyIsEnumerable),p=h(Object.prototype.toString),m=n(177).types,g=m.isAnyArrayBuffer,y=m.isArrayBufferView,v=m.isDate,w=m.isMap,b=m.isRegExp,_=m.isSet,k=m.isNativeError,x=m.isBoxedPrimitive,S=m.isNumberObject,E=m.isStringObject,A=m.isBooleanObject,T=m.isBigIntObject,I=m.isSymbolObject,O=m.isFloat32Array,C=m.isFloat64Array;function M(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function P(t){return Object.keys(t).filter(M).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function R(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function B(t,e){return o?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function N(t,e,n,r){if(t===e)return 0!==t||(!n||c(t,e));if(n){if("object"!==i(t))return"number"===typeof t&&l(t)&&l(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var o=p(t);if(o!==p(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var s=P(t),a=P(e);return s.length===a.length&&j(t,e,n,r,1,s)}if("[object Object]"===o&&(!w(t)&&w(e)||!_(t)&&_(e)))return!1;if(v(t)){if(!v(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(b(t)){if(!b(e)||!B(t,e))return!1}else if(k(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(y(t)){if(n||!O(t)&&!C(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===R(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var u=P(t),h=P(e);return u.length===h.length&&j(t,e,n,r,0,u)}if(_(t))return!(!_(e)||t.size!==e.size)&&j(t,e,n,r,2);if(w(t))return!(!w(e)||t.size!==e.size)&&j(t,e,n,r,3);if(g(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===R(new Uint8Array(t),new Uint8Array(e))}(t,e))return!1}else if(x(t)&&!function(t,e){return S(t)?S(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):E(t)?E(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):A(t)?A(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):T(t)?T(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):I(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return j(t,e,n,r,0)}function L(t,e){return e.filter((function(e){return f(t,e)}))}function j(t,e,n,r,i,o){if(5===arguments.length){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!d(e,o[a]))return!1;if(n&&5===arguments.length){var c=u(t);if(0!==c.length){var l=0;for(a=0;a<c.length;a++){var h=c[a];if(f(t,h)){if(!f(e,h))return!1;o.push(h),l++}else if(f(e,h))return!1}var p=u(e);if(c.length!==p.length&&L(e,p).length!==l)return!1}else{var m=u(e);if(0!==m.length&&0!==L(e,m).length)return!1}}if(0===o.length&&(0===i||1===i&&0===t.length||0===t.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var g=r.val1.get(t);if(void 0!==g){var y=r.val2.get(e);if(void 0!==y)return g===y}r.position++}r.val1.set(t,r.position),r.val2.set(e,r.position);var v=H(t,e,n,o,r,i);return r.val1.delete(t),r.val2.delete(e),v}function D(t,e,n,r){for(var i=s(t),o=0;o<i.length;o++){var a=i[o];if(N(e,a,n,r))return t.delete(a),!0}return!1}function U(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function z(t,e,n){var r=U(n);return null!=r?r:e.has(r)&&!t.has(r)}function F(t,e,n,r,i){var o=U(n);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!N(r,s,!1,i))&&(!t.has(o)&&N(r,s,!1,i))}function q(t,e,n,r){for(var o=null,a=s(t),c=0;c<a.length;c++){var u=a[c];if("object"===i(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!e.has(u)){if(n)return!1;if(!z(t,e,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var l=s(e),h=0;h<l.length;h++){var d=l[h];if("object"===i(d)&&null!==d){if(!D(o,d,n,r))return!1}else if(!n&&!t.has(d)&&!D(o,d,n,r))return!1}return 0===o.size}return!0}function V(t,e,n,r,i,o){for(var a=s(t),c=0;c<a.length;c++){var u=a[c];if(N(n,u,i,o)&&N(r,e.get(u),i,o))return t.delete(u),!0}return!1}function W(t,e,n,o){for(var s=null,c=a(t),u=0;u<c.length;u++){var l=r(c[u],2),h=l[0],d=l[1];if("object"===i(h)&&null!==h)null===s&&(s=new Set),s.add(h);else{var f=e.get(h);if(void 0===f&&!e.has(h)||!N(d,f,n,o)){if(n)return!1;if(!F(t,e,h,d,o))return!1;null===s&&(s=new Set),s.add(h)}}}if(null!==s){for(var p=a(e),m=0;m<p.length;m++){var g=r(p[m],2),y=(h=g[0],g[1]);if("object"===i(h)&&null!==h){if(!V(s,t,h,y,n,o))return!1}else if(!n&&(!t.has(h)||!N(t.get(h),y,!1,o))&&!V(s,t,h,y,!1,o))return!1}return 0===s.size}return!0}function H(t,e,n,r,i,o){var s=0;if(2===o){if(!q(t,e,n,i))return!1}else if(3===o){if(!W(t,e,n,i))return!1}else if(1===o)for(;s<t.length;s++){if(!d(t,s)){if(d(e,s))return!1;for(var a=Object.keys(t);s<a.length;s++){var c=a[s];if(!d(e,c)||!N(t[c],e[c],n,i))return!1}return a.length===Object.keys(e).length}if(!d(e,s)||!N(t[s],e[s],n,i))return!1}for(s=0;s<r.length;s++){var u=r[s];if(!N(t[u],e[u],n,i))return!1}return!0}t.exports={isDeepEqual:function(t,e){return N(t,e,false)},isDeepStrictEqual:function(t,e){return N(t,e,true)}}},256:function(t,e,n){"use strict";var r=n(838),i=n(139),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"===typeof n&&o(t,".prototype.")>-1?i(n):n}},139:function(t,e,n){"use strict";var r=n(174),i=n(838),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(r,s,arguments);if(c&&u){var n=c(e,"length");n.configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var h=function(){return a(r,o,arguments)};u?u(t.exports,"apply",{value:h}):t.exports.apply=h},69:function(t,e,n){"use strict";var r=n(935),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),u=function(t,e,n,r){(!(e in t)||function(t){return"function"===typeof t&&"[object Function]"===o.call(t)}(r)&&r())&&(c?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)u(t,o[a],e[o[a]],n[o[a]])};l.supportsDescriptors=!!c,t.exports=l},604:function(t){"use strict";function e(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},144:function(t){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,r,i){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var s=0;s<o;s++)r.call(i,t[s],s,t);else for(var a in t)e.call(t,a)&&r.call(i,t[a],a,t)}},426:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";t.exports=function(t){var o=this;if("function"!==typeof o||r.call(o)!==i)throw new TypeError(e+o);for(var s,a=n.call(arguments,1),c=function(){if(this instanceof s){var e=o.apply(this,a.concat(n.call(arguments)));return Object(e)===e?e:this}return o.apply(t,a.concat(n.call(arguments)))},u=Math.max(0,o.length-a.length),l=[],h=0;h<u;h++)l.push("$"+h);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var d=function(){};d.prototype=o.prototype,s.prototype=new d,d.prototype=null}return s}},174:function(t,e,n){"use strict";var r=n(426);t.exports=Function.prototype.bind||r},838:function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,h=n(115)(),d=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"===typeof Uint8Array?r:d(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=d(i.prototype))}return m[e]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(174),w=n(101),b=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),k=v.call(Function.call,String.prototype.replace),x=v.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,A=function(t){var e=x(t,0,1),n=x(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return k(t,S,(function(t,e,n,i){r[r.length]=n?k(i,E,"$1"):e||t})),r},T=function(t,e){var n,r=t;if(w(y,r)&&(r="%"+(n=y[r])[0]+"%"),w(m,r)){var o=m[r];if(o===f&&(o=g(r)),"undefined"===typeof o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new s('"allowMissing" argument must be a boolean');var n=A(t),r=n.length>0?n[0]:"",o=T("%"+r+"%",e),a=o.name,u=o.value,l=!1,h=o.alias;h&&(r=h[0],_(n,b([0,1],h)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],g=x(p,0,1),y=x(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(l=!0),w(m,a="%"+(r+="."+p)+"%"))u=m[a];else if(null!=u){if(!(p in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var v=c(u,p);u=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else f=w(u,p),u=u[p];f&&!l&&(m[a]=u)}}return u}},942:function(t,e,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(773);t.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},773:function(t){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},115:function(t,e,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(832);t.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},832:function(t){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},101:function(t,e,n){"use strict";var r=n(174);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},782:function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},157:function(t){"use strict";var e="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,n=Object.prototype.toString,r=function(t){return!(e&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===n.call(t)},i=function(t){return!!r(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==n.call(t)&&"[object Function]"===n.call(t.callee)},o=function(){return r(arguments)}();r.isLegacyArguments=i,t.exports=o?r:i},391:function(t){"use strict";var e=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=Object.getPrototypeOf,s=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(t){}}(),a=s?o(s):{};t.exports=function(t){return"function"===typeof t&&(!!r.test(n.call(t))||(i?o(t)===a:"[object GeneratorFunction]"===e.call(t)))}},460:function(t){"use strict";t.exports=function(t){return t!==t}},718:function(t,e,n){"use strict";var r=n(139),i=n(69),o=n(460),s=n(625),a=n(171),c=r(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},625:function(t,e,n){"use strict";var r=n(460);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},171:function(t,e,n){"use strict";var r=n(69),i=n(625);t.exports=function(){var t=i();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},994:function(t,e,r){"use strict";var i=r(144),o=r(349),s=r(256),a=s("Object.prototype.toString"),c=r(942)()&&"symbol"===typeof Symbol.toStringTag,u=o(),l=s("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},h=s("String.prototype.slice"),d={},f=r(466),p=Object.getPrototypeOf;c&&f&&p&&i(u,(function(t){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=p(e),i=f(r,Symbol.toStringTag);if(!i){var o=p(r);i=f(o,Symbol.toStringTag)}d[t]=i.get}));t.exports=function(t){if(!t||"object"!==typeof t)return!1;if(!c){var e=h(a(t),8,-1);return l(u,e)>-1}return!!f&&function(t){var e=!1;return i(d,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},208:function(t){"use strict";var e=function(t){return t!==t};t.exports=function(t,n){return 0===t&&0===n?1/t===1/n:t===n||!(!e(t)||!e(n))}},579:function(t,e,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(412),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),p=function(t){if("undefined"===typeof window||!f)return h(t);try{return h(t)}catch(t){return!1}};r=function(t){var e=null!==t&&"object"===typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=u&&n;if(a&&t.length>0&&!i.call(t,0))for(var f=0;f<t.length;++f)h.push(String(f));if(r&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var g in t)d&&"prototype"===g||!i.call(t,g)||h.push(String(g));if(c)for(var y=p(t),v=0;v<l.length;++v)y&&"constructor"===l[v]||!i.call(t,l[v])||h.push(l[v]);return h}}t.exports=r},935:function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(412),o=Object.keys,s=o?function(t){return o(t)}:n(579),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},412:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},369:function(t){t.exports=function(t){return t instanceof i}},584:function(t,e,n){"use strict";var r=n(157),i=n(391),o=n(490),s=n(994);function a(t){return t.call.bind(t)}var c="undefined"!==typeof BigInt,u="undefined"!==typeof Symbol,l=a(Object.prototype.toString),h=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var m=a(Symbol.prototype.valueOf);function g(t,e){if("object"!==typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function y(t){return"[object Map]"===l(t)}function v(t){return"[object Set]"===l(t)}function w(t){return"[object WeakMap]"===l(t)}function b(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function k(t){return"undefined"!==typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function x(t){return"[object DataView]"===l(t)}function S(t){return"undefined"!==typeof DataView&&(x.working?x(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!==typeof Promise&&t instanceof Promise||null!==t&&"object"===typeof t&&"function"===typeof t.then&&"function"===typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||S(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},y.working="undefined"!==typeof Map&&y(new Map),e.isMap=function(t){return"undefined"!==typeof Map&&(y.working?y(t):t instanceof Map)},v.working="undefined"!==typeof Set&&v(new Set),e.isSet=function(t){return"undefined"!==typeof Set&&(v.working?v(t):t instanceof Set)},w.working="undefined"!==typeof WeakMap&&w(new WeakMap),e.isWeakMap=function(t){return"undefined"!==typeof WeakMap&&(w.working?w(t):t instanceof WeakMap)},b.working="undefined"!==typeof WeakSet&&b(new WeakSet),e.isWeakSet=function(t){return b(t)},_.working="undefined"!==typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=k,x.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=S;var E="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(t){return"[object SharedArrayBuffer]"===l(t)}function T(t){return"undefined"!==typeof E&&("undefined"===typeof A.working&&(A.working=A(new E)),A.working?A(t):t instanceof E)}function I(t){return g(t,h)}function O(t){return g(t,d)}function C(t){return g(t,f)}function M(t){return c&&g(t,p)}function P(t){return u&&g(t,m)}e.isSharedArrayBuffer=T,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=I,e.isStringObject=O,e.isBooleanObject=C,e.isBigIntObject=M,e.isSymbolObject=P,e.isBoxedPrimitive=function(t){return I(t)||O(t)||C(t)||M(t)||P(t)},e.isAnyArrayBuffer=function(t){return"undefined"!==typeof Uint8Array&&(k(t)||T(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},177:function(t,e,n){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<i;a=r[++n])y(a)||!k(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(t,n){if("undefined"!==typeof r&&!0===r.noDeprecation)return t;if("undefined"===typeof r)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var s={},a=/^$/;if(r.env.NODE_DEBUG){var c=r.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}function u(t,n){var r={seen:[],stylize:h};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),d(r,t,r.depth)}function l(t,e){var n=u.styles[e];return n?"\x1b["+u.colors[n][0]+"m"+t+"\x1b["+u.colors[n][1]+"m":t}function h(t,e){return t}function d(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return w(i)||(i=d(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(E(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var u,l="",h=!1,k=["{","}"];(m(n)&&(h=!0,k=["[","]"]),E(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(l=" "+RegExp.prototype.toString.call(n)),x(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+f(n)),0!==s.length||h&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=h?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)C(e,String(s))?o.push(p(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return p(t,n,r,a,e,h)})),t.seen.pop(),function(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,l,k)):k[0]+l+k[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),C(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(n)?d(t,c.value,null):d(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function m(t){return Array.isArray(t)}function g(t){return"boolean"===typeof t}function y(t){return null===t}function v(t){return"number"===typeof t}function w(t){return"string"===typeof t}function b(t){return void 0===t}function _(t){return k(t)&&"[object RegExp]"===A(t)}function k(t){return"object"===typeof t&&null!==t}function x(t){return k(t)&&"[object Date]"===A(t)}function S(t){return k(t)&&("[object Error]"===A(t)||t instanceof Error)}function E(t){return"function"===typeof t}function A(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(a.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(584),e.isArray=m,e.isBoolean=g,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=w,e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=b,e.isRegExp=_,e.types.isRegExp=_,e.isObject=k,e.isDate=x,e.types.isDate=x,e.isError=S,e.types.isNativeError=S,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(369);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=n(782),e._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var M="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(M&&t[M]){var e;if("function"!==typeof(e=t[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),M&&Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=M,e.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(P.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},490:function(t,e,r){"use strict";var i=r(144),o=r(349),s=r(256),a=s("Object.prototype.toString"),c=r(942)()&&"symbol"===typeof Symbol.toStringTag,u=o(),l=s("String.prototype.slice"),h={},d=r(466),f=Object.getPrototypeOf;c&&d&&f&&i(u,(function(t){if("function"===typeof n.g[t]){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(e),i=d(r,Symbol.toStringTag);if(!i){var o=f(r);i=d(o,Symbol.toStringTag)}h[t]=i.get}}));var p=r(994);t.exports=function(t){return!!p(t)&&(c?function(t){var e=!1;return i(h,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(t){}})),e}(t):l(a(t),8,-1))}},349:function(t,e,r){"use strict";var i=r(992);t.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(t){return"function"===typeof n.g[t]}))}},466:function(t,e,n){"use strict";var r=n(838)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r}},o={};function s(t){var n=o[t];if(void 0!==n)return n.exports;var r=o[t]={exports:{}},i=!0;try{e[t](r,r.exports,s),i=!1}finally{i&&delete o[t]}return r.exports}s.ab="//";var a=s(167);t.exports=a}()},999:function(){},472:function(){},7663:function(t){!function(){var e={229:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}},s=!0;try{e[t](o,o.exports,r),s=!1}finally{s&&delete n[t]}return o.exports}r.ab="//";var i=r(229);t.exports=i}()},5152:function(t,e,n){t.exports=n(638)},1664:function(t,e,n){t.exports=n(8418)},6855:function(t,e,n){"use strict";var r=n(8764).Buffer,i=n(4836);e.Z=void 0;var o=i(n(4687)),s=i(n(7156)),a=i(n(8698)),c=i(n(6690)),u=i(n(9728)),l=i(n(1655)),h=i(n(4993)),d=i(n(3808)),f=n(6729),p=n(395);function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.default)(t);if(e){var i=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.default)(this,n)}}var g=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},y=function(t){(0,l.default)(n,t);var e=m(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;(0,c.default)(this,n);var u=o.autoconnect,l=void 0===u||u,h=o.reconnect,d=void 0===h||h,f=o.reconnect_interval,m=void 0===f?1e3:f,y=o.max_reconnects,v=void 0===y?5:y,w=g(o,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(r=e.call(this)).webSocketFactory=t,r.queue={},r.rpc_id=0,r.address=i,r.autoconnect=l,r.ready=!1,r.reconnect=d,r.reconnect_timer_id=void 0,r.reconnect_interval=m,r.max_reconnects=v,r.rest_options=w,r.current_reconnects=0,r.generate_request_id=s||function(){return++r.rpc_id},r.dataPack=a||new p.DefaultDataPack,r.autoconnect&&r._connect(r.address,Object.assign({autoconnect:r.autoconnect,reconnect:r.reconnect,reconnect_interval:r.reconnect_interval,max_reconnects:r.max_reconnects},r.rest_options)),r}return(0,u.default)(n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,n,r){var i=this;return r||"object"!==(0,a.default)(n)||(r=n,n=null),new Promise((function(o,s){if(!i.ready)return s(new Error("socket not ready"));var a=i.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};i.socket.send(i.dataPack.encode(c),r,(function(t){if(t)return s(t);i.queue[a]={promise:[o,s]},n&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],s(new Error("reply timeout"))}),n))}))}))}},{key:"login",value:function(){var t=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(n=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listMethods",value:function(){var t=(0,s.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"notify",value:function(t,e){var n=this;return new Promise((function(r,i){if(!n.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:t,params:e};n.socket.send(n.dataPack.encode(o),(function(t){if(t)return i(t);r()}))}))}},{key:"subscribe",value:function(){var t=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(n=t.sent,"string"!==typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var t=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"===typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(n=t.sent,"string"!==typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var n=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=r.from(e).toString());try{e=n.dataPack.decode(e)}catch(s){return}if(e.notification&&n.listeners(e.notification).length){if(!Object.keys(e.params).length)return n.emit(e.notification);var i=[e.notification];if(e.params.constructor===Object)i.push(e.params);else for(var o=0;o<e.params.length;o++)i.push(e.params[o]);return Promise.resolve().then((function(){n.emit.apply(n,i)}))}if(!n.queue[e.id])return e.method?Promise.resolve().then((function(){n.emit(e.method,null===e||void 0===e?void 0:e.params)})):void 0;"error"in e==="result"in e&&n.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[e.id].timeout&&clearTimeout(n.queue[e.id].timeout),e.error?n.queue[e.id].promise[1](e.error):n.queue[e.id].promise[0](e.result),delete n.queue[e.id]})),this.socket.addEventListener("error",(function(t){return n.emit("error",t)})),this.socket.addEventListener("close",(function(r){var i=r.code,o=r.reason;n.ready&&setTimeout((function(){return n.emit("close",i,o)}),0),n.ready=!1,n.socket=void 0,1e3!==i&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&(n.reconnect_timer_id=setTimeout((function(){return n._connect(t,e)}),n.reconnect_interval)))}))}}]),n}(f.EventEmitter);e.Z=y},9062:function(t,e,n){"use strict";var r=n(4836);e.Z=function(t,e){return new l(t,e)};var i=r(n(6690)),o=r(n(9728)),s=r(n(1655)),a=r(n(4993)),c=r(n(3808));function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,c.default)(t);if(e){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(t){(0,s.default)(n,t);var e=u(n);function n(t,r,o){var s;return(0,i.default)(this,n),(s=e.call(this)).socket=new window.WebSocket(t,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(t){return s.emit("message",t.data)},s.socket.onerror=function(t){return s.emit("error",t)},s.socket.onclose=function(t){s.emit("close",t.code,t.reason)},s}return(0,o.default)(n,[{key:"send",value:function(t,e,n){var r=n||e;try{this.socket.send(t),r()}catch(i){r(i)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,n){this.socket.addEventListener(t,e,n)}}]),n}(n(6729).EventEmitter)},395:function(t,e,n){"use strict";var r=n(4836);Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDataPack=void 0,e.createError=function(t,e){var n={code:t,message:s.get(t)||"Internal Server Error"};e&&(n.data=e);return n};var i=r(n(6690)),o=r(n(9728)),s=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]),a=function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,[{key:"encode",value:function(t){return JSON.stringify(t)}},{key:"decode",value:function(t){return JSON.parse(t)}}]),t}();e.DefaultDataPack=a},9509:function(t,e,n){var r=n(8764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},6774:function(t){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),c=0;c<o.length;c++){var u=o[c];if(!a(u))return!1;var l=t[u],h=e[u];if(!1===(i=n?n.call(r,l,h,u):void 0)||void 0===i&&l!==h)return!1}return!0}},964:function(t,e,n){"use strict";n.d(e,{iv:function(){return qe},ZP:function(){return He},F4:function(){return Ke}});var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.create;function i(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var o=n(7294),s=n(6774),a=n.n(s),c="-ms-",u="-moz-",l="-webkit-",h="comm",d="rule",f="decl",p="@keyframes",m=Math.abs,g=String.fromCharCode,y=Object.assign;function v(t){return t.trim()}function w(t,e){return(t=e.exec(t))?t[0]:t}function b(t,e,n){return t.replace(e,n)}function _(t,e,n){return t.indexOf(e,n)}function k(t,e){return 0|t.charCodeAt(e)}function x(t,e,n){return t.slice(e,n)}function S(t){return t.length}function E(t){return t.length}function A(t,e){return e.push(t),t}function T(t,e){return t.filter((function(t){return!w(t,e)}))}var I=1,O=1,C=0,M=0,P=0,R="";function B(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:I,column:O,length:s,return:"",siblings:a}}function N(t,e){return y(B("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function L(t){for(;t.root;)t=N(t.root,{children:[t]});A(t,t.siblings)}function j(){return P=M>0?k(R,--M):0,O--,10===P&&(O=1,I--),P}function D(){return P=M<C?k(R,M++):0,O++,10===P&&(O=1,I++),P}function U(){return k(R,M)}function z(){return M}function F(t,e){return x(R,t,e)}function q(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V(t){return I=O=1,C=S(R=t),M=0,[]}function W(t){return R="",t}function H(t){return v(F(M-1,G(91===t?t+2:40===t?t+1:t)))}function K(t){for(;(P=U())&&P<33;)D();return q(t)>2||q(P)>3?"":" "}function $(t,e){for(;--e&&D()&&!(P<48||P>102||P>57&&P<65||P>70&&P<97););return F(t,z()+(e<6&&32==U()&&32==D()))}function G(t){for(;D();)switch(P){case t:return M;case 34:case 39:34!==t&&39!==t&&G(P);break;case 40:41===t&&G(t);break;case 92:D()}return M}function Z(t,e){for(;D()&&t+P!==57&&(t+P!==84||47!==U()););return"/*"+F(e,M-1)+"*"+g(47===t?t:D())}function Y(t){for(;!q(U());)D();return F(t,M)}function J(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function X(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case f:return t.return=t.return||t.value;case h:return"";case p:return t.return=t.value+"{"+J(t.children,r)+"}";case d:if(!S(t.value=t.props.join(",")))return""}return S(n=J(t.children,r))?t.return=t.value+"{"+n+"}":""}function Q(t,e,n){switch(function(t,e){return 45^k(t,0)?(((e<<2^k(t,0))<<2^k(t,1))<<2^k(t,2))<<2^k(t,3):0}(t,e)){case 5103:return l+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l+t+t;case 4789:return u+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return l+t+u+t+c+t+t;case 5936:switch(k(t,e+11)){case 114:return l+t+c+b(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return l+t+c+b(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return l+t+c+b(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return l+t+c+t+t;case 6165:return l+t+c+"flex-"+t+t;case 5187:return l+t+b(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return l+t+c+"flex-item-"+b(t,/flex-|-self/g,"")+(w(t,/flex-|baseline/)?"":c+"grid-row-"+b(t,/flex-|-self/g,""))+t;case 4675:return l+t+c+"flex-line-pack"+b(t,/align-content|flex-|-self/g,"")+t;case 5548:return l+t+c+b(t,"shrink","negative")+t;case 5292:return l+t+c+b(t,"basis","preferred-size")+t;case 6060:return l+"box-"+b(t,"-grow","")+l+t+c+b(t,"grow","positive")+t;case 4554:return l+b(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return b(b(b(t,/(zoom-|grab)/,l+"$1"),/(image-set)/,l+"$1"),t,"")+t;case 5495:case 3959:return b(t,/(image-set\([^]*)/,l+"$1$`$1");case 4968:return b(b(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+l+t+t;case 4200:if(!w(t,/flex-|baseline/))return c+"grid-column-align"+x(t,e)+t;break;case 2592:case 3360:return c+b(t,"template-","")+t;case 4384:case 3616:return n&&n.some((function(t,n){return e=n,w(t.props,/grid-\w+-end/)}))?~_(t+(n=n[e].value),"span",0)?t:c+b(t,"-start","")+t+c+"grid-row-span:"+(~_(n,"span",0)?w(n,/\d+/):+w(n,/\d+/)-+w(t,/\d+/))+";":c+b(t,"-start","")+t;case 4896:case 4128:return n&&n.some((function(t){return w(t.props,/grid-\w+-start/)}))?t:c+b(b(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return b(t,/(.+)-inline(.+)/,l+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(S(t)-1-e>6)switch(k(t,e+1)){case 109:if(45!==k(t,e+4))break;case 102:return b(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+u+(108==k(t,e+3)?"$3":"$2-$3"))+t;case 115:return~_(t,"stretch",0)?Q(b(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return b(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(e,n,r,i,o,s,a){return c+n+":"+r+a+(i?c+n+"-span:"+(o?s:+s-+r)+a:"")+t}));case 4949:if(121===k(t,e+6))return b(t,":",":"+l)+t;break;case 6444:switch(k(t,45===k(t,14)?18:11)){case 120:return b(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+l+(45===k(t,14)?"inline-":"")+"box$3$1"+l+"$2$3$1"+c+"$2box$3")+t;case 100:return b(t,":",":"+c)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return b(t,"scroll-","scroll-snap-")+t}return t}function tt(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case f:return void(t.return=Q(t.value,t.length,n));case p:return J([N(t,{value:b(t.value,"@","@"+l)})],r);case d:if(t.length)return function(t,e){return t.map(e).join("")}(n=t.props,(function(e){switch(w(e,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":L(N(t,{props:[b(e,/:(read-\w+)/,":-moz-$1")]})),L(N(t,{props:[e]})),y(t,{props:T(n,r)});break;case"::placeholder":L(N(t,{props:[b(e,/:(plac\w+)/,":-webkit-input-$1")]})),L(N(t,{props:[b(e,/:(plac\w+)/,":-moz-$1")]})),L(N(t,{props:[b(e,/:(plac\w+)/,c+"input-$1")]})),L(N(t,{props:[e]})),y(t,{props:T(n,r)})}return""}))}}function et(t){return W(nt("",null,null,null,[""],t=V(t),0,[0],t))}function nt(t,e,n,r,i,o,s,a,c){for(var u=0,l=0,h=s,d=0,f=0,p=0,y=1,v=1,w=1,x=0,E="",T=i,I=o,O=r,C=E;v;)switch(p=x,x=D()){case 40:if(108!=p&&58==k(C,h-1)){-1!=_(C+=b(H(x),"&","&\f"),"&\f",m(u?a[u-1]:0))&&(w=-1);break}case 34:case 39:case 91:C+=H(x);break;case 9:case 10:case 13:case 32:C+=K(p);break;case 92:C+=$(z()-1,7);continue;case 47:switch(U()){case 42:case 47:A(it(Z(D(),z()),e,n,c),c);break;default:C+="/"}break;case 123*y:a[u++]=S(C)*w;case 125*y:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+l:-1==w&&(C=b(C,/\f/g,"")),f>0&&S(C)-h&&A(f>32?ot(C+";",r,n,h-1,c):ot(b(C," ","")+";",r,n,h-2,c),c);break;case 59:C+=";";default:if(A(O=rt(C,e,n,u,l,i,a,E,T=[],I=[],h,o),o),123===x)if(0===l)nt(C,e,O,O,T,o,h,a,I);else switch(99===d&&110===k(C,3)?100:d){case 100:case 108:case 109:case 115:nt(t,O,O,r&&A(rt(t,O,O,0,0,i,a,E,i,T=[],h,I),I),i,I,h,a,r?T:I);break;default:nt(C,O,O,O,[""],I,0,a,I)}}u=l=f=0,y=w=1,E=C="",h=s;break;case 58:h=1+S(C),f=p;default:if(y<1)if(123==x)--y;else if(125==x&&0==y++&&125==j())continue;switch(C+=g(x),x*y){case 38:w=l>0?1:(C+="\f",-1);break;case 44:a[u++]=(S(C)-1)*w,w=1;break;case 64:45===U()&&(C+=H(D())),d=U(),l=h=S(E=C+=Y(z())),x++;break;case 45:45===p&&2==S(C)&&(y=0)}}return o}function rt(t,e,n,r,i,o,s,a,c,u,l,h){for(var f=i-1,p=0===i?o:[""],g=E(p),y=0,w=0,_=0;y<r;++y)for(var k=0,S=x(t,f+1,f=m(w=s[y])),A=t;k<g;++k)(A=v(w>0?p[k]+" "+S:b(S,/&\f/g,p[k])))&&(c[_++]=A);return B(t,e,n,0===i?d:a,c,u,l,h)}function it(t,e,n,r){return B(t,e,n,h,g(P),x(t,2,-2),0,r)}function ot(t,e,n,r,i){return B(t,e,n,f,x(t,0,r),x(t,r+1,-1),r,i)}var st={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},at=n(3454),ct="undefined"!=typeof at&&void 0!==at.env&&(at.env.REACT_APP_SC_ATTR||at.env.SC_ATTR)||"data-styled",ut="active",lt="data-styled-version",ht="6.1.8",dt="/*!sc*/\n",ft="undefined"!=typeof window&&"HTMLElement"in window,pt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof at&&void 0!==at.env&&void 0!==at.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==at.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==at.env.REACT_APP_SC_DISABLE_SPEEDY&&at.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof at&&void 0!==at.env&&void 0!==at.env.SC_DISABLE_SPEEDY&&""!==at.env.SC_DISABLE_SPEEDY&&("false"!==at.env.SC_DISABLE_SPEEDY&&at.env.SC_DISABLE_SPEEDY)),mt=(new Set,Object.freeze([])),gt=Object.freeze({});function yt(t,e,n){return void 0===n&&(n=gt),t.theme!==n.theme&&t.theme||e||n.theme}var vt=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),wt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,bt=/(^-|-$)/g;function _t(t){return t.replace(wt,"-").replace(bt,"")}var kt=/(a)(d)/gi,xt=function(t){return String.fromCharCode(t+(t>25?39:97))};function St(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=xt(e%52)+n;return(xt(e%52)+n).replace(kt,"$1-$2")}var Et,At=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Tt=function(t){return At(5381,t)};function It(t){return St(Tt(t)>>>0)}function Ot(t){return t.displayName||t.name||"Component"}function Ct(t){return"string"==typeof t&&!0}var Mt="function"==typeof Symbol&&Symbol.for,Pt=Mt?Symbol.for("react.memo"):60115,Rt=Mt?Symbol.for("react.forward_ref"):60112,Bt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Nt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Lt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jt=((Et={})[Rt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Et[Pt]=Lt,Et);function Dt(t){return("type"in(e=t)&&e.type.$$typeof)===Pt?Lt:"$$typeof"in t?jt[t.$$typeof]:Bt;var e}var Ut=Object.defineProperty,zt=Object.getOwnPropertyNames,Ft=Object.getOwnPropertySymbols,qt=Object.getOwnPropertyDescriptor,Vt=Object.getPrototypeOf,Wt=Object.prototype;function Ht(t,e,n){if("string"!=typeof e){if(Wt){var r=Vt(e);r&&r!==Wt&&Ht(t,r,n)}var i=zt(e);Ft&&(i=i.concat(Ft(e)));for(var o=Dt(t),s=Dt(e),a=0;a<i.length;++a){var c=i[a];if(!(c in Nt||n&&n[c]||s&&c in s||o&&c in o)){var u=qt(e,c);try{Ut(t,c,u)}catch(t){}}}}return t}function Kt(t){return"function"==typeof t}function $t(t){return"object"==typeof t&&"styledComponentId"in t}function Gt(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Zt(t,e){if(0===t.length)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Yt(t){return null!==t&&"object"==typeof t&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Jt(t,e,n){if(void 0===n&&(n=!1),!n&&!Yt(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Jt(t[r],e[r]);else if(Yt(e))for(var r in e)t[r]=Jt(t[r],e[r]);return t}function Xt(t,e){Object.defineProperty(t,"toString",{value:e})}function Qt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var te=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return t.prototype.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},t.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)if((i<<=1)<0)throw Qt(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(t+1),a=(o=0,e.length);o<a;o++)this.tag.insertRule(s,e[o])&&(this.groupSizes[t]++,s++)},t.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+="".concat(this.tag.getRule(o)).concat(dt);return e},t}(),ee=new Map,ne=new Map,re=1,ie=function(t){if(ee.has(t))return ee.get(t);for(;ne.has(re);)re++;var e=re++;return ee.set(t,e),ne.set(e,t),e},oe=function(t,e){re=e+1,ee.set(t,e),ne.set(e,t)},se="style[".concat(ct,"][").concat(lt,'="').concat(ht,'"]'),ae=new RegExp("^".concat(ct,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ce=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},ue=function(t,e){for(var n,r=(null!==(n=e.textContent)&&void 0!==n?n:"").split(dt),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var c=a.match(ae);if(c){var u=0|parseInt(c[1],10),l=c[2];0!==u&&(oe(l,u),ce(t,l,c[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function le(){return n.nc}var he=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){var e=Array.from(t.querySelectorAll("style[".concat(ct,"]")));return e[e.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(ct,ut),r.setAttribute(lt,ht);var s=le();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},de=function(){function t(t){this.element=he(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}throw Qt(17)}(this.element),this.length=0}return t.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},t.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},t.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},t}(),fe=function(){function t(t){this.element=he(t),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},t.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),pe=function(){function t(t){this.rules=[],this.length=0}return t.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},t.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},t.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),me=ft,ge={isServer:!ft,useCSSOMInjection:!pt},ye=function(){function t(t,e,n){void 0===t&&(t=gt),void 0===e&&(e={});var i=this;this.options=r(r({},ge),t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&ft&&me&&(me=!1,function(t){for(var e=document.querySelectorAll(se),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(ct)!==ut&&(ue(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Xt(this,(function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=function(n){var i=function(t){return ne.get(t)}(n);if(void 0===i)return"continue";var o=t.names.get(i),s=e.getGroup(n);if(void 0===o||0===s.length)return"continue";var a="".concat(ct,".g").concat(n,'[id="').concat(i,'"]'),c="";void 0!==o&&o.forEach((function(t){t.length>0&&(c+="".concat(t,","))})),r+="".concat(s).concat(a,'{content:"').concat(c,'"}').concat(dt)},o=0;o<n;o++)i(o);return r}(i)}))}return t.registerId=function(t){return ie(t)},t.prototype.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(r(r({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(t=function(t){var e=t.useCSSOMInjection,n=t.target;return t.isServer?new pe(n):e?new de(n):new fe(n)}(this.options),new te(t)));var t},t.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},t.prototype.registerName=function(t,e){if(ie(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},t.prototype.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(ie(t),n)},t.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},t.prototype.clearRules=function(t){this.getTag().clearGroup(ie(t)),this.clearNames(t)},t.prototype.clearTag=function(){this.tag=void 0},t}(),ve=/&/g,we=/^\s*\/\/.*$/gm;function be(t,e){return t.map((function(t){return"rule"===t.type&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map((function(t){return"".concat(e," ").concat(t)}))),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=be(t.children,e)),t}))}function _e(t){var e,n,r,i=void 0===t?gt:t,o=i.options,s=void 0===o?gt:o,a=i.plugins,c=void 0===a?mt:a,u=function(t,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(e):t},l=c.slice();l.push((function(t){t.type===d&&t.value.includes("&")&&(t.props[0]=t.props[0].replace(ve,n).replace(r,u))})),s.prefix&&l.push(tt),l.push(X);var h=function(t,i,o,a){void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a="&"),e=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var c=t.replace(we,""),u=et(o||i?"".concat(o," ").concat(i," { ").concat(c," }"):c);s.namespace&&(u=be(u,s.namespace));var h,d=[];return J(u,function(t){var e=E(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}(l.concat((h=function(t){return d.push(t)},function(t){t.root||(t=t.return)&&h(t)})))),d};return h.hash=c.length?c.reduce((function(t,e){return e.name||Qt(15),At(t,e.name)}),5381).toString():"",h}var ke=new ye,xe=_e(),Se=o.createContext({shouldForwardProp:void 0,styleSheet:ke,stylis:xe}),Ee=(Se.Consumer,o.createContext(void 0));function Ae(){return(0,o.useContext)(Se)}function Te(t){var e=(0,o.useState)(t.stylisPlugins),n=e[0],r=e[1],i=Ae().styleSheet,s=(0,o.useMemo)((function(){var e=i;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target,i]),c=(0,o.useMemo)((function(){return _e({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:n})}),[t.enableVendorPrefixes,t.namespace,n]);(0,o.useEffect)((function(){a()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]);var u=(0,o.useMemo)((function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:s,stylis:c}}),[t.shouldForwardProp,s,c]);return o.createElement(Se.Provider,{value:u},o.createElement(Ee.Provider,{value:c},t.children))}var Ie=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=xe);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,Xt(this,(function(){throw Qt(12,String(n.name))}))}return t.prototype.getName=function(t){return void 0===t&&(t=xe),this.name+t.hash},t}(),Oe=function(t){return t>="A"&&t<="Z"};function Ce(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(1===n&&"-"===r&&"-"===t[0])return t;Oe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Me=function(t){return null==t||!1===t||""===t},Pe=function(t){var e,n,r=[];for(var o in t){var s=t[o];t.hasOwnProperty(o)&&!Me(s)&&(Array.isArray(s)&&s.isCss||Kt(s)?r.push("".concat(Ce(o),":"),s,";"):Yt(s)?r.push.apply(r,i(i(["".concat(o," {")],Pe(s),!1),["}"],!1)):r.push("".concat(Ce(o),": ").concat((e=o,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||e in st||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Re(t,e,n,r){return Me(t)?[]:$t(t)?[".".concat(t.styledComponentId)]:Kt(t)?!Kt(i=t)||i.prototype&&i.prototype.isReactComponent||!e?[t]:Re(t(e),e,n,r):t instanceof Ie?n?(t.inject(n,r),[t.getName(r)]):[t]:Yt(t)?Pe(t):Array.isArray(t)?Array.prototype.concat.apply(mt,t.map((function(t){return Re(t,e,n,r)}))):[t.toString()];var i}function Be(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Kt(n)&&!$t(n))return!1}return!0}var Ne=Tt(ht),Le=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Be(t),this.componentId=e,this.baseHash=At(Ne,e),this.baseStyle=n,ye.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))r=Gt(r,this.staticRulesId);else{var i=Zt(Re(this.rules,t,e,n)),o=St(At(this.baseHash,i)>>>0);if(!e.hasNameForId(this.componentId,o)){var s=n(i,".".concat(o),void 0,this.componentId);e.insertRules(this.componentId,o,s)}r=Gt(r,o),this.staticRulesId=o}else{for(var a=At(this.baseHash,n.hash),c="",u=0;u<this.rules.length;u++){var l=this.rules[u];if("string"==typeof l)c+=l;else if(l){var h=Zt(Re(l,t,e,n));a=At(a,h+u),c+=h}}if(c){var d=St(a>>>0);e.hasNameForId(this.componentId,d)||e.insertRules(this.componentId,d,n(c,".".concat(d),void 0,this.componentId)),r=Gt(r,d)}}return r},t}(),je=o.createContext(void 0);je.Consumer;var De={};new Set;function Ue(t,e,n){var i=$t(t),s=t,a=!Ct(t),c=e.attrs,u=void 0===c?mt:c,l=e.componentId,h=void 0===l?function(t,e){var n="string"!=typeof t?"sc":_t(t);De[n]=(De[n]||0)+1;var r="".concat(n,"-").concat(It(ht+n+De[n]));return e?"".concat(e,"-").concat(r):r}(e.displayName,e.parentComponentId):l,d=e.displayName,f=void 0===d?function(t){return Ct(t)?"styled.".concat(t):"Styled(".concat(Ot(t),")")}(t):d,p=e.displayName&&e.componentId?"".concat(_t(e.displayName),"-").concat(e.componentId):e.componentId||h,m=i&&s.attrs?s.attrs.concat(u).filter(Boolean):u,g=e.shouldForwardProp;if(i&&s.shouldForwardProp){var y=s.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;g=function(t,e){return y(t,e)&&v(t,e)}}else g=y}var w=new Le(n,p,i?s.componentStyle:void 0);function b(t,e){return function(t,e,n){var i=t.attrs,s=t.componentStyle,a=t.defaultProps,c=t.foldedComponentIds,u=t.styledComponentId,l=t.target,h=o.useContext(je),d=Ae(),f=t.shouldForwardProp||d.shouldForwardProp,p=yt(e,h,a)||gt,m=function(t,e,n){for(var i,o=r(r({},e),{className:void 0,theme:n}),s=0;s<t.length;s+=1){var a=Kt(i=t[s])?i(o):i;for(var c in a)o[c]="className"===c?Gt(o[c],a[c]):"style"===c?r(r({},o[c]),a[c]):a[c]}return e.className&&(o.className=Gt(o.className,e.className)),o}(i,e,p),g=m.as||l,y={};for(var v in m)void 0===m[v]||"$"===v[0]||"as"===v||"theme"===v&&m.theme===p||("forwardedAs"===v?y.as=m.forwardedAs:f&&!f(v,g)||(y[v]=m[v]));var w=function(t,e){var n=Ae();return t.generateAndInjectStyles(e,n.styleSheet,n.stylis)}(s,m),b=Gt(c,u);return w&&(b+=" "+w),m.className&&(b+=" "+m.className),y[Ct(g)&&!vt.has(g)?"class":"className"]=b,y.ref=n,(0,o.createElement)(g,y)}(_,t,e)}b.displayName=f;var _=o.forwardRef(b);return _.attrs=m,_.componentStyle=w,_.displayName=f,_.shouldForwardProp=g,_.foldedComponentIds=i?Gt(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=p,_.target=i?s.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)Jt(t,i[r],!0);return t}({},s.defaultProps,t):t}}),Xt(_,(function(){return".".concat(_.styledComponentId)})),a&&Ht(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function ze(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Fe=function(t){return Object.assign(t,{isCss:!0})};function qe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kt(t)||Yt(t))return Fe(Re(ze(mt,i([t],e,!0))));var r=t;return 0===e.length&&1===r.length&&"string"==typeof r[0]?Re(r):Fe(Re(ze(r,e)))}function Ve(t,e,n){if(void 0===n&&(n=gt),!e)throw Qt(1,e);var o=function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,qe.apply(void 0,i([r],o,!1)))};return o.attrs=function(i){return Ve(t,e,r(r({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},o.withConfig=function(i){return Ve(t,e,r(r({},n),i))},o}var We=function(t){return Ve(Ue,t)},He=We;vt.forEach((function(t){He[t]=We(t)}));!function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=Be(t),ye.registerId(this.componentId+1)}t.prototype.createStyles=function(t,e,n,r){var i=r(Zt(Re(this.rules,e,n,r)),""),o=this.componentId+t;n.insertRules(o,o,i)},t.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},t.prototype.renderStyles=function(t,e,n,r){t>2&&ye.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)}}();function Ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Zt(qe.apply(void 0,i([t],e,!1))),o=It(r);return new Ie(o,r)}(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=le(),r=Zt([n&&'nonce="'.concat(n,'"'),"".concat(ct,'="true"'),"".concat(lt,'="').concat(ht,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw Qt(2);return t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)throw Qt(2);var n=((e={})[ct]="",e[lt]=ht,e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),i=le();return i&&(n.nonce=i),[o.createElement("style",r({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new ye({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw Qt(2);return o.createElement(Te,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(t){throw Qt(3)}})(),"__sc-".concat(ct,"__")},3250:function(t,e,n){"use strict";var r=n(7294);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,l=r[1];return a((function(){i.value=n,i.getSnapshot=e,u(i)&&l({inst:i})}),[t,n,e]),s((function(){return u(i)&&l({inst:i}),t((function(){u(i)&&l({inst:i})}))}),[t]),c(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:function(t,e,n){"use strict";var r=n(7294),i=n(1688);var o="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},s=i.useSyncExternalStore,a=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=u((function(){function t(t){if(!c){if(c=!0,s=t,t=r(t),void 0!==i&&d.hasValue){var e=d.value;if(i(e,t))return a=e}return a=t}if(e=a,o(s,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(s=t,a=n)}var s,a,c=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]}),[e,n,r,i]);var f=s(t,h[0],h[1]);return c((function(){d.hasValue=!0,d.value=f}),[f]),l(f),f}},1688:function(t,e,n){"use strict";t.exports=n(3250)},2798:function(t,e,n){"use strict";t.exports=n(139)},6601:function(){},3897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},5372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},6115:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},7156:function(t){function e(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,c,"next",t)}function c(t){e(s,i,o,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},6690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9728:function(t,e,n){var r=n(4062);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},3808:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:function(t,e,n){var r=n(6015);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},4836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},8872:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},2218:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},4993:function(t,e,n){var r=n(8698).default,i=n(6115);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7061:function(t,e,n){var r=n(8698).default;function i(){"use strict";t.exports=i=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(e){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),s=new P(r||[]);return a(o,"_invoke",{value:I(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var m="suspendedStart",g="executing",y="completed",v={};function w(){}function b(){}function _(){}var k={};d(k,u,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(R([])));S&&S!==o&&s.call(S,u)&&(k=S);var E=_.prototype=w.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,o,a,c){var u=p(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==r(h)&&s.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var i=m;return function(o,s){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var u=p(t,n,r);if("normal"===u.type){if(i=r.done?y:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(s.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:b,configurable:!0}),b.displayName=d(_,h,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,d(t,h,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},A(T.prototype),d(T.prototype,l,(function(){return this})),n.AsyncIterator=T,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var s=new T(f(t,e,r,i),o);return n.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},A(E),d(E,h,"Generator"),d(E,u,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7424:function(t,e,n){var r=n(5372),i=n(8872),o=n(6116),s=n(2218);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},5036:function(t,e,n){var r=n(8698).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:function(t,e,n){var r=n(8698).default,i=n(5036);t.exports=function(t){var e=i(t,"string");return"symbol"==r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6116:function(t,e,n){var r=n(3897);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},4687:function(t,e,n){var r=n(7061)();t.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},8467:function(t,e,n){"use strict";n.d(e,{Gd:function(){return s},H_:function(){return i},_u:function(){return o}});var r=n(5959);const i=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=(new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")),s=new r.PublicKey("So11111111111111111111111111111111111111112");new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},3495:function(t,e,n){"use strict";n.d(e,{g:function(){return s},h:function(){return a}});var r=n(7294);const i={setVisible(t){console.error(o("call","setVisible"))},visible:!1};function o(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(i,"visible",{get:()=>(console.error(o("read","visible")),!1)});const s=(0,r.createContext)(i);function a(){return(0,r.useContext)(s)}},4718:function(t,e,n){"use strict";n.d(e,{R:function(){return o},h:function(){return i}});var r=n(7294);const i=(0,r.createContext)({});function o(){return(0,r.useContext)(i)}},4306:function(t,e,n){"use strict";n.d(e,{O:function(){return c},z:function(){return a}});var r=n(7294);const i=[],o={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){s("call","select")},connect:()=>Promise.reject(s("call","connect")),disconnect:()=>Promise.reject(s("call","disconnect")),sendTransaction:()=>Promise.reject(s("call","sendTransaction")),signTransaction:()=>Promise.reject(s("call","signTransaction")),signAllTransactions:()=>Promise.reject(s("call","signAllTransactions")),signMessage:()=>Promise.reject(s("call","signMessage")),signIn:()=>Promise.reject(s("call","signIn"))};function s(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}Object.defineProperty(o,"wallets",{get:()=>(s("read","wallets"),i)}),Object.defineProperty(o,"wallet",{get:()=>(s("read","wallet"),null)}),Object.defineProperty(o,"publicKey",{get:()=>(s("read","publicKey"),null)});const a=(0,r.createContext)(o);function c(){return(0,r.useContext)(a)}},943:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},9474:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,{Z:function(){return r}})},4924:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},3375:function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:function(){return r}})},3128:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{Z:function(){return r}})},6042:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(4924);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){(0,r.Z)(t,e,n[e])}))}return t}},9396:function(t,e,n){"use strict";function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}n.d(e,{Z:function(){return r}})},1566:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(943);function i(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},7306:function(t,e,n){"use strict";n.d(e,{HI:function(){return Z},nh:function(){return lt},Rn:function(){return z},AH:function(){return F},AE:function(){return W},Vi:function(){return G},ho:function(){return K},N0:function(){return $},VM:function(){return ft},wJ:function(){return Q},EK:function(){return et},ct:function(){return ut},iY:function(){return X},U2:function(){return ot},uT:function(){return at},Gv:function(){return st},Ge:function(){return ct}});var r=n(6591),i=n(9386),o=n(475);const s=t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)});var a=n(8764).Buffer;const c=t=>e=>{const n=(0,i.Ik)(t,e),{encode:r,decode:c}=s(n),u=n;return u.decode=(t,e)=>{const n=c(t,e);return(0,o.oU)(a.from(n))},u.encode=(e,n,i)=>{const s=(0,o.k$)(e,t);return r(s,n,i)},u},u=t=>e=>{const n=(0,i.Ik)(t,e),{encode:r,decode:c}=s(n),u=n;return u.decode=(t,e)=>{const n=c(t,e);return(0,o.Q5)(a.from(n))},u.encode=(e,n,i)=>{const s=(0,o.zP)(e,t);return r(s,n,i)},u},l=c(8);u(8),c(16),u(16),c(24),u(24),c(32),u(32);var h=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,d=Math.ceil,f=Math.floor,p="[BigNumber Error] ",m=p+"Number primitive has more than 15 significant digits: ",g=1e14,y=14,v=9007199254740991,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],b=1e7,_=1e9;function k(t){var e=0|t;return t>0||t===e?e:e-1}function x(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=y-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function S(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,u=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function E(t,e,n,r){if(t<e||t>n||t!==f(t))throw Error(p+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function A(t){var e=t.c.length-1;return k(t.e/y)==e&&t.c[e]%2!=0}function T(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function I(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var O=function t(e){var n,r,i,o=j.prototype={constructor:j,toString:null,valueOf:null},s=new j(1),a=20,c=4,u=-7,l=21,O=-1e7,C=1e7,M=!1,P=1,R=0,B={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz",L=!0;function j(t,e){var n,o,s,u,l,d,p,g,w=this;if(!(w instanceof j))return new j(t,e);if(null==e){if(t&&!0===t._isBigNumber)return w.s=t.s,void(!t.c||t.e>C?w.c=w.e=null:t.e<O?w.c=[w.e=0]:(w.e=t.e,w.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(w.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,l=t;l>=10;l/=10,u++);return void(u>C?w.c=w.e=null:(w.e=u,w.c=[t]))}g=String(t)}else{if(!h.test(g=String(t)))return i(w,g,d);w.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(u=g.indexOf("."))>-1&&(g=g.replace(".","")),(l=g.search(/e/i))>0?(u<0&&(u=l),u+=+g.slice(l+1),g=g.substring(0,l)):u<0&&(u=g.length)}else{if(E(e,2,N.length,"Base"),10==e&&L)return F(w=new j(t),a+w.e+1,c);if(g=String(t),d="number"==typeof t){if(0*t!=0)return i(w,g,d,e);if(w.s=1/t<0?(g=g.slice(1),-1):1,j.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(m+t)}else w.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=N.slice(0,e),u=l=0,p=g.length;l<p;l++)if(n.indexOf(o=g.charAt(l))<0){if("."==o){if(l>u){u=p;continue}}else if(!s&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){s=!0,l=-1,u=0;continue}return i(w,String(t),d,e)}d=!1,(u=(g=r(g,e,10,w.s)).indexOf("."))>-1?g=g.replace(".",""):u=g.length}for(l=0;48===g.charCodeAt(l);l++);for(p=g.length;48===g.charCodeAt(--p););if(g=g.slice(l,++p)){if(p-=l,d&&j.DEBUG&&p>15&&(t>v||t!==f(t)))throw Error(m+w.s*t);if((u=u-l-1)>C)w.c=w.e=null;else if(u<O)w.c=[w.e=0];else{if(w.e=u,w.c=[],l=(u+1)%y,u<0&&(l+=y),l<p){for(l&&w.c.push(+g.slice(0,l)),p-=y;l<p;)w.c.push(+g.slice(l,l+=y));l=y-(g=g.slice(l)).length}else l-=p;for(;l--;g+="0");w.c.push(+g)}}else w.c=[w.e=0]}function D(t,e,n,r){var i,o,s,a,h;if(null==n?n=c:E(n,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)h=x(t.c),h=1==r||2==r&&(s<=u||s>=l)?T(h,s):I(h,s,"0");else if(o=(t=F(new j(t),e,n)).e,a=(h=x(t.c)).length,1==r||2==r&&(e<=o||o<=u)){for(;a<e;h+="0",a++);h=T(h,o)}else if(e-=s,h=I(h,o,"0"),o+1>a){if(--e>0)for(h+=".";e--;h+="0");}else if((e+=o-a)>0)for(o+1==a&&(h+=".");e--;h+="0");return t.s<0&&i?"-"+h:h}function U(t,e){for(var n,r,i=1,o=new j(t[0]);i<t.length;i++)(!(r=new j(t[i])).s||(n=S(o,r))===e||0===n&&o.s===e)&&(o=r);return o}function z(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*y-1)>C?t.c=t.e=null:n<O?t.c=[t.e=0]:(t.e=n,t.c=e),t}function F(t,e,n,r){var i,o,s,a,c,u,l,h=t.c,p=w;if(h){t:{for(i=1,a=h[0];a>=10;a/=10,i++);if((o=e-i)<0)o+=y,s=e,c=h[u=0],l=f(c/p[i-s-1]%10);else if((u=d((o+1)/y))>=h.length){if(!r)break t;for(;h.length<=u;h.push(0));c=l=0,i=1,s=(o%=y)-y+1}else{for(c=a=h[u],i=1;a>=10;a/=10,i++);l=(s=(o%=y)-y+i)<0?0:f(c/p[i-s-1]%10)}if(r=r||e<0||null!=h[u+1]||(s<0?c:c%p[i-s-1]),r=n<4?(l||r)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?s>0?c/p[i-s]:0:h[u-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,r?(e-=t.e+1,h[0]=p[(y-e%y)%y],t.e=-e||0):h[0]=t.e=0,t;if(0==o?(h.length=u,a=1,u--):(h.length=u+1,a=p[y-o],h[u]=s>0?f(c/p[i-s]%p[s])*a:0),r)for(;;){if(0==u){for(o=1,s=h[0];s>=10;s/=10,o++);for(s=h[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(t.e++,h[0]==g&&(h[0]=1));break}if(h[u]+=a,h[u]!=g)break;h[u--]=0,a=1}for(o=h.length;0===h[--o];h.pop());}t.e>C?t.c=t.e=null:t.e<O&&(t.c=[t.e=0])}return t}function q(t){var e,n=t.e;return null===n?t.toString():(e=x(t.c),e=n<=u||n>=l?T(e,n):I(e,n,"0"),t.s<0?"-"+e:e)}return j.clone=t,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(p+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(E(n=t[e],0,_,e),a=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(E(n=t[e],0,8,e),c=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(E(n[0],-_,0,e),E(n[1],0,_,e),u=n[0],l=n[1]):(E(n,-_,_,e),u=-(l=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)E(n[0],-_,-1,e),E(n[1],1,_,e),O=n[0],C=n[1];else{if(E(n,-_,_,e),!n)throw Error(p+e+" cannot be zero: "+n);O=-(C=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(p+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(p+"crypto unavailable");M=n}else M=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(E(n=t[e],0,9,e),P=n),t.hasOwnProperty(e="POW_PRECISION")&&(E(n=t[e],0,_,e),R=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(p+e+" not an object: "+n);B=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(p+e+" invalid: "+n);L="0123456789"==n.slice(0,10),N=n}}return{DECIMAL_PLACES:a,ROUNDING_MODE:c,EXPONENTIAL_AT:[u,l],RANGE:[O,C],CRYPTO:M,MODULO_MODE:P,POW_PRECISION:R,FORMAT:B,ALPHABET:N}},j.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!j.DEBUG)return!0;var e,n,r=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-_&&i<=_&&i===f(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%y)<1&&(e+=y),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=g||n!==f(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(p+"Invalid BigNumber: "+t)},j.maximum=j.max=function(){return U(arguments,-1)},j.minimum=j.min=function(){return U(arguments,1)},j.random=function(){var t=9007199254740992,e=Math.random()*t&2097151?function(){return f(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var n,r,i,o,c,u=0,l=[],h=new j(s);if(null==t?t=a:E(t,0,_),o=d(t/y),M)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(o*=2));u<o;)(c=131072*n[u]+(n[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[u]=r[0],n[u+1]=r[1]):(l.push(c%1e14),u+=2);u=o/2}else{if(!crypto.randomBytes)throw M=!1,Error(p+"crypto unavailable");for(n=crypto.randomBytes(o*=7);u<o;)(c=281474976710656*(31&n[u])+1099511627776*n[u+1]+4294967296*n[u+2]+16777216*n[u+3]+(n[u+4]<<16)+(n[u+5]<<8)+n[u+6])>=9e15?crypto.randomBytes(7).copy(n,u):(l.push(c%1e14),u+=7);u=o/7}if(!M)for(;u<o;)(c=e())<9e15&&(l[u++]=c%1e14);for(o=l[--u],t%=y,o&&t&&(c=w[y-t],l[u]=f(o/c)*c);0===l[u];l.pop(),u--);if(u<0)l=[i=0];else{for(i=-1;0===l[0];l.splice(0,1),i-=y);for(u=1,c=l[0];c>=10;c/=10,u++);u<y&&(i-=y-u)}return h.e=i,h.c=l,h}}(),j.sum=function(){for(var t=1,e=arguments,n=new j(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,o,s=[0],a=0,c=t.length;a<c;){for(o=s.length;o--;s[o]*=e);for(s[0]+=r.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,u){var l,h,d,f,p,m,g,y,v=r.indexOf("."),w=a,b=c;for(v>=0&&(f=R,R=0,r=r.replace(".",""),m=(y=new j(i)).pow(r.length-v),R=f,y.c=e(I(x(m.c),m.e,"0"),10,o,t),y.e=y.c.length),d=f=(g=e(r,i,o,u?(l=N,t):(l=t,N))).length;0==g[--f];g.pop());if(!g[0])return l.charAt(0);if(v<0?--d:(m.c=g,m.e=d,m.s=s,g=(m=n(m,y,w,b,o)).c,p=m.r,d=m.e),v=g[h=d+w+1],f=o/2,p=p||h<0||null!=g[h+1],p=b<4?(null!=v||p)&&(0==b||b==(m.s<0?3:2)):v>f||v==f&&(4==b||p||6==b&&1&g[h-1]||b==(m.s<0?8:7)),h<1||!g[0])r=p?I(l.charAt(1),-w,l.charAt(0)):l.charAt(0);else{if(g.length=h,p)for(--o;++g[--h]>o;)g[h]=0,h||(++d,g=[1].concat(g));for(f=g.length;!g[--f];);for(v=0,r="";v<=f;r+=l.charAt(g[v++]));r=I(r,d,l.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,o,s,a=0,c=t.length,u=e%b,l=e/b|0;for(t=t.slice();c--;)a=((i=u*(o=t[c]%b)+(r=l*o+(s=t[c]/b|0)*u)%b*b+a)/n|0)+(r/b|0)+l*s,t[c]=i%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,s,a){var c,u,l,h,d,p,m,v,w,b,_,x,S,E,A,T,I,O=r.s==i.s?1:-1,C=r.c,M=i.c;if(!C||!C[0]||!M||!M[0])return new j(r.s&&i.s&&(C?!M||C[0]!=M[0]:M)?C&&0==C[0]||!M?0*O:O/0:NaN);for(w=(v=new j(O)).c=[],O=o+(u=r.e-i.e)+1,a||(a=g,u=k(r.e/y)-k(i.e/y),O=O/y|0),l=0;M[l]==(C[l]||0);l++);if(M[l]>(C[l]||0)&&u--,O<0)w.push(1),h=!0;else{for(E=C.length,T=M.length,l=0,O+=2,(d=f(a/(M[0]+1)))>1&&(M=t(M,d,a),C=t(C,d,a),T=M.length,E=C.length),S=T,_=(b=C.slice(0,T)).length;_<T;b[_++]=0);I=M.slice(),I=[0].concat(I),A=M[0],M[1]>=a/2&&A++;do{if(d=0,(c=e(M,b,T,_))<0){if(x=b[0],T!=_&&(x=x*a+(b[1]||0)),(d=f(x/A))>1)for(d>=a&&(d=a-1),m=(p=t(M,d,a)).length,_=b.length;1==e(p,b,m,_);)d--,n(p,T<m?I:M,m,a),m=p.length,c=1;else 0==d&&(c=d=1),m=(p=M.slice()).length;if(m<_&&(p=[0].concat(p)),n(b,p,_,a),_=b.length,-1==c)for(;e(M,b,T,_)<1;)d++,n(b,T<_?I:M,_,a),_=b.length}else 0===c&&(d++,b=[0]);w[l++]=d,b[0]?b[_++]=C[S]||0:(b=[C[S]],_=1)}while((S++<E||null!=b[0])&&O--);h=null!=b[0],w[0]||w.splice(0,1)}if(a==g){for(l=1,O=w[0];O>=10;O/=10,l++);F(v,o+(v.e=l+u*y-1)+1,s,h)}else v.e=u,v.r=+h;return v}}(),i=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,a,c){var u,l=a?s:s.replace(i,"");if(r.test(l))o.s=isNaN(l)?null:l<0?-1:1;else{if(!a&&(l=l.replace(t,(function(t,e,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,c&&c!=u?t:e})),c&&(u=c,l=l.replace(e,"$1").replace(n,"0.$1")),s!=l))return new j(l,u);if(j.DEBUG)throw Error(p+"Not a"+(c?" base "+c:"")+" number: "+s);o.s=null}o.c=o.e=null}}(),o.absoluteValue=o.abs=function(){var t=new j(this);return t.s<0&&(t.s=1),t},o.comparedTo=function(t,e){return S(this,new j(t,e))},o.decimalPlaces=o.dp=function(t,e){var n,r,i,o=this;if(null!=t)return E(t,0,_),null==e?e=c:E(e,0,8),F(new j(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-k(this.e/y))*y,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},o.dividedBy=o.div=function(t,e){return n(this,new j(t,e),a,c)},o.dividedToIntegerBy=o.idiv=function(t,e){return n(this,new j(t,e),0,1)},o.exponentiatedBy=o.pow=function(t,e){var n,r,i,o,a,u,l,h,m=this;if((t=new j(t)).c&&!t.isInteger())throw Error(p+"Exponent not an integer: "+q(t));if(null!=e&&(e=new j(e)),a=t.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!t.c||!t.c[0])return h=new j(Math.pow(+q(m),a?t.s*(2-A(t)):+q(t))),e?h.mod(e):h;if(u=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new j(NaN);(r=!u&&m.isInteger()&&e.isInteger())&&(m=m.mod(e))}else{if(t.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||a&&m.c[1]>=24e7:m.c[0]<8e13||a&&m.c[0]<=9999975e7)))return o=m.s<0&&A(t)?-0:0,m.e>-1&&(o=1/o),new j(u?1/o:o);R&&(o=d(R/y+2))}for(a?(n=new j(.5),u&&(t.s=1),l=A(t)):l=(i=Math.abs(+q(t)))%2,h=new j(s);;){if(l){if(!(h=h.times(m)).c)break;o?h.c.length>o&&(h.c.length=o):r&&(h=h.mod(e))}if(i){if(0===(i=f(i/2)))break;l=i%2}else if(F(t=t.times(n),t.e+1,1),t.e>14)l=A(t);else{if(0===(i=+q(t)))break;l=i%2}m=m.times(m),o?m.c&&m.c.length>o&&(m.c.length=o):r&&(m=m.mod(e))}return r?h:(u&&(h=s.div(h)),e?h.mod(e):o?F(h,R,c,undefined):h)},o.integerValue=function(t){var e=new j(this);return null==t?t=c:E(t,0,8),F(e,e.e+1,t)},o.isEqualTo=o.eq=function(t,e){return 0===S(this,new j(t,e))},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(t,e){return S(this,new j(t,e))>0},o.isGreaterThanOrEqualTo=o.gte=function(t,e){return 1===(e=S(this,new j(t,e)))||0===e},o.isInteger=function(){return!!this.c&&k(this.e/y)>this.c.length-2},o.isLessThan=o.lt=function(t,e){return S(this,new j(t,e))<0},o.isLessThanOrEqualTo=o.lte=function(t,e){return-1===(e=S(this,new j(t,e)))||0===e},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.minus=function(t,e){var n,r,i,o,s=this,a=s.s;if(e=(t=new j(t,e)).s,!a||!e)return new j(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/y,l=t.e/y,h=s.c,d=t.c;if(!u||!l){if(!h||!d)return h?(t.s=-e,t):new j(d?s:NaN);if(!h[0]||!d[0])return d[0]?(t.s=-e,t):new j(h[0]?s:3==c?-0:0)}if(u=k(u),l=k(l),h=h.slice(),a=u-l){for((o=a<0)?(a=-a,i=h):(l=u,i=d),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(r=(o=(a=h.length)<(e=d.length))?a:e,a=e=0;e<r;e++)if(h[e]!=d[e]){o=h[e]<d[e];break}if(o&&(i=h,h=d,d=i,t.s=-t.s),(e=(r=d.length)-(n=h.length))>0)for(;e--;h[n++]=0);for(e=g-1;r>a;){if(h[--r]<d[r]){for(n=r;n&&!h[--n];h[n]=e);--h[n],h[r]+=g}h[r]-=d[r]}for(;0==h[0];h.splice(0,1),--l);return h[0]?z(t,h,l):(t.s=3==c?-1:1,t.c=[t.e=0],t)},o.modulo=o.mod=function(t,e){var r,i,o=this;return t=new j(t,e),!o.c||!t.s||t.c&&!t.c[0]?new j(NaN):!t.c||o.c&&!o.c[0]?new j(o):(9==P?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,P),(t=o.minus(r.times(t))).c[0]||1!=P||(t.s=o.s),t)},o.multipliedBy=o.times=function(t,e){var n,r,i,o,s,a,c,u,l,h,d,f,p,m,v,w=this,_=w.c,x=(t=new j(t,e)).c;if(!_||!x||!_[0]||!x[0])return!w.s||!t.s||_&&!_[0]&&!x||x&&!x[0]&&!_?t.c=t.e=t.s=null:(t.s*=w.s,_&&x?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=k(w.e/y)+k(t.e/y),t.s*=w.s,(c=_.length)<(h=x.length)&&(p=_,_=x,x=p,i=c,c=h,h=i),i=c+h,p=[];i--;p.push(0));for(m=g,v=b,i=h;--i>=0;){for(n=0,d=x[i]%v,f=x[i]/v|0,o=i+(s=c);o>i;)n=((u=d*(u=_[--s]%v)+(a=f*u+(l=_[s]/v|0)*d)%v*v+p[o]+n)/m|0)+(a/v|0)+f*l,p[o--]=u%m;p[o]=n}return n?++r:p.splice(0,1),z(t,p,r)},o.negated=function(){var t=new j(this);return t.s=-t.s||null,t},o.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new j(t,e)).s,!i||!e)return new j(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/y,s=t.e/y,a=r.c,c=t.c;if(!o||!s){if(!a||!c)return new j(i/0);if(!a[0]||!c[0])return c[0]?t:new j(a[0]?r:0*i)}if(o=k(o),s=k(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(e=c.length)<0&&(n=c,c=a,a=n,e=i),i=0;e;)i=(a[--e]=a[e]+c[e]+i)/g|0,a[e]=g===a[e]?0:a[e]%g;return i&&(a=[i].concat(a),++s),z(t,a,s)},o.precision=o.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return E(t,1,_),null==e?e=c:E(e,0,8),F(new j(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*y+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},o.shiftedBy=function(t){return E(t,-9007199254740991,v),this.times("1e"+t)},o.squareRoot=o.sqrt=function(){var t,e,r,i,o,s=this,u=s.c,l=s.s,h=s.e,d=a+4,f=new j("0.5");if(1!==l||!u||!u[0])return new j(!l||l<0&&(!u||u[0])?NaN:u?s:1/0);if(0==(l=Math.sqrt(+q(s)))||l==1/0?(((e=x(u)).length+h)%2==0&&(e+="0"),l=Math.sqrt(+e),h=k((h+1)/2)-(h<0||h%2),r=new j(e=l==1/0?"5e"+h:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+h)):r=new j(l+""),r.c[0])for((l=(h=r.e)+d)<3&&(l=0);;)if(o=r,r=f.times(o.plus(n(s,o,d,1))),x(o.c).slice(0,l)===(e=x(r.c)).slice(0,l)){if(r.e<h&&--l,"9999"!=(e=e.slice(l-3,l+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(F(r,r.e+a+2,1),t=!r.times(r).eq(s));break}if(!i&&(F(o,o.e+a+2,0),o.times(o).eq(s))){r=o;break}d+=4,l+=4,i=1}return F(r,r.e+a+1,c,t)},o.toExponential=function(t,e){return null!=t&&(E(t,0,_),t++),D(this,t,e,1)},o.toFixed=function(t,e){return null!=t&&(E(t,0,_),t=t+this.e+1),D(this,t,e)},o.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=B;else if("object"!=typeof n)throw Error(p+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var o,s=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",l=s[0],h=s[1],d=i.s<0,f=d?l.slice(1):l,m=f.length;if(c&&(o=a,a=c,c=o,m-=o),a>0&&m>0){for(o=m%a||a,l=f.substr(0,o);o<m;o+=a)l+=u+f.substr(o,a);c>0&&(l+=u+f.slice(o)),d&&(l="-"+l)}r=h?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):l}return(n.prefix||"")+r+(n.suffix||"")},o.toFraction=function(t){var e,r,i,o,a,u,l,h,d,f,m,g,v=this,b=v.c;if(null!=t&&(!(l=new j(t)).isInteger()&&(l.c||1!==l.s)||l.lt(s)))throw Error(p+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+q(l));if(!b)return new j(v);for(e=new j(s),d=r=new j(s),i=h=new j(s),g=x(b),a=e.e=g.length-v.e-1,e.c[0]=w[(u=a%y)<0?y+u:u],t=!t||l.comparedTo(e)>0?a>0?e:d:l,u=C,C=1/0,l=new j(g),h.c[0]=0;f=n(l,e,0,1),1!=(o=r.plus(f.times(i))).comparedTo(t);)r=i,i=o,d=h.plus(f.times(o=d)),h=o,e=l.minus(f.times(o=e)),l=o;return o=n(t.minus(r),i,0,1),h=h.plus(o.times(d)),r=r.plus(o.times(i)),h.s=d.s=v.s,m=n(d,i,a*=2,c).minus(v).abs().comparedTo(n(h,r,a,c).minus(v).abs())<1?[d,i]:[h,r],C=u,m},o.toNumber=function(){return+q(this)},o.toPrecision=function(t,e){return null!=t&&E(t,1,_),D(this,t,e,2)},o.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=u||o>=l?T(x(n.c),o):I(x(n.c),o,"0"):10===t&&L?e=I(x((n=F(new j(n),a+o+1,c)).c),n.e,"0"):(E(t,2,N.length,"Base"),e=r(I(x(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},o.valueOf=o.toJSON=function(){return q(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,null!=e&&j.set(e),j}();new O("1e+18");var C=n(5959);const M=t=>{const e=(0,i.Ik)(32,t),{encode:n,decode:r}=s(e),o=e;return o.decode=(t,e)=>{const n=r(t,e);return new C.PublicKey(n)},o.encode=(t,e,r)=>{const i=t.toBuffer();return n(i,e,r)},o};var P=n(8467);class R extends Error{constructor(t){super(t)}}class B extends R{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}n(8764).Buffer;const N=(0,i.n_)([(0,i.Jq)("mintAuthorityOption"),M("mintAuthority"),l("supply"),(0,i.u8)("decimals"),(t=>{const e=(0,i.u8)(t),{encode:n,decode:r}=s(e),o=e;return o.decode=(t,e)=>!!r(t,e),o.encode=(t,e,r)=>{const i=Number(t);return n(i,e,r)},o})("isInitialized"),(0,i.Jq)("freezeAuthorityOption"),M("freezeAuthority")]);N.span;function L(t,e,n=!1,r=P.H_,i=P._u){if(!n&&!C.PublicKey.isOnCurve(e.toBuffer()))throw new B;const[o]=C.PublicKey.findProgramAddressSync([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}var j;n(8764).Buffer;!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"}(j||(j={}));const D=(0,i.n_)([M("mint"),M("owner"),l("amount"),(0,i.Jq)("delegateOption"),M("delegate"),(0,i.u8)("state"),(0,i.Jq)("isNativeOption"),l("isNative"),l("delegatedAmount"),(0,i.Jq)("closeAuthorityOption"),M("closeAuthority")]);D.span;var U=n(8764).Buffer,z=new C.PublicKey("Gamba2hK6KV3quKq854B3sQG1WMdq3zgQLPKqyK4qS18"),F=new C.PublicKey("11111111111111111111111111111111"),q={version:"0.1.0",name:"gamba",instructions:[{name:"gambaInitialize",accounts:[{name:"initializer",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"gambaSetAuthority",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]},relations:["authority"]}],args:[{name:"authority",type:"publicKey"}]},{name:"gambaSetConfig",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]},relations:["authority"]}],args:[{name:"rngAddress",type:"publicKey"},{name:"gambaFee",type:"u64"},{name:"maxCreatorFee",type:"u64"},{name:"poolCreationFee",type:"u64"},{name:"antiSpamFee",type:"u64"},{name:"maxHouseEdge",type:"u64"},{name:"defaultPoolFee",type:"u64"},{name:"jackpotPayoutToUserBps",type:"u64"},{name:"jackpotPayoutToCreatorBps",type:"u64"},{name:"jackpotPayoutToPoolBps",type:"u64"},{name:"jackpotPayoutToGambaBps",type:"u64"},{name:"bonusToJackpotRatioBps",type:"u64"},{name:"maxPayoutBps",type:"u64"},{name:"poolWithdrawFeeBps",type:"u64"},{name:"poolCreationAllowed",type:"bool"},{name:"poolDepositAllowed",type:"bool"},{name:"poolWithdrawAllowed",type:"bool"},{name:"playingAllowed",type:"bool"},{name:"distributionRecipient",type:"publicKey"}]},{name:"poolInitialize",accounts:[{name:"initializer",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL"},{kind:"account",type:"publicKey",account:"Mint",path:"underlying_token_mint"},{kind:"arg",type:"publicKey",path:"pool_authority"}]}},{name:"poolUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_ATA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"poolBonusUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_UNDERLYING_TA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"poolJackpotTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_JACKPOT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"gambaStateAta",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_LP_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"lpMintMetadata",isMut:!0,isSigner:!1},{name:"bonusMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"bonusMintMetadata",isMut:!0,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1}],args:[{name:"poolAuthority",type:"publicKey"},{name:"lookupAddress",type:"publicKey"}]},{name:"poolDeposit",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"pool",isMut:!0,isSigner:!1},{name:"poolUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_ATA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"lpMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_LP_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"userUnderlyingAta",isMut:!0,isSigner:!1},{name:"userLpAta",isMut:!0,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"poolWithdraw",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_ATA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"lpMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_LP_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"userUnderlyingAta",isMut:!0,isSigner:!1},{name:"userLpAta",isMut:!0,isSigner:!1},{name:"gambaState",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"poolMintBonusTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"gambaState",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"poolBonusUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_UNDERLYING_TA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"bonusMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"poolJackpotTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_JACKPOT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"userUnderlyingAta",isMut:!0,isSigner:!1},{name:"userBonusAta",isMut:!0,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"poolAuthorityConfig",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"pool",isMut:!0,isSigner:!1}],args:[{name:"minWager",type:"u64"},{name:"depositLimit",type:"bool"},{name:"depositLimitAmount",type:"u64"},{name:"customPoolFee",type:"bool"},{name:"customPoolFeeBps",type:"u64"},{name:"customMexPayout",type:"bool"},{name:"customMaxPayoutBps",type:"u64"},{name:"depositWhitelistRequired",type:"bool"},{name:"depositWhitelistAddress",type:"publicKey"}]},{name:"poolGambaConfig",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"pool",isMut:!0,isSigner:!1}],args:[{name:"antiSpamFeeExemption",type:"bool"},{name:"customGambaFee",type:"bool"},{name:"customGambaFeeBps",type:"u64"}]},{name:"playerInitialize",accounts:[{name:"player",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"PLAYER"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"game",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAME"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"playGame",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"player",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"PLAYER"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"game",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAME"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"pool",isMut:!0,isSigner:!1},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"bonusTokenMint",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"userUnderlyingAta",isMut:!0,isSigner:!1},{name:"creator",isMut:!1,isSigner:!1},{name:"creatorAta",isMut:!0,isSigner:!1},{name:"playerAta",isMut:!0,isSigner:!1},{name:"playerBonusAta",isMut:!0,isSigner:!1,isOptional:!0},{name:"userBonusAta",isMut:!0,isSigner:!1,isOptional:!0},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"poolJackpotTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_JACKPOT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"wager",type:"u64"},{name:"bet",type:{vec:"u32"}},{name:"clientSeed",type:"string"},{name:"creatorFeeBps",type:"u32"},{name:"jackpotFeeBps",type:"u32"},{name:"metadata",type:"string"}]},{name:"playerClose",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"player",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"PLAYER"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"game",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAME"},{kind:"account",type:"publicKey",path:"user"}]}}],args:[]},{name:"playerClaim",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"player",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"PLAYER"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"game",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAME"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"playerAta",isMut:!0,isSigner:!1},{name:"userUnderlyingAta",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"rngSettle",accounts:[{name:"rng",isMut:!0,isSigner:!0},{name:"user",isMut:!0,isSigner:!1},{name:"player",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"PLAYER"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"game",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAME"},{kind:"account",type:"publicKey",path:"user"}]}},{name:"pool",isMut:!0,isSigner:!1},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"poolUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_ATA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"poolBonusUnderlyingTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_UNDERLYING_TA"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"playerAta",isMut:!0,isSigner:!1},{name:"userUnderlyingAta",isMut:!0,isSigner:!1},{name:"gambaState",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"gambaStateAta",isMut:!0,isSigner:!1},{name:"creator",isMut:!1,isSigner:!1},{name:"creatorAta",isMut:!0,isSigner:!1},{name:"bonusTokenMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_BONUS_MINT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"playerBonusAta",isMut:!0,isSigner:!1,isOptional:!0},{name:"poolJackpotTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"POOL_JACKPOT"},{kind:"account",type:"publicKey",account:"Pool",path:"pool"}]}},{name:"escrowTokenAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"ESCROW"},{kind:"account",type:"publicKey",account:"Player",path:"player"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"rngSeed",type:"string"},{name:"nextRngSeedHashed",type:"string"}]},{name:"rngProvideHashedSeed",accounts:[{name:"game",isMut:!0,isSigner:!1},{name:"rng",isMut:!0,isSigner:!0},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}}],args:[{name:"nextRngSeedHashed",type:"string"}]},{name:"distributeFees",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"underlyingTokenMint",isMut:!1,isSigner:!1},{name:"gambaState",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"GAMBA_STATE"}]}},{name:"gambaStateAta",isMut:!0,isSigner:!1},{name:"distributionRecipient",isMut:!0,isSigner:!1},{name:"distributionRecipientAta",isMut:!0,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"nativeSol",type:"bool"}]}],accounts:[{name:"game",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"nonce",type:"u64"},{name:"user",type:"publicKey"},{name:"tokenMint",type:"publicKey"},{name:"pool",type:"publicKey"},{name:"status",type:{defined:"GameStatus"}},{name:"nextRngSeedHashed",docs:["SHA256 of coming rng_seed. Available at start of the game"],type:"string"},{name:"rngSeed",docs:["Is revealed by the RNG after a play"],type:"string"},{name:"timestamp",type:"i64"},{name:"creator",type:"publicKey"},{name:"creatorMeta",type:"string"},{name:"wager",type:"u64"},{name:"underlyingUsed",type:"u64"},{name:"bonusUsed",type:"u64"},{name:"creatorFee",type:"u64"},{name:"gambaFee",type:"u64"},{name:"poolFee",type:"u64"},{name:"jackpotFee",type:"u64"},{name:"jackpotResult",type:"u64"},{name:"jackpotProbabilityUbps",type:"u64"},{name:"jackpotPayout",type:"u64"},{name:"clientSeed",type:"string"},{name:"bet",type:{vec:"u32"}},{name:"result",type:"u64"},{name:"points",type:"bool"},{name:"pointsAuthority",type:"publicKey"},{name:"metadata",type:"string"}]}},{name:"player",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"user",type:"publicKey"},{name:"nonce",type:"u64"}]}},{name:"pool",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"lookupAddress",type:"publicKey"},{name:"poolAuthority",type:"publicKey"},{name:"underlyingTokenMint",type:"publicKey"},{name:"antiSpamFeeExempt",type:"bool"},{name:"minWager",type:"u64"},{name:"plays",type:"u64"},{name:"liquidityCheckpoint",type:"u64"},{name:"depositLimit",type:"bool"},{name:"depositLimitAmount",type:"u64"},{name:"customPoolFee",type:"bool"},{name:"customPoolFeeBps",type:"u64"},{name:"customGambaFee",type:"bool"},{name:"customGambaFeeBps",type:"u64"},{name:"customMaxPayout",type:"bool"},{name:"customMaxPayoutBps",type:"u64"},{name:"customBonusTokenMint",type:"publicKey"},{name:"customBonusToken",type:"bool"},{name:"customMaxCreatorFee",type:"bool"},{name:"customMaxCreatorFeeBps",type:"u64"},{name:"depositWhitelistRequired",type:"bool"},{name:"depositWhitelistAddress",type:"publicKey"}]}},{name:"gambaState",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"rngAddress",type:"publicKey"},{name:"rngAddress2",type:"publicKey"},{name:"antiSpamFee",type:"u64"},{name:"gambaFeeBps",type:"u64"},{name:"poolCreationFee",type:"u64"},{name:"defaultPoolFee",type:"u64"},{name:"jackpotPayoutToUserBps",type:"u64"},{name:"jackpotPayoutToCreatorBps",type:"u64"},{name:"jackpotPayoutToPoolBps",type:"u64"},{name:"jackpotPayoutToGambaBps",type:"u64"},{name:"bonusToJackpotRatioBps",type:"u64"},{name:"maxHouseEdgeBps",type:"u64"},{name:"maxCreatorFeeBps",type:"u64"},{name:"maxPayoutBps",type:"u64"},{name:"poolWithdrawFeeBps",type:"u64"},{name:"poolCreationAllowed",type:"bool"},{name:"poolDepositAllowed",type:"bool"},{name:"poolWithdrawAllowed",type:"bool"},{name:"playingAllowed",type:"bool"},{name:"distributionRecipient",type:"publicKey"},{name:"bump",type:{array:["u8",1]}}]}}],types:[{name:"PlayerError",type:{kind:"enum",variants:[{name:"NotReadyToPlay"},{name:"CreatorFeeTooHigh"},{name:"WagerTooSmall"},{name:"TooFewBetOutcomes"},{name:"TooManyBetOutcomes"},{name:"PlayerAdvantage"},{name:"HouseAdvantageTooHigh"},{name:"MaxPayoutExceeded"}]}},{name:"RngError",type:{kind:"enum",variants:[{name:"Generic"},{name:"InitialHashedSeedAlreadyProvided"},{name:"IncorrectRngSeed"},{name:"ResultNotRequested"}]}},{name:"GambaStateError",type:{kind:"enum",variants:[{name:"PlaysNotAllowed"},{name:"DepositNotAllowed"},{name:"WithdrawalNotAllowed"},{name:"PoolCreationNotAllowed"},{name:"DepositLimitExceeded"},{name:"DepositWhitelistRequired"}]}},{name:"PoolAction",type:{kind:"enum",variants:[{name:"Deposit"},{name:"Withdraw"}]}},{name:"GameStatus",type:{kind:"enum",variants:[{name:"None"},{name:"NotInitialized"},{name:"Ready"},{name:"ResultRequested"}]}}],events:[{name:"GameSettled",fields:[{name:"user",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"creator",type:"publicKey",index:!1},{name:"creatorFee",type:"u64",index:!1},{name:"gambaFee",type:"u64",index:!1},{name:"poolFee",type:"u64",index:!1},{name:"jackpotFee",type:"u64",index:!1},{name:"underlyingUsed",type:"u64",index:!1},{name:"bonusUsed",type:"u64",index:!1},{name:"wager",type:"u64",index:!1},{name:"payout",type:"u64",index:!1},{name:"multiplierBps",type:"u32",index:!1},{name:"payoutFromBonusPool",type:"u64",index:!1},{name:"payoutFromNormalPool",type:"u64",index:!1},{name:"jackpotProbabilityUbps",type:"u64",index:!1},{name:"jackpotResult",type:"u64",index:!1},{name:"nonce",type:"u64",index:!1},{name:"clientSeed",type:"string",index:!1},{name:"resultIndex",type:"u64",index:!1},{name:"bet",type:{vec:"u32"},index:!1},{name:"jackpotPayoutToUser",type:"u64",index:!1},{name:"poolLiquidity",type:"u64",index:!1},{name:"rngSeed",type:"string",index:!1},{name:"nextRngSeedHashed",type:"string",index:!1},{name:"metadata",type:"string",index:!1}]},{name:"PoolChange",fields:[{name:"user",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"action",type:{defined:"PoolAction"},index:!1},{name:"amount",type:"u64",index:!1},{name:"postLiquidity",type:"u64",index:!1},{name:"lpSupply",type:"u64",index:!1}]}],errors:[{code:6e3,name:"GenericError",msg:"Something went wrong"},{code:6001,name:"Unauthorized",msg:"Unauthorized"}]},V=new r.Wr(q),W=t=>t?D.decode(t.data):null,H=t=>e=>((t,e)=>e?.data?.length?V.decode(t,e.data):null)(t,e),K=(H("player"),H("game")),$=H("pool"),G=H("gambaState"),Z=1e4,Y=t=>Math.round(t*Z),J=(...t)=>{const[e]=C.PublicKey.findProgramAddressSync(t,z);return e},X=(t,e=new C.PublicKey("11111111111111111111111111111111"))=>J(U.from("POOL"),t.toBytes(),e.toBytes()),Q=()=>J(U.from("GAMBA_STATE")),tt=t=>J(U.from("PLAYER"),t.toBytes()),et=t=>J(U.from("GAME"),t.toBytes()),nt=t=>J(U.from("POOL_LP_MINT"),t.toBytes()),rt=t=>J(U.from("POOL_BONUS_MINT"),t.toBytes()),it=t=>J(U.from("POOL_ATA"),t.toBytes()),ot=t=>J(U.from("POOL_JACKPOT"),t.toBytes()),st=(t,e)=>L(e,t),at=(t,e)=>L(rt(e),t),ct=t=>P.Gd.equals(t);async function ut(t,e,n){return new Promise(((r,i)=>{const o=t.onAccountChange(et(e),(async e=>{const s=K(e);if(!s)return t.removeAccountChangeListener(o),i("Game account was closed");if(s.nonce.toNumber()===n+1){t.removeAccountChangeListener(o);const e=await(t=>{const e=t.clientSeed,n=t.bet.map((t=>t/1e4)),r=t.nonce.toNumber()-1,i=t.rngSeed,o=t.result.toNumber(),s=n[o],a=t.wager.toNumber(),c=a*s,u=c-a;return{creator:t.creator,user:t.user,rngSeed:i,clientSeed:e,nonce:r,bet:n,resultIndex:o,wager:a,payout:c,profit:u,multiplier:s,token:t.tokenMint,bonusUsed:t.bonusUsed.toNumber(),jackpotWin:t.jackpotPayout.toNumber()}})(s);return r(e)}}))}))}var lt=class t{gambaProgram;anchorProvider;wallet;constructor(t,e,n=r.Y7.defaultOptions()){this.anchorProvider=new r.Y7(t,e,n),this.gambaProgram=new r.$r(q,z,this.anchorProvider),this.wallet=e}static fromAnchorProvider(e){return new t(e.connection,e.wallet,e.opts)}get user(){return this.wallet.publicKey}createPool(t,e,n){const r=L(t,Q(),!0),i="metadata",o=new C.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),s=X(t,e),a=nt(s),c=rt(s),u=it(s),[l]=C.PublicKey.findProgramAddressSync([U.from("POOL_BONUS_UNDERLYING_TA"),s.toBuffer()],z),[h]=C.PublicKey.findProgramAddressSync([U.from(i),o.toBuffer(),a.toBuffer()],o),[d]=C.PublicKey.findProgramAddressSync([U.from(i),o.toBuffer(),c.toBuffer()],o),f=Q(),p=C.PublicKey.findProgramAddressSync([U.from("POOL_JACKPOT"),s.toBuffer()],z)[0],[m,g]=C.AddressLookupTableProgram.createLookupTable({authority:this.wallet.publicKey,payer:this.wallet.publicKey,recentSlot:n-1});return[m,C.AddressLookupTableProgram.extendLookupTable({payer:this.wallet.publicKey,authority:this.wallet.publicKey,lookupTable:g,addresses:[s,t,u,l,f,r,c,p]}),C.AddressLookupTableProgram.freezeLookupTable({authority:this.wallet.publicKey,lookupTable:g}),this.gambaProgram.methods.poolInitialize(e,g).accounts({initializer:this.wallet.publicKey,gambaState:Q(),underlyingTokenMint:t,pool:s,poolUnderlyingTokenAccount:u,poolBonusUnderlyingTokenAccount:l,gambaStateAta:r,lpMint:a,lpMintMetadata:h,bonusMint:c,bonusMintMetadata:d,associatedTokenProgram:P._u,tokenProgram:P.H_,systemProgram:C.SystemProgram.programId,rent:C.SYSVAR_RENT_PUBKEY,tokenMetadataProgram:o}).instruction()]}depositToPool(t,e,n){const i=it(t),o=nt(t),s=L(e,this.wallet.publicKey),a=L(o,this.wallet.publicKey);return this.gambaProgram.methods.poolDeposit(new r.BN(n)).accounts({pool:t,underlyingTokenMint:e,poolUnderlyingTokenAccount:i,userUnderlyingAta:s,userLpAta:a}).instruction()}withdrawFromPool(t,e,n){const i=it(t),o=nt(t),s=L(e,this.wallet.publicKey),a=L(o,this.wallet.publicKey);return this.gambaProgram.methods.poolWithdraw(new r.BN(n)).accounts({pool:t,underlyingTokenMint:e,poolUnderlyingTokenAccount:i,userUnderlyingAta:s,userLpAta:a}).instruction()}mintBonusTokens(t,e,n){const i=rt(t),o=L(e,this.wallet.publicKey),s=L(i,this.wallet.publicKey);return this.gambaProgram.methods.poolMintBonusTokens(new r.BN(n)).accounts({pool:t,user:this.wallet.publicKey,underlyingTokenMint:e,userUnderlyingAta:o,userBonusAta:s}).instruction()}createPlayer(){return this.gambaProgram.methods.playerInitialize().accounts({}).instruction()}closePlayer(){const t=et(this.user);return this.gambaProgram.methods.playerClose().accounts({game:t}).instruction()}play(t,e,n,i,o,s,a,c,u,l){const h=tt(this.user),d=L(o,this.user),f=L(o,s),p=L(o,h,!0),m=rt(i),g=L(m,this.user),y=L(m,tt(this.user),!0);return this.gambaProgram.methods.playGame(new r.BN(t),e.map(Y),n,Y(a),Y(c),u).accounts({pool:i,userUnderlyingAta:d,underlyingTokenMint:o,creator:s,creatorAta:f,playerAta:p,playerBonusAta:l?y:null,userBonusAta:l?g:null}).instruction()}},ht=new r.jf(z,new r.lc(q)),dt=t=>{const e=(t=>{try{const e=[],n=ht.parseLogs(t);for(const t of n)e.push(t);return e}catch{return[]}})(t.meta?.logMessages??[]);return e.map((e=>({signature:t.transaction.signatures[0],time:1e3*(t.blockTime??0),name:e.name,data:e.data})))};async function ft(t,e,n){const r=await t.getSignaturesForAddress(e,n,"confirmed"),i=await async function(t,e){return(await t.getParsedTransactions(e,{maxSupportedTransactionVersion:0,commitment:"confirmed"})).flatMap((t=>t?[t]:[])).flatMap(dt)}(t,r.map((t=>t.signature)));return i}},1355:function(t,e,n){"use strict";n.d(e,{e6:function(){return Us},lO:function(){return xs},bG:function(){return Ss},AX:function(){return aa},Pk:function(){return Is},WA:function(){return Ys},zl:function(){return Rs},kx:function(){return ca},Sn:function(){return ia},cT:function(){return oa},mM:function(){return ua},cg:function(){return js},FB:function(){return la},re:function(){return ha}});var r=n(5959),i=n(7294),o=n(8467),s=n(3935),a=n(9531),c=n(4529),u=n(7306),l=n(5618),h=n(1688),d=n(5893),f=n(4862),p=null,m=!1,g=null,y=new Map;function v(t){if(!t)return 1;var e,n=y.get(t);if(void 0!==n)return n;var r=t.useCallback.toString();if(t.useReducer===t.useEffect)e=1;else if(t.useEffect===t.useImperativeHandle)e=32;else if(/Invalid/.test(r))e=2;else if(/updateCallback/.test(r)||/\[0\]/.test(r)&&/\[1\]/.test(r)){var i=t.useReducer.toString();e=/rerenderReducer/.test(i)||/return\s*\[\w+,/.test(i)?16:8}else e=4;return y.set(t,e),e}var w=Symbol.for("react.element"),b=function(){};function _(t){return"function"!=typeof t?t:function(e,n){if("string"==typeof e&&n)for(var r in n){var i=n[r];"children"!==r&&i instanceof l.MZ&&(n[r]=i.value)}return t.call.apply(t,[t,e,n].concat([].slice.call(arguments,2)))}}var k,x,S=Symbol.dispose||Symbol.for("Symbol.dispose");function E(t,e){var n=e.effect.S();return k=e,A.bind(e,t,n)}function A(t,e){e(),k=t}({u:0,effect:{s:void 0,c:function(){},S:function(){return b},d:function(){}},subscribe:function(){return b},getSnapshot:function(){return 0},S:function(){},f:function(){}})[S]=function(){};var T=Promise.prototype.then.bind(Promise.resolve());function I(t){void 0===t&&(t=0),x||(x=T((function(){var t;x=void 0,null==(t=k)||t.f()})));var e=(0,i.useRef)();null==e.current&&(e.current=function(t){var e,n,r,i,o=0,s=(0,l.cE)((function(){n=this}));return n.c=function(){o=o+1|0,i&&i()},(e={u:t,effect:n,subscribe:function(t){return i=t,function(){o=o+1|0,i=void 0,s()}},getSnapshot:function(){return o},S:function(){if(null!=k){var t=k.u,e=this.u;0==t&&0==e||0==t&&1==e?(k.f(),r=E(void 0,this)):1==t&&0==e||2==t&&0==e||(r=E(k,this))}else r=E(void 0,this)},f:function(){null==r||r(),r=void 0}})[S]=function(){this.f()},e}(t));var n=e.current;return(0,h.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),n.S(),n}Object.defineProperties(l.MZ.prototype,{$$typeof:{configurable:!0,value:w},type:{configurable:!0,value:function(t){var e=t.data,n=I(1);try{return e.value}finally{n.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}}),Object.defineProperty(i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,"current",{get:function(){return g},set:function(t){if(m)g=t;else{var e=v(g),n=v(t);if(g=t,function(t,e){return!!(1&t&&28&e)}(e,n))m=!0,p=I(1),m=!1;else if(function(t,e){return Boolean(28&t&&16&e)}(e,n)){var r;null==(r=p)||r.f(),m=!0,p=I(1),m=!1}else if(function(t,e){return Boolean(28&t&&1&e)}(e,n)){var i;null==(i=p)||i.f(),p=null}}}}),function(){var t=d,e=f;i.createElement=_(i.createElement),e.jsx&&(e.jsx=_(e.jsx)),t.jsx&&(t.jsx=_(t.jsx)),e.jsxs&&(e.jsxs=_(e.jsxs)),t.jsxs&&(t.jsxs=_(t.jsxs)),e.jsxDEV&&(e.jsxDEV=_(e.jsxDEV)),t.jsxDEV&&(t.jsxDEV=_(t.jsxDEV))}();var O=n(964);const C="14.7.77";var M=n(5382);const P=new WeakSet,R=new WeakMap,B=new WeakMap,N=new WeakMap,L=new WeakMap,j=new WeakMap,D=new WeakMap,U=new WeakMap,z=new WeakMap,F=new WeakMap,q={construct:()=>q},V=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,W=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(V);for(;null!==i;){const t=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(o),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(V)}return[n.join(";"),r]},H=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},K=t=>{if(!(t=>{try{new new Proxy(t,q)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!==typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},$=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},G=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Z=(t,e,n,r)=>{const i=$(t,e),o=G(i,(t=>t[0]===n&&t[1]===r));return 0===i.size&&t.delete(e),o},Y=t=>$(D,t),J=t=>{if(P.has(t))throw new Error("The AudioNode is already stored.");P.add(t),Y(t).forEach((t=>t(!0)))},X=t=>"port"in t,Q=t=>{if(!P.has(t))throw new Error("The AudioNode is not stored.");P.delete(t),Y(t).forEach((t=>t(!1)))},tt=(t,e)=>{!X(t)&&e.every((t=>0===t.size))&&Q(t)},et={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},nt=(t,e)=>t.context===e,rt=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},it=()=>new DOMException("","IndexSizeError"),ot=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(r){if(12===r.code)throw it();throw r}})},st={numberOfChannels:1},at=-34028234663852886e22,ct=-at,ut=t=>P.has(t),lt={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ht=t=>$(R,t),dt=t=>$(N,t),ft=(t,e)=>{const{activeInputs:n}=ht(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||ft(n,[...e,t])}))));const r=(t=>"playbackRate"in t)(t)?[t.playbackRate]:X(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const i of r){const t=dt(i);void 0!==t&&t.activeInputs.forEach((([t])=>ft(t,e)))}ut(t)&&Q(t)},pt=t=>{ft(t.destination,[])},mt=t=>void 0===t||"number"===typeof t||"string"===typeof t&&("balanced"===t||"interactive"===t||"playback"===t),gt=t=>"context"in t,yt=t=>gt(t[0]),vt=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},wt=(t,e,[n,r],i)=>{vt(t,[e,n,r],(t=>t[0]===e&&t[1]===n),i)},bt=(t,[e,n,r],i)=>{const o=t.get(e);void 0===o?t.set(e,new Set([[n,r]])):vt(o,[n,r],(t=>t[0]===n),i)},_t=t=>"inputs"in t,kt=(t,e,n,r)=>{if(_t(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},xt=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},St=(t,e)=>{if(!Y(t).delete(e))throw new Error("Missing the expected event listener.")},Et=(t,e,n)=>{const r=$(t,e),i=G(r,(t=>t[0]===n));return 0===r.size&&t.delete(e),i},At=(t,e,n,r)=>{_t(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Tt=t=>$(B,t),It=t=>$(L,t),Ot=t=>U.has(t),Ct=t=>!P.has(t),Mt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const s=t.createBufferSource();s.buffer=i,s.loop=!0,s.connect(e).connect(t.destination),s.connect(r),s.disconnect(r),e.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?n(!0):n(!1),s.stop(),e.onaudioprocess=null,s.disconnect(e),e.disconnect(t.destination)},s.start()}})),Pt=(t,e)=>{const n=new Map;for(const r of t)for(const t of r){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},Rt=t=>"context"in t,Bt=t=>{const e=new Map;t.connect=(t=>(n,r=0,i=0)=>{const o=Rt(n)?t(n,r,i):t(n,r),s=e.get(n);return void 0===s?e.set(n,[{input:i,output:r}]):s.every((t=>t.input!==i||t.output!==r))&&s.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,i,o)=>{if(n.apply(t),void 0===r)e.clear();else if("number"===typeof r)for(const[t,n]of e){const i=n.filter((t=>t.output!==r));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(r))if(void 0===i)e.delete(r);else{const t=e.get(r);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==o||void 0===o)));0===n.length?e.delete(r):e.set(r,n)}}for(const[n,s]of e)s.forEach((e=>{Rt(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},Nt=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:o}=dt(e),{outputs:s}=ht(t),a=Y(t),c=s=>{const a=Tt(t),c=It(e);if(s){const e=Et(o,t,n);wt(i,t,e,!1),r||Ot(t)||a.connect(c,n)}else{const e=((t,e,n)=>G(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);bt(o,e,!1),r||Ot(t)||a.disconnect(c,n)}};return!!vt(s,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(c),ut(t)?wt(i,t,[n,c],!0):bt(o,[t,n,c],!0),!0)},Lt=(t,e,n,r,i)=>{const[o,s]=((t,e,n,r)=>{const{activeInputs:i,passiveInputs:o}=ht(e),s=xt(i[r],t,n);if(null===s)return[Z(o,t,n,r)[2],!1];return[s[2],!0]})(t,n,r,i);if(null!==o&&(St(t,o),!s||e||Ot(t)||At(Tt(t),Tt(n),r,i)),ut(n)){const{activeInputs:t}=ht(n);tt(n,t)}},jt=(t,e,n,r)=>{const[i,o]=((t,e,n)=>{const{activeInputs:r,passiveInputs:i}=dt(e),o=xt(r,t,n);if(null===o)return[Et(i,t,n)[1],!1];return[o[2],!0]})(t,n,r);null!==i&&(St(t,i),!o||e||Ot(t)||Tt(t).disconnect(It(n),r))};class Dt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,r)=>t.call(e,n,r,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ut={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function zt(t,e,n,r,i){if("function"===typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const o=t.getChannelData(r);if(0===e[n].byteLength)e[n]=o.slice(i,i+128);else{const t=new Float32Array(o.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Ft=(t,e,n,r,i)=>{"function"===typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,i):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],i)},qt=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const t=[],i="number"===typeof e?e:e[r];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Vt=async(t,e,n,r,i,o,s)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,c=r.channelCount*r.numberOfInputs,u=i.reduce(((t,e)=>t+e),0),l=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const h=ht(t),d=await((t,e)=>{const n=$(F,t),r=Tt(e);return $(n,r)})(n,t),f=qt(r.numberOfInputs,r.channelCount),p=qt(r.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let y=0;y<a;y+=128){if(r.numberOfInputs>0&&null!==e)for(let t=0;t<r.numberOfInputs;t+=1)for(let n=0;n<r.channelCount;n+=1)zt(e,f[t],n,n,y);void 0!==o.parameterDescriptors&&null!==e&&o.parameterDescriptors.forEach((({name:t},n)=>{zt(e,m,t,c+n,y)}));for(let t=0;t<r.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===p[t][e].byteLength&&(p[t][e]=new Float32Array(128));try{const t=f.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=s(y/n.sampleRate,n.sampleRate,(()=>d.process(t,p,m)));if(null!==l)for(let n=0,o=0;n<r.numberOfOutputs;n+=1){for(let t=0;t<i[n];t+=1)Ft(l,p[n],t,o+t,y);o+=i[n]}if(!e)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return l},Wt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ht={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Kt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},$t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Gt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Zt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((r=>{const i=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}}))},Yt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Jt=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},Xt={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Qt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},te=()=>new DOMException("","InvalidStateError"),ee=()=>new DOMException("","InvalidAccessError"),ne={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},re=(t,e,n,r,i,o,s,a,c,u,l)=>{const h=u.length;let d=a;for(let f=0;f<h;f+=1){let a=n[0]*u[f];for(let e=1;e<i;e+=1){const r=d-e&c-1;a+=n[e]*o[r],a-=t[e]*s[r]}for(let t=i;t<r;t+=1)a+=n[t]*o[d-t&c-1];for(let n=i;n<e;n+=1)a-=t[n]*s[d-n&c-1];o[d]=u[f],s[d]=a,d=d+1&c-1,l[f]=a}return d},ie={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},oe=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},se={numberOfChannels:1},ae=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},ce=(t,e)=>{ae(t,e,"channelCount"),ae(t,e,"channelCountMode"),ae(t,e,"channelInterpretation")},ue=t=>"function"===typeof t.getFloatTimeDomainData,le=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},he=t=>{t.start=(e=>(n=0,r=0,i)=>{if("number"===typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},de=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},fe=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),pe=async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:t})=>{r.close(),i.close(),e(t)},r.onmessageerror=({data:t})=>{r.close(),i.close(),n(t)},i.postMessage(t)})))(e);return new t(n)},me=(t,e)=>{const n=t.createBiquadFilter();return ce(n,e),le(n,e,"Q"),le(n,e,"detune"),le(n,e,"frequency"),le(n,e,"gain"),ae(n,e,"type"),n},ge=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return ce(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw te()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw te()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw te()}})})(n),n},ye=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),ve=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return ce(n,e),le(n,e,"delayTime"),n},we=(t,e)=>{const n=t.createGain();return ce(n,e),le(n,e,"gain"),n};function be(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function _e(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function ke(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=_e(n,e),n[0]+=t[r];return n}const xe=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Se=()=>new DOMException("","NotSupportedError"),Ee={numberOfChannels:1},Ae={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Te={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Ie={disableNormalization:!1},Oe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ce=()=>new DOMException("","UnknownError"),Me={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Pe=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Re=t=>{if(null===t)return!1;const e=t.length;return e%2!==0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},Be=(t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:o,set:s}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(o),set:r(s)})},Ne=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;Ne(t,e,n+1e-7)}},Le=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},je=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},De=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Ue=(t,e)=>{const n=e.createGain();t.connect(n);const r=(e=>()=>{e.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),ye(t,n),t.stop=(e=>{let r=!1;return(i=0)=>{if(r)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),r=!0}})(t.stop)},ze=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},Fe=(t=>(e,n,[r,i,o],s)=>{t(e[i],[n,r,o],(t=>t[0]===n&&t[1]===r),s)})(vt),qe=(t=>(e,n,[r,i,o],s)=>{const a=e.get(r);void 0===a?e.set(r,new Set([[i,n,o]])):t(a,[i,n,o],(t=>t[0]===i&&t[1]===n),s)})(vt),Ve=(t=>(e,n,r,i)=>t(e[i],(t=>t[0]===n&&t[1]===r)))(G),We=new WeakMap,He=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(We),Ke=($e=new Map,Ge=new WeakMap,(t,e)=>{const n=Ge.get(t);if(void 0!==n)return n;const r=$e.get(t);if(void 0!==r)return r;try{const n=e();return n instanceof Promise?($e.set(t,n),n.catch((()=>!1)).then((e=>($e.delete(t),Ge.set(t,e),e)))):(Ge.set(t,n),n)}catch{return Ge.set(t,!1),!1}});var $e,Ge;const Ze="undefined"===typeof window?null:window,Ye=((t,e)=>(n,r)=>{const i=n.createAnalyser();if(ce(i,r),!(r.maxDecibels>r.minDecibels))throw e();return ae(i,r,"fftSize"),ae(i,r,"maxDecibels"),ae(i,r,"minDecibels"),ae(i,r,"smoothingTimeConstant"),t(ue,(()=>ue(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let t=0;t<r;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(Ke,it),Je=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(ht),Xe=((t,e,n)=>async(r,i,o)=>{const s=t(r);await Promise.all(s.activeInputs.map(((t,s)=>Array.from(t).map((async([t,a])=>{const c=e(t),u=await c.render(t,i),l=r.context.destination;n(t)||r===l&&n(r)||u.connect(o,a,s)})))).reduce(((t,e)=>[...t,...e]),[]))})(ht,Je,Ot),Qe=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):(async(i,o)=>{let s=e(i);if(!nt(s,o)){const e={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=t(o,e)}return r.set(o,s),await n(i,o,s),s})(i,o)}}})(Ye,Tt,Xe),tn=(en=j,t=>{const e=en.get(t);if(void 0===e)throw te();return e});var en;const nn=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(Ze),rn=(t=>e=>null!==t&&e instanceof t)(nn),on=new WeakMap,sn=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"===typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const r=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,n)}})(ze),an=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(Ze),cn=(t=>e=>null!==t&&e instanceof t)(an),un=(t=>e=>null!==t&&"function"===typeof t.AudioNode&&e instanceof t.AudioNode)(Ze),ln=(t=>e=>null!==t&&"function"===typeof t.AudioParam&&e instanceof t.AudioParam)(Ze),hn=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(Ze),dn=((t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,m)=>class extends u{constructor(e,r,i,o){super(i),this._context=e,this._nativeAudioNode=i;const s=l(e);h(s)&&!0!==n(Mt,(()=>Mt(s,m)))&&Bt(i),B.set(this,i),D.set(this,new Set),"closed"!==e.state&&r&&J(this),t(this,o,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const u=l(this._context),h=p(u);if(d(t)||f(t))throw o();if(gt(t)){const i=Tt(t);try{const e=kt(this._nativeAudioNode,i,n,a),r=Ct(this);(h||r)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!r&&Ct(t)&&J(t)}catch(g){if(12===g.code)throw o();throw g}if(e(this,t,n,a,h)){const e=c([this],t);Pt(e,r(h))}return t}const m=It(t);if("playbackRate"===m.name&&1024===m.maxValue)throw s();try{this._nativeAudioNode.connect(m,n),(h||Ct(this))&&this._nativeAudioNode.disconnect(m,n)}catch(g){if(12===g.code)throw o();throw g}if(Nt(this,t,n,h)){const e=c([this],t);Pt(e,r(h))}}disconnect(t,e,n){let r;const s=l(this._context),u=p(s);if(void 0===t)r=((t,e)=>{const n=ht(t),r=[];for(const i of n.outputs)yt(i)?Lt(t,e,...i):jt(t,e,...i),r.push(i[0]);return n.outputs.clear(),r})(this,u);else if("number"===typeof t){if(t<0||t>=this.numberOfOutputs)throw i();r=((t,e,n)=>{const r=ht(t),i=[];for(const o of r.outputs)o[1]===n&&(yt(o)?Lt(t,e,...o):jt(t,e,...o),i.push(o[0]),r.outputs.delete(o));return i})(this,u,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(gt(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(r=((t,e,n,r,i)=>{const o=ht(t);return Array.from(o.outputs).filter((t=>t[0]===n&&(void 0===r||t[1]===r)&&(void 0===i||t[2]===i))).map((n=>(yt(n)?Lt(t,e,...n):jt(t,e,...n),o.outputs.delete(n),n[0])))})(this,u,t,e,n),0===r.length)throw o()}for(const i of r){const t=c([this],i);Pt(t,a)}}})((fn=R,(t,e,n)=>{const r=[];for(let i=0;i<n.numberOfInputs;i+=1)r.push(new Set);fn.set(t,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,r,i,o,s,a,c,u,l,h,d)=>{const f=new WeakMap;return(p,m,g,y,v)=>{const{activeInputs:w,passiveInputs:b}=o(m),{outputs:_}=o(p),k=a(p),x=o=>{const a=c(m),u=c(p);if(o){const e=Z(b,p,g,y);t(w,p,e,!1),v||h(p)||n(u,a,g,y),d(m)&&J(m)}else{const t=r(w,p,g,y);e(b,y,t,!1),v||h(p)||i(u,a,g,y);const n=s(m);if(0===n)l(m)&&tt(m,w);else{const t=f.get(m);void 0!==t&&clearTimeout(t),f.set(m,setTimeout((()=>{l(m)&&tt(m,w)}),1e3*n))}}};return!!u(_,[m,g,y],(t=>t[0]===m&&t[1]===g&&t[2]===y),!0)&&(k.add(x),l(p)?t(w,p,[g,y,x],!0):e(b,y,[p,g,x],!0),!0)}})(Fe,qe,kt,Ve,At,ht,He,Y,Tt,vt,ut,Ot,Ct),Ke,((t,e,n,r,i,o)=>s=>(a,c)=>{const u=t.get(a);if(void 0===u){if(!s&&o(a)){const t=r(a),{outputs:o}=n(a);for(const n of o)if(yt(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,c)}else t.set(a,u+c)})(U,At,ht,Tt,It,ut),it,ee,Se,((t,e,n,r,i,o,s,a)=>(c,u)=>{const l=e.get(c);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=o(c.context),d=a(h);if(l===u){if(e.delete(c),!d&&s(c)){const e=r(c),{outputs:o}=n(c);for(const n of o)if(yt(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(c,l-u)})(kt,U,ht,Tt,It,tn,ut,rn),((t,e,n)=>function r(i,o){const s=gt(o)?o:n(t,o);if((t=>"delayTime"in t)(s))return[];if(i[0]===s)return[i];if(i.includes(s))return[];const{outputs:a}=e(s);return Array.from(a).map((t=>r([...i,s],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(on,ht,$),sn,tn,cn,un,ln,rn,hn);var fn;const pn=((t,e,n,r,i,o)=>class extends t{constructor(t,n){const s=i(t),a={...et,...n},c=r(s,a);super(t,!1,c,o(s)?e():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(dn,Qe,it,Ye,tn,rn),mn=new WeakSet,gn=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(Ze),yn=(vn=new Uint32Array(1),t=>(vn[0]=t,vn[0]));var vn;const wn=((t,e)=>n=>{n.copyFromChannel=(r,i,o=0)=>{const s=t(o),a=t(i);if(a>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(a),l=r.length;for(let t=s<0?-s:0;t+s<c&&t<l;t+=1)r[t]=u[t+s]},n.copyToChannel=(r,i,o=0)=>{const s=t(o),a=t(i);if(a>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(a),l=r.length;for(let t=s<0?-s:0;t+s<c&&t<l;t+=1)u[t+s]=r[t]}})(yn,it),bn=(t=>e=>{e.copyFromChannel=(n=>(r,i,o=0)=>{const s=t(o),a=t(i);if(s<e.length)return n.call(e,r,a,s)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,o=0)=>{const s=t(o),a=t(i);if(s<e.length)return n.call(e,r,a,s)})(e.copyToChannel)})(yn),_n=((t,e,n,r,i,o,s,a)=>{let c=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:d}={...st,...u};null===c&&(c=new i(1,1,44100));const f=null!==r&&e(o,o)?new r({length:l,numberOfChannels:h,sampleRate:d}):c.createBuffer(h,l,d);if(0===f.numberOfChannels)throw n();return"function"!==typeof f.copyFromChannel?(s(f),ot(f)):e(rt,(()=>rt(f)))||a(f),t.add(f),f}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}})(mn,Ke,Se,gn,nn,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(gn),wn,bn),kn=(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)})(we),xn=((t,e,n)=>async(r,i,o)=>{const s=e(r);await Promise.all(Array.from(s.activeInputs).map((async([e,r])=>{const s=t(e),a=await s.render(e,i);n(e)||a.connect(o,r)})))})(Je,dt,Ot),Sn=(t=>(e,n,r)=>t(n,e,r))(xn),En=((t,e,n,r,i,o,s,a,c,u,l)=>(h,d)=>{const f=h.createBufferSource();return ce(f,d),le(f,d,"playbackRate"),ae(f,d,"buffer"),ae(f,d,"loop"),ae(f,d,"loopEnd"),ae(f,d,"loopStart"),e(n,(()=>n(h)))||(t=>{t.start=(e=>{let n=!1;return(r=0,i=0,o)=>{if(n)throw te();e.call(t,r,i,o),n=!0}})(t.start)})(f),e(r,(()=>r(h)))||c(f),e(i,(()=>i(h)))||u(f,h),e(o,(()=>o(h)))||he(f),e(s,(()=>s(h)))||l(f,h),e(a,(()=>a(h)))||de(f),t(h,f),f})(kn,Ke,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),Le,je,De,(t=>{t.start=(e=>(n=0,r=0,i)=>{const o=t.buffer,s=null===o?r:Math.min(o.duration,r);null!==o&&s>o.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,s,i)})(t.start)}),(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===r?null:n}),(t=>n=>t.call(e,null===n?r:n)))})(Be),Ue),An=((t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(dt),xn),Tn=((t,e,n,r,i)=>()=>{const o=new WeakMap;let s=null,a=null;return{set start(t){s=t},set stop(t){a=t},render(c,u){const l=o.get(u);return void 0!==l?Promise.resolve(l):(async(c,u)=>{let l=n(c);const h=nt(l,u);if(!h){const t={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=e(u,t),null!==s&&l.start(...s),null!==a&&l.stop(a)}return o.set(u,l),h?await t(u,c.playbackRate,l.playbackRate):await r(u,c.playbackRate,l.playbackRate),await i(c,u,l),l})(c,u)}}})(Sn,En,Tt,An,Xe),In=((t,e,n,r,i,o,s,a,c,u,l,h,d)=>(f,p,m,g=null,y=null)=>{const v=m.value,w=new M.AutomationEventList(v),b=p?r(w):null,_={get defaultValue(){return v},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===y?m.minValue:y},get value(){return m.value},set value(t){m.value=t,_.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if("function"===typeof m.cancelAndHoldAtTime)null===b&&w.flush(f.context.currentTime),w.add(i(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(w).pop();null===b&&w.flush(f.context.currentTime),w.add(i(t));const n=Array.from(w).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return _},cancelScheduledValues:t=>(null===b&&w.flush(f.context.currentTime),w.add(o(t)),m.cancelScheduledValues(t),_),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=f.context.currentTime;return null===b&&w.flush(n),0===Array.from(w).length&&(w.add(u(v,n)),m.setValueAtTime(v,n)),w.add(s(t,e)),m.exponentialRampToValueAtTime(t,e),_},linearRampToValueAtTime(t,e){const n=f.context.currentTime;return null===b&&w.flush(n),0===Array.from(w).length&&(w.add(u(v,n)),m.setValueAtTime(v,n)),w.add(a(t,e)),m.linearRampToValueAtTime(t,e),_},setTargetAtTime:(t,e,n)=>(null===b&&w.flush(f.context.currentTime),w.add(c(t,e,n)),m.setTargetAtTime(t,e,n),_),setValueAtTime:(t,e)=>(null===b&&w.flush(f.context.currentTime),w.add(u(t,e)),m.setValueAtTime(t,e),_),setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,i=f.context.sampleRate,o=Math.ceil(e*i),s=Math.floor(t*i),a=s-o,c=new Float32Array(a);for(let l=0;l<a;l+=1){const t=(r.length-1)/n*((o+l)/i-e),s=Math.floor(t),a=Math.ceil(t);c[l]=s===a?r[s]:(1-(t-s))*r[s]+(1-(a-t))*r[a]}null===b&&w.flush(f.context.currentTime),w.add(l(c,e,n)),m.setValueCurveAtTime(c,e,n);const u=s/i;u<t&&d(_,c[c.length-1],u),d(_,r[r.length-1],t)}else null===b&&w.flush(f.context.currentTime),w.add(l(r,e,n)),m.setValueCurveAtTime(r,e,n);return _}};return n.set(_,m),e.set(_,f),t(_,b),_})((On=N,(t,e)=>{On.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),on,L,(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:r}=n;e.exponentialRampToValueAtTime(r,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:r}=n;e.linearRampToValueAtTime(r,t)}else if("setTarget"===n.type){const{startTime:t,target:r,timeConstant:i}=n;e.setTargetAtTime(r,t,i)}else if("setValue"===n.type){const{startTime:t,value:r}=n;e.setValueAtTime(r,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,t)}}}})),M.createCancelAndHoldAutomationEvent,M.createCancelScheduledValuesAutomationEvent,M.createExponentialRampToValueAutomationEvent,M.createLinearRampToValueAutomationEvent,M.createSetTargetAutomationEvent,M.createSetValueAutomationEvent,M.createSetValueCurveAutomationEvent,an,Ne);var On;const Cn=((t,e,n,r,i,o,s,a)=>class extends t{constructor(t,r){const a=o(t),c={...lt,...r},u=i(a,c),l=s(a),h=l?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,l,u.playbackRate,ct,at)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){J(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),ut(this)&&Q(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(dn,Tn,In,te,En,tn,rn,ze),Mn=((t,e,n,r,i,o,s,a)=>class extends t{constructor(t,n){const r=o(t),c=s(r),u=i(r,n,c);super(t,!1,u,c?e(a):null),this._isNodeOfNativeOfflineAudioContext=c,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(dn,(t=>{const e=new WeakMap;return{render(n,r){const i=e.get(r);return void 0!==i?Promise.resolve(i):(async(n,r)=>{const i=r.destination;return e.set(r,i),await t(n,r,i),i})(n,r)}}}),it,te,((t,e)=>(n,r,i)=>{const o=n.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}i&&"explicit"!==o.channelCountMode&&(o.channelCountMode="explicit"),0===o.maxChannelCount&&Object.defineProperty(o,"maxChannelCount",{value:r});const s=t(n,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(s,"channelCount",(t=>()=>t.call(s)),(t=>e=>{t.call(s,e);try{o.channelCount=e}catch(n){if(e>o.maxChannelCount)throw n}})),e(s,"channelCountMode",(t=>()=>t.call(s)),(t=>e=>{t.call(s,e),o.channelCountMode=e})),e(s,"channelInterpretation",(t=>()=>t.call(s)),(t=>e=>{t.call(s,e),o.channelInterpretation=e})),Object.defineProperty(s,"maxChannelCount",{get:()=>o.maxChannelCount}),s.connect(o),s})(we,Be),tn,rn,Xe),Pn=((t,e,n,r,i)=>()=>{const o=new WeakMap;return{render(s,a){const c=o.get(a);return void 0!==c?Promise.resolve(c):(async(s,a)=>{let c=n(s);const u=nt(c,a);if(!u){const t={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(a,t)}return o.set(a,c),u?(await t(a,s.Q,c.Q),await t(a,s.detune,c.detune),await t(a,s.frequency,c.frequency),await t(a,s.gain,c.gain)):(await r(a,s.Q,c.Q),await r(a,s.detune,c.detune),await r(a,s.frequency,c.frequency),await r(a,s.gain,c.gain)),await i(s,a,c),c})(s,a)}}})(Sn,me,Tt,An,Xe),Rn=(t=>(e,n)=>t.set(e,n))(We),Bn=((t,e,n,r,i,o,s,a)=>class extends t{constructor(t,r){const c=o(t),u={...Wt,...r},l=i(c,u),h=s(c);super(t,!1,l,h?n():null),this._Q=e(this,h,l.Q,ct,at),this._detune=e(this,h,l.detune,1200*Math.log2(ct),-1200*Math.log2(ct)),this._frequency=e(this,h,l.frequency,t.sampleRate/2,0),this._gain=e(this,h,l.gain,40*Math.log10(ct),at),this._nativeBiquadFilterNode=l,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(i){if(11===i.code)throw r();throw i}if(t.length!==e.length||e.length!==n.length)throw r()}})(dn,In,Pn,ee,me,tn,rn,Rn),Nn=((t,e)=>(n,r,i)=>{const o=new Set;return n.connect=(i=>(s,a=0,c=0)=>{const u=0===o.size;if(e(s))return i.call(n,s,a,c),t(o,[s,a,c],(t=>t[0]===s&&t[1]===a&&t[2]===c),!0),u&&r(),s;i.call(n,s,a),t(o,[s,a],(t=>t[0]===s&&t[1]===a),!0),u&&r()})(n.connect),n.disconnect=(t=>(r,s,a)=>{const c=o.size>0;if(void 0===r)t.apply(n),o.clear();else if("number"===typeof r){t.call(n,r);for(const t of o)t[1]===r&&o.delete(t)}else{e(r)?t.call(n,r,s,a):t.call(n,r,s);for(const t of o)t[0]!==r||void 0!==s&&t[1]!==s||void 0!==a&&t[2]!==a||o.delete(t)}const u=0===o.size;c&&u&&i()})(n.disconnect),n})(vt,un),Ln=((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,(()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(r,0,e)}),(()=>i.disconnect(r)))})(te,Nn),jn=((t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),ce(i,r),i})(an,Ln),Dn=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):(async(i,o)=>{let s=e(i);if(!nt(s,o)){const e={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=t(o,e)}return r.set(o,s),await n(i,o,s),s})(i,o)}}})(jn,Tt,Xe),Un=((t,e,n,r,i)=>class extends t{constructor(t,o){const s=r(t),a={...Ht,...o};super(t,!1,n(s,a),i(s)?e():null)}})(dn,Dn,jn,tn,rn),zn=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):(async(i,o)=>{let s=e(i);if(!nt(s,o)){const e={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=t(o,e)}return r.set(o,s),await n(i,o,s),s})(i,o)}}})(ge,Tt,Xe),Fn=((t,e,n,r,i,o)=>class extends t{constructor(t,s){const a=r(t),c=o({...Kt,...s});super(t,!1,n(a,c),i(a)?e():null)}})(dn,zn,ge,tn,rn,(t=>({...t,channelCount:t.numberOfOutputs}))),qn=((t,e,n,r)=>(i,{offset:o,...s})=>{const a=i.createBuffer(1,2,44100),c=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...s,gain:o}),l=a.getChannelData(0);l[0]=1,l[1]=1,c.buffer=a,c.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(t){c.onended=t},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2]),start(t=0){c.start.call(c,t)},stop(t=0){c.stop.call(c,t)}};return t(i,c),r(ye(h,u),(()=>c.connect(u)),(()=>c.disconnect(u)))})(kn,En,we,Nn),Vn=((t,e,n,r,i)=>(o,s)=>{if(void 0===o.createConstantSource)return n(o,s);const a=o.createConstantSource();return ce(a,s),le(a,s,"offset"),e(r,(()=>r(o)))||he(a),e(i,(()=>i(o)))||de(a),t(o,a),a})(kn,Ke,qn,Le,De),Wn=((t,e,n,r,i)=>()=>{const o=new WeakMap;let s=null,a=null;return{set start(t){s=t},set stop(t){a=t},render(c,u){const l=o.get(u);return void 0!==l?Promise.resolve(l):(async(c,u)=>{let l=n(c);const h=nt(l,u);if(!h){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=e(u,t),null!==s&&l.start(s),null!==a&&l.stop(a)}return o.set(u,l),h?await t(u,c.offset,l.offset):await r(u,c.offset,l.offset),await i(c,u,l),l})(c,u)}}})(Sn,Vn,Tt,An,Xe),Hn=((t,e,n,r,i,o,s)=>class extends t{constructor(t,s){const a=i(t),c={...$t,...s},u=r(a,c),l=o(a),h=l?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,l,u.offset,ct,at),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"===typeof t?s(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){J(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),ut(this)&&Q(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(dn,In,Wn,Vn,tn,rn,ze),Kn=((t,e)=>(n,r)=>{const i=n.createConvolver();if(ce(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),ae(i,r,"buffer"),r.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===r.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(Se,Be),$n=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):(async(i,o)=>{let s=e(i);if(!nt(s,o)){const e={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=t(o,e)}return r.set(o,s),_t(s)?await n(i,o,s.inputs[0]):await n(i,o,s),s})(i,o)}}})(Kn,Tt,Xe),Gn=((t,e,n,r,i,o)=>class extends t{constructor(t,s){const a=r(t),c={...Gt,...s},u=n(a,c);super(t,!1,u,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==c.buffer&&o(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(dn,$n,Kn,tn,rn,Rn),Zn=((t,e,n,r,i)=>o=>{const s=new WeakMap;return{render(a,c){const u=s.get(c);return void 0!==u?Promise.resolve(u):(async(a,c)=>{let u=n(a);const l=nt(u,c);if(!l){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:o};u=e(c,t)}return s.set(c,u),l?await t(c,a.delayTime,u.delayTime):await r(c,a.delayTime,u.delayTime),await i(a,c,u),u})(a,c)}}})(Sn,ve,Tt,An,Xe),Yn=((t,e,n,r,i,o,s)=>class extends t{constructor(t,a){const c=i(t),u={...Yt,...a},l=r(c,u),h=o(c);super(t,!1,l,h?n(u.maxDelayTime):null),this._delayTime=e(this,h,l.delayTime),s(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(dn,In,Zn,ve,tn,rn,Rn),Jn=(t=>(e,n)=>{const r=e.createDynamicsCompressor();if(ce(r,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return le(r,n,"attack"),le(r,n,"knee"),le(r,n,"ratio"),le(r,n,"release"),le(r,n,"threshold"),r})(Se),Xn=((t,e,n,r,i)=>()=>{const o=new WeakMap;return{render(s,a){const c=o.get(a);return void 0!==c?Promise.resolve(c):(async(s,a)=>{let c=n(s);const u=nt(c,a);if(!u){const t={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(a,t)}return o.set(a,c),u?(await t(a,s.attack,c.attack),await t(a,s.knee,c.knee),await t(a,s.ratio,c.ratio),await t(a,s.release,c.release),await t(a,s.threshold,c.threshold)):(await r(a,s.attack,c.attack),await r(a,s.knee,c.knee),await r(a,s.ratio,c.ratio),await r(a,s.release,c.release),await r(a,s.threshold,c.threshold)),await i(s,a,c),c})(s,a)}}})(Sn,Jn,Tt,An,Xe),Qn=((t,e,n,r,i,o,s,a)=>class extends t{constructor(t,i){const c=o(t),u={...Xt,...i},l=r(c,u),h=s(c);super(t,!1,l,h?n():null),this._attack=e(this,h,l.attack),this._knee=e(this,h,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=e(this,h,l.ratio),this._release=e(this,h,l.release),this._threshold=e(this,h,l.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(dn,In,Xn,Jn,Se,tn,rn,Rn),tr=((t,e,n,r,i)=>()=>{const o=new WeakMap;return{render(s,a){const c=o.get(a);return void 0!==c?Promise.resolve(c):(async(s,a)=>{let c=n(s);const u=nt(c,a);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(a,t)}return o.set(a,c),u?await t(a,s.gain,c.gain):await r(a,s.gain,c.gain),await i(s,a,c),c})(s,a)}}})(Sn,we,Tt,An,Xe),er=((t,e,n,r,i,o)=>class extends t{constructor(t,s){const a=i(t),c={...Qt,...s},u=r(a,c),l=o(a);super(t,!1,u,l?n():null),this._gain=e(this,l,u.gain,ct,at)}get gain(){return this._gain}})(dn,In,tr,we,tn,rn),nr=((t,e,n,r)=>(i,o,{channelCount:s,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{const h=fe(o,i.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),p=d.length,m=f.length,g=Math.min(p,m);if(0===p||p>20)throw r();if(0===d[0])throw e();if(0===m||m>20)throw r();if(0===f[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)f[t]/=d[0];for(let t=1;t<p;t+=1)d[t]/=d[0]}const y=n(i,h,s,s);y.channelCount=s,y.channelCountMode=a,y.channelInterpretation=c;const v=[],w=[],b=[];for(let t=0;t<s;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),w.push(t),b.push(e)}y.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,r=e.numberOfChannels;for(let i=0;i<r;i+=1){const t=e.getChannelData(i),r=n.getChannelData(i);v[i]=re(d,p,f,m,g,w[i],b[i],v[i],32,t,r)}};const _=i.sampleRate/2;return ye({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(t){y.channelCount=t},get channelCountMode(){return y.channelCountMode},set channelCountMode(t){y.channelCountMode=t},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(t){y.channelInterpretation=t},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener:(...t)=>y.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>y.dispatchEvent(t[0]),getFrequencyResponse(e,n,r){if(e.length!==n.length||n.length!==r.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/_),o=[Math.cos(i),Math.sin(i)],s=be(ke(f,o),ke(d,o));n[t]=Math.sqrt(s[0]*s[0]+s[1]*s[1]),r[t]=Math.atan2(s[1],s[0])}},removeEventListener:(...t)=>y.removeEventListener(t[0],t[1],t[2])},y)})(ee,te,xe,Se),rr=((t,e,n,r)=>i=>t(oe,(()=>oe(i)))?Promise.resolve(t(r,r)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Ke,we,xe,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{r.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(we,nn)),ir=((t,e,n,r,i)=>(o,s)=>{const a=new WeakMap;let c=null;const u=async(u,l)=>{let h=null,d=e(u);const f=nt(d,l);if(void 0===l.createIIRFilter?h=t(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(d=l.createIIRFilter(s,o)),a.set(l,null===h?d:h),null!==h){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(u.context.destination.channelCount,u.context.length,l.sampleRate);c=(async()=>{await r(u,t,t.destination);return((t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),o=r instanceof Float64Array?r:new Float64Array(r),s=i.length,a=o.length,c=Math.min(s,a);if(1!==i[0]){for(let t=0;t<s;t+=1)o[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const u=new Float32Array(32),l=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let f=0;f<d;f+=1){const e=t.getChannelData(f),n=h.getChannelData(f);u.fill(0),l.fill(0),re(i,s,o,a,c,u,l,0,32,e,n)}return h})(await i(t),l,o,s)})()}const t=await c;return h.buffer=t,h.start(0),h}return await r(u,l,d),d};return{render(t,e){const n=a.get(e);return void 0!==n?Promise.resolve(n):u(t,e)}}})(En,Tt,nn,Xe,rr),or=(t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return ce(i,r),i})(nr),sr=((t,e,n,r,i,o)=>class extends t{constructor(t,s){const a=r(t),c=i(a),u={...ne,...s},l=e(a,c?null:t.baseLatency,u);super(t,!1,l,c?n(u.feedback,u.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw ee();return e.call(t,n,r,i)})})(l),this._nativeIIRFilterNode=l,o(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(dn,or,ir,tn,rn,Rn),ar=((t,e,n,r,i,o,s,a)=>(c,u)=>{const l=u.listener,{forwardX:h,forwardY:d,forwardZ:f,positionX:p,positionY:m,positionZ:g,upX:y,upY:v,upZ:w}=void 0===l.forwardX?(()=>{const h=new Float32Array(1),d=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),f=s(u);let p=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const y=()=>{if(p)return;p=!0;const t=r(u,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[o(t,h,0),o(t,h,1),o(t,h,2),o(t,h,3),o(t,h,4),o(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(l.setOrientation(...e),m=e);const n=[o(t,h,6),o(t,h,7),o(t,h,8)];n.some(((t,e)=>t!==g[e]))&&(l.setPosition(...n),g=n)},d.connect(t)},v=t=>e=>{e!==m[t]&&(m[t]=e,l.setOrientation(...m))},w=t=>e=>{e!==g[t]&&(g[t]=e,l.setPosition(...g))},b=(e,r,o)=>{const s=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});s.connect(d,0,e),s.start(),Object.defineProperty(s.offset,"defaultValue",{get:()=>r});const l=t({context:c},f,s.offset,ct,at);var h,p,m,g,v,w,b;return a(l,"value",(t=>()=>t.call(l)),(t=>e=>{try{t.call(l,e)}catch(n){if(9!==n.code)throw n}y(),f&&o(e)})),l.cancelAndHoldAtTime=(h=l.cancelAndHoldAtTime,f?()=>{throw i()}:(...t)=>{const e=h.apply(l,t);return y(),e}),l.cancelScheduledValues=(p=l.cancelScheduledValues,f?()=>{throw i()}:(...t)=>{const e=p.apply(l,t);return y(),e}),l.exponentialRampToValueAtTime=(m=l.exponentialRampToValueAtTime,f?()=>{throw i()}:(...t)=>{const e=m.apply(l,t);return y(),e}),l.linearRampToValueAtTime=(g=l.linearRampToValueAtTime,f?()=>{throw i()}:(...t)=>{const e=g.apply(l,t);return y(),e}),l.setTargetAtTime=(v=l.setTargetAtTime,f?()=>{throw i()}:(...t)=>{const e=v.apply(l,t);return y(),e}),l.setValueAtTime=(w=l.setValueAtTime,f?()=>{throw i()}:(...t)=>{const e=w.apply(l,t);return y(),e}),l.setValueCurveAtTime=(b=l.setValueCurveAtTime,f?()=>{throw i()}:(...t)=>{const e=b.apply(l,t);return y(),e}),l};return{forwardX:b(0,0,v(0)),forwardY:b(1,0,v(1)),forwardZ:b(2,-1,v(2)),positionX:b(6,0,w(0)),positionY:b(7,0,w(1)),positionZ:b(8,0,w(2)),upX:b(3,0,v(3)),upY:b(4,1,v(4)),upZ:b(5,0,v(5))}})():l;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return f},get positionX(){return p},get positionY(){return m},get positionZ(){return g},get upX(){return y},get upY(){return v},get upZ(){return w}}})(In,jn,Vn,xe,Se,Pe,rn,Be),cr=new WeakMap,ur=((t,e,n,r,i,o)=>class extends n{constructor(n,o){super(n),this._nativeContext=n,j.set(this,n),r(n)&&i.set(n,new Set),this._destination=new t(this,o),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"===typeof t?o(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Mn,ar,sn,rn,cr,ze),lr=((t,e,n,r,i,o)=>(s,a)=>{const c=s.createOscillator();return ce(c,a),le(c,a,"detune"),le(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):ae(c,a,"type"),e(n,(()=>n(s)))||he(c),e(r,(()=>r(s)))||o(c,s),e(i,(()=>i(s)))||de(c),t(s,c),c})(kn,Ke,Le,je,De,Ue),hr=((t,e,n,r,i)=>()=>{const o=new WeakMap;let s=null,a=null,c=null;return{set periodicWave(t){s=t},set start(t){a=t},set stop(t){c=t},render(u,l){const h=o.get(l);return void 0!==h?Promise.resolve(h):(async(u,l)=>{let h=n(u);const d=nt(h,l);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===s?void 0:s,type:h.type};h=e(l,t),null!==a&&h.start(a),null!==c&&h.stop(c)}return o.set(l,h),d?(await t(l,u.detune,h.detune),await t(l,u.frequency,h.frequency)):(await r(l,u.detune,h.detune),await r(l,u.frequency,h.frequency)),await i(u,l,h),h})(u,l)}}})(Sn,lr,Tt,An,Xe),dr=((t,e,n,r,i,o,s)=>class extends t{constructor(t,s){const a=i(t),c={...Ae,...s},u=n(a,c),l=o(a),h=l?r():null,d=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,l,u.detune,153600,-153600),this._frequency=e(this,l,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"===typeof t?s(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){J(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),ut(this)&&Q(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(dn,In,lr,hr,tn,rn,ze),fr=(t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(En),pr=((t,e,n,r,i)=>(o,{curve:s,oversample:a,...c})=>{const u=o.createWaveShaper(),l=o.createWaveShaper();ce(u,c),ce(l,c);const h=n(o,{...c,gain:1}),d=n(o,{...c,gain:-1}),f=n(o,{...c,gain:1}),p=n(o,{...c,gain:-1});let m=null,g=!1,y=null;const v={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,u.channelCount=t,f.channelCount=t,l.channelCount=t,p.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t,l.channelCountMode=t,p.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t,l.channelInterpretation=t,p.channelInterpretation=t},get context(){return u.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)u.curve=n,l.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),r=new Float32Array(t+2-t%2);e[0]=n[0],r[0]=-n[t-1];const i=Math.ceil((t+1)/2),o=(t+1)/2-1;for(let s=1;s<i;s+=1){const a=s/i*o,c=Math.floor(a),u=Math.ceil(a);e[s]=c===u?n[c]:(1-(a-c))*n[c]+(1-(u-a))*n[u],r[s]=c===u?-n[t-1-c]:-(1-(a-c))*n[t-1-c]-(1-(u-a))*n[t-1-u]}e[i]=t%2===1?n[i-1]:(n[i-2]+n[i-1])/2,u.curve=e,l.curve=r}y=n,g&&(r(y)&&null===m?m=t(o,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(t){u.oversample=t,l.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};null!==s&&(v.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==v.oversample&&(v.oversample=a);return i(ye(v,f),(()=>{h.connect(u).connect(f),h.connect(d).connect(l).connect(p).connect(f),g=!0,r(y)&&(m=t(o,h))}),(()=>{h.disconnect(u),u.disconnect(f),h.disconnect(d),d.disconnect(l),l.disconnect(p),p.disconnect(f),g=!1,null!==m&&(m(),m=null)}))})(fr,te,we,Re,Nn),mr=((t,e,n,r,i,o,s)=>(a,c)=>{const u=a.createWaveShaper();if(null!==o&&"webkitAudioContext"===o.name&&void 0===a.createGain().gain.automationRate)return n(a,c);ce(u,c);const l=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==l&&l.length<2)throw e();ae(u,{curve:l},"curve"),ae(u,c,"oversample");let h=null,d=!1;s(u,"curve",(t=>()=>t.call(u)),(e=>n=>(e.call(u,n),d&&(r(n)&&null===h?h=t(a,u):r(n)||null===h||(h(),h=null)),n)));return i(u,(()=>{d=!0,r(u.curve)&&(h=t(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(fr,te,pr,Re,Nn,an,Be),gr=((t,e,n,r,i,o,s,a,c,u)=>(l,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:m,orientationX:g,orientationY:y,orientationZ:v,panningModel:w,positionX:b,positionY:_,positionZ:k,refDistance:x,rolloffFactor:S,...E})=>{const A=l.createPanner();if(E.channelCount>2)throw s();if("max"===E.channelCountMode)throw s();ce(A,E);const T={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=n(l,{...T,channelInterpretation:"speakers",numberOfInputs:6}),O=r(l,{...E,gain:1}),C=r(l,{...T,gain:1}),M=r(l,{...T,gain:0}),P=r(l,{...T,gain:0}),R=r(l,{...T,gain:0}),B=r(l,{...T,gain:0}),N=r(l,{...T,gain:0}),L=i(l,256,6,1),j=o(l,{...T,curve:new Float32Array([1,1]),oversample:"none"});let D=[g,y,v],U=[b,_,k];const z=new Float32Array(1);L.onaudioprocess=({inputBuffer:t})=>{const e=[c(t,z,0),c(t,z,1),c(t,z,2)];e.some(((t,e)=>t!==D[e]))&&(A.setOrientation(...e),D=e);const n=[c(t,z,3),c(t,z,4),c(t,z,5)];n.some(((t,e)=>t!==U[e]))&&(A.setPosition(...n),U=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0});const F={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(t){if(t>2)throw s();O.channelCount=t,A.channelCount=t},get channelCountMode(){return A.channelCountMode},set channelCountMode(t){if("max"===t)throw s();O.channelCountMode=t,A.channelCountMode=t},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,A.channelInterpretation=t},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(t){A.coneInnerAngle=t},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(t){A.coneOuterAngle=t},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();A.coneOuterGain=t},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(t){A.distanceModel=t},get inputs(){return[O]},get maxDistance(){return A.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;A.maxDistance=t},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return C.gain},get orientationY(){return M.gain},get orientationZ(){return P.gain},get panningModel(){return A.panningModel},set panningModel(t){A.panningModel=t},get positionX(){return R.gain},get positionY(){return B.gain},get positionZ(){return N.gain},get refDistance(){return A.refDistance},set refDistance(t){if(t<0)throw new RangeError;A.refDistance=t},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;A.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};h!==F.coneInnerAngle&&(F.coneInnerAngle=h),d!==F.coneOuterAngle&&(F.coneOuterAngle=d),f!==F.coneOuterGain&&(F.coneOuterGain=f),p!==F.distanceModel&&(F.distanceModel=p),m!==F.maxDistance&&(F.maxDistance=m),g!==F.orientationX.value&&(F.orientationX.value=g),y!==F.orientationY.value&&(F.orientationY.value=y),v!==F.orientationZ.value&&(F.orientationZ.value=v),w!==F.panningModel&&(F.panningModel=w),b!==F.positionX.value&&(F.positionX.value=b),_!==F.positionY.value&&(F.positionY.value=_),k!==F.positionZ.value&&(F.positionZ.value=k),x!==F.refDistance&&(F.refDistance=x),S!==F.rolloffFactor&&(F.rolloffFactor=S),1===D[0]&&0===D[1]&&0===D[2]||A.setOrientation(...D),0===U[0]&&0===U[1]&&0===U[2]||A.setPosition(...U);return u(ye(F,A),(()=>{O.connect(A),t(O,j,0,0),j.connect(C).connect(I,0,0),j.connect(M).connect(I,0,1),j.connect(P).connect(I,0,2),j.connect(R).connect(I,0,3),j.connect(B).connect(I,0,4),j.connect(N).connect(I,0,5),I.connect(L).connect(l.destination)}),(()=>{O.disconnect(A),a(O,j,0,0),j.disconnect(C),C.disconnect(I),j.disconnect(M),M.disconnect(I),j.disconnect(P),P.disconnect(I),j.disconnect(R),R.disconnect(I),j.disconnect(B),B.disconnect(I),j.disconnect(N),N.disconnect(I),I.disconnect(L),L.disconnect(l.destination)}))})(kt,te,jn,we,xe,mr,Se,At,Pe,Nn),yr=(t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(ce(r,n),le(r,n,"orientationX"),le(r,n,"orientationY"),le(r,n,"orientationZ"),le(r,n,"positionX"),le(r,n,"positionY"),le(r,n,"positionZ"),ae(r,n,"coneInnerAngle"),ae(r,n,"coneOuterAngle"),ae(r,n,"coneOuterGain"),ae(r,n,"distanceModel"),ae(r,n,"maxDistance"),ae(r,n,"panningModel"),ae(r,n,"refDistance"),ae(r,n,"rolloffFactor"),r)})(gr),vr=((t,e,n,r,i,o,s,a,c,u)=>()=>{const l=new WeakMap;let h=null;return{render(d,f){const p=l.get(f);return void 0!==p?Promise.resolve(p):(async(d,f)=>{let p=null,m=o(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},y={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},v=nt(m,f);if("bufferSize"in m)p=r(f,{...g,gain:1});else if(!v){const t={...y,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(f,t)}if(l.set(f,null===p?m:p),null!==p){if(null===h){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new s(6,d.context.length,f.sampleRate),r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,r)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await a(t,e,i.offset),i})));for(let t=0;t<6;t+=1)e[t].connect(r,0,t),e[t].start(0);return u(t)})()}const t=await h,o=r(f,{...g,gain:1});await c(d,f,o);const l=[];for(let e=0;e<t.numberOfChannels;e+=1)l.push(t.getChannelData(e));let m=[l[0][0],l[1][0],l[2][0]],v=[l[3][0],l[4][0],l[5][0]],w=r(f,{...g,gain:1}),b=i(f,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]});o.connect(w).connect(b.inputs[0]),b.connect(p);for(let e=128;e<t.length;e+=128){const t=[l[0][e],l[1][e],l[2][e]],n=[l[3][e],l[4][e],l[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==v[e]))){m=t,v=n;const s=e/f.sampleRate;w.gain.setValueAtTime(0,s),w=r(f,{...g,gain:0}),b=i(f,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:v[0],positionY:v[1],positionZ:v[2]}),w.gain.setValueAtTime(1,s),o.connect(w).connect(b.inputs[0]),b.connect(p)}}return p}return v?(await t(f,d.orientationX,m.orientationX),await t(f,d.orientationY,m.orientationY),await t(f,d.orientationZ,m.orientationZ),await t(f,d.positionX,m.positionX),await t(f,d.positionY,m.positionY),await t(f,d.positionZ,m.positionZ)):(await a(f,d.orientationX,m.orientationX),await a(f,d.orientationY,m.orientationY),await a(f,d.orientationZ,m.orientationZ),await a(f,d.positionX,m.positionX),await a(f,d.positionY,m.positionY),await a(f,d.positionZ,m.positionZ)),_t(m)?await c(d,f,m.inputs[0]):await c(d,f,m),m})(d,f)}}})(Sn,jn,Vn,we,yr,Tt,nn,An,Xe,rr),wr=((t,e,n,r,i,o,s)=>class extends t{constructor(t,a){const c=i(t),u={...Te,...a},l=n(c,u),h=o(c);super(t,!1,l,h?r():null),this._nativePannerNode=l,this._orientationX=e(this,h,l.orientationX,ct,at),this._orientationY=e(this,h,l.orientationY,ct,at),this._orientationZ=e(this,h,l.orientationZ,ct,at),this._positionX=e(this,h,l.positionX,ct,at),this._positionY=e(this,h,l.positionY,ct,at),this._positionZ=e(this,h,l.positionZ,ct,at),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(dn,In,yr,vr,tn,rn,Rn),br=(t=>(e,{disableNormalization:n,imag:r,real:i})=>{const o=r instanceof Float32Array?r:new Float32Array(r),s=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(s,o,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a})(it),_r=((t,e,n,r)=>class i{constructor(i,o){const s=e(i),a=r({...Ie,...o}),c=t(s,a);return n.add(c),c}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})(br,tn,new WeakSet,(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})),kr=((t,e,n,r,i,o)=>{const s=16385,a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...u,oversample:"none"},h=(t,o,h,d,f)=>{if(1===o)return((t,e,i,o)=>{const h=new Float32Array(s),d=new Float32Array(s);for(let n=0;n<s;n+=1){const t=n/16384*c;h[n]=Math.cos(t),d[n]=Math.sin(t)}const f=n(t,{...u,gain:0}),p=r(t,{...l,curve:h}),m=r(t,{...l,curve:a}),g=n(t,{...u,gain:0}),y=r(t,{...l,curve:d});return{connectGraph(){e.connect(f),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===p.inputs?p:p.inputs[0]),i.connect(void 0===y.inputs?y:y.inputs[0]),p.connect(f.gain),y.connect(g.gain),f.connect(o,0,0),g.connect(o,0,1)},disconnectGraph(){e.disconnect(f),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===p.inputs?p:p.inputs[0]),i.disconnect(void 0===y.inputs?y:y.inputs[0]),p.disconnect(f.gain),y.disconnect(g.gain),f.disconnect(o,0,0),g.disconnect(o,0,1)}}})(t,h,d,f);if(2===o)return((t,i,o,h)=>{const d=new Float32Array(s),f=new Float32Array(s),p=new Float32Array(s),m=new Float32Array(s),g=Math.floor(8192.5);for(let e=0;e<s;e+=1)if(e>g){const t=(e-g)/(16384-g)*c;d[e]=Math.cos(t),f[e]=Math.sin(t),p[e]=0,m[e]=1}else{const t=e/(16384-g)*c;d[e]=1,f[e]=0,p[e]=Math.cos(t),m[e]=Math.sin(t)}const y=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...u,gain:0}),w=r(t,{...l,curve:d}),b=n(t,{...u,gain:0}),_=r(t,{...l,curve:f}),k=r(t,{...l,curve:a}),x=n(t,{...u,gain:0}),S=r(t,{...l,curve:p}),E=n(t,{...u,gain:0}),A=r(t,{...l,curve:m});return{connectGraph(){i.connect(y),i.connect(void 0===k.inputs?k:k.inputs[0]),y.connect(v,0),y.connect(b,0),y.connect(x,1),y.connect(E,1),k.connect(o),o.connect(void 0===w.inputs?w:w.inputs[0]),o.connect(void 0===_.inputs?_:_.inputs[0]),o.connect(void 0===S.inputs?S:S.inputs[0]),o.connect(void 0===A.inputs?A:A.inputs[0]),w.connect(v.gain),_.connect(b.gain),S.connect(x.gain),A.connect(E.gain),v.connect(h,0,0),x.connect(h,0,0),b.connect(h,0,1),E.connect(h,0,1)},disconnectGraph(){i.disconnect(y),i.disconnect(void 0===k.inputs?k:k.inputs[0]),y.disconnect(v,0),y.disconnect(b,0),y.disconnect(x,1),y.disconnect(E,1),k.disconnect(o),o.disconnect(void 0===w.inputs?w:w.inputs[0]),o.disconnect(void 0===_.inputs?_:_.inputs[0]),o.disconnect(void 0===S.inputs?S:S.inputs[0]),o.disconnect(void 0===A.inputs?A:A.inputs[0]),w.disconnect(v.gain),_.disconnect(b.gain),S.disconnect(x.gain),A.disconnect(E.gain),v.disconnect(h,0,0),x.disconnect(h,0,0),b.disconnect(h,0,1),E.disconnect(h,0,1)}}})(t,h,d,f);throw i()};return(e,{channelCount:r,channelCountMode:s,pan:a,...c})=>{if("max"===s)throw i();const u=t(e,{...c,channelCount:1,channelCountMode:s,numberOfInputs:2}),l=n(e,{...c,channelCount:r,channelCountMode:s,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:f,disconnectGraph:p}=h(e,r,l,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount!==t&&(g&&p(),({connectGraph:f,disconnectGraph:p}=h(e,t,l,d,u)),g&&f()),l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2])};let g=!1;return o(ye(m,u),(()=>{f(),g=!0}),(()=>{p(),g=!1}))}})(jn,ge,we,mr,Se,Nn),xr=((t,e)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,r);const o=n.createStereoPanner();return ce(o,r),le(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),o})(kr,Se),Sr=((t,e,n,r,i)=>()=>{const o=new WeakMap;return{render(s,a){const c=o.get(a);return void 0!==c?Promise.resolve(c):(async(s,a)=>{let c=n(s);const u=nt(c,a);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(a,t)}return o.set(a,c),u?await t(a,s.pan,c.pan):await r(a,s.pan,c.pan),_t(c)?await i(s,a,c.inputs[0]):await i(s,a,c),c})(s,a)}}})(Sn,xr,Tt,An,Xe),Er=((t,e,n,r,i,o)=>class extends t{constructor(t,s){const a=i(t),c={...Oe,...s},u=n(a,c),l=o(a);super(t,!1,u,l?r():null),this._pan=e(this,l,u.pan)}get pan(){return this._pan}})(dn,In,xr,Sr,tn,rn),Ar=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):(async(i,o)=>{let s=e(i);if(!nt(s,o)){const e={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=t(o,e)}return r.set(o,s),_t(s)?await n(i,o,s.inputs[0]):await n(i,o,s),s})(i,o)}}})(mr,Tt,Xe),Tr=((t,e,n,r,i,o,s)=>class extends t{constructor(t,e){const a=i(t),c={...Me,...e},u=n(a,c);super(t,!0,u,o(a)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(dn,te,mr,Ar,tn,rn,Rn),Ir=(t=>null!==t&&t.isSecureContext)(Ze),Or=(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Ze),Cr=new WeakMap,Mr=((t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r})(Cr,nn),Pr=Ir?((t,e,n,r,i,o,s,a,c,u,l,h,d)=>{let f=0;return(p,m,g={credentials:"omit"})=>{const y=l.get(p);if(void 0!==y&&y.has(m))return Promise.resolve();const v=u.get(p);if(void 0!==v){const t=v.get(m);if(void 0!==t)return t}const w=o(p),b=void 0===w.audioWorklet?i(m).then((([t,e])=>{const[r,i]=W(t,e);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;r(w.currentTime,w.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const r=z.get(w);if(void 0!==r){if(r.has(t))throw e();K(n),H(n.parameterDescriptors),r.set(t,n)}else K(n),H(n.parameterDescriptors),z.set(w,new Map([[t,n]]))}),w.sampleRate,void 0,void 0)))})):Promise.all([i(m),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const r=f+1;f=r;const[i,o]=W(t,e),u=new Blob([`${i};((AudioWorkletProcessor,registerProcessor)=>{${o}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${r}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(u);return w.audioWorklet.addModule(l,g).then((()=>{if(a(w))return w;const t=s(w);return t.audioWorklet.addModule(l,g).then((()=>t))})).then((t=>{if(null===c)throw new SyntaxError;try{new c(t,`__sac${r}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(l)))}));return void 0===v?u.set(p,new Map([[m,b]])):v.set(m,b),b.then((()=>{const t=l.get(p);void 0===t?l.set(p,new Set([m])):t.add(m)})).finally((()=>{const t=u.get(p);void 0!==t&&t.delete(m)})),b}})(Ke,Se,(t=>e=>new Promise(((n,r)=>{if(null===t)return void r(new SyntaxError);const i=t.document.head;if(null===i)r(new SyntaxError);else{const o=t.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(s),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(e,n,i,o,s)=>n===a||n===t.location.href&&1===i&&1===o?(u(),r(s),!1):null!==c?c(e,n,i,o,s):void 0,o.onerror=()=>{u(),r(new SyntaxError)},o.onload=()=>{u(),n()},o.src=a,o.type="module",i.appendChild(o)}})))(Ze),Or,(t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw t()})((()=>new DOMException("","AbortError"))),tn,Mr,rn,hn,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let o=!1,s=!1;try{await r.audioWorklet.addModule(i);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();e.port.onmessage=()=>o=!0,e.onprocessorerror=()=>s=!0,n.connect(e),n.start(0),await r.startRendering(),await new Promise((t=>setTimeout(t)))}catch{}finally{URL.revokeObjectURL(i)}return o&&!s})(hn,nn),Ze):void 0,Rr=((t,e)=>n=>t(n)||e(n))(cn,rn),Br=((t,e,n,r,i,o,s,a,c,u,l)=>(h,d)=>{const f=s(h)?h:o(h);if(i.has(d)){const t=n();return Promise.reject(t)}try{i.add(d)}catch{}return e(c,(()=>c(f)))?f.decodeAudioData(d).then((n=>(Zt(d).catch((()=>{})),e(a,(()=>a(n)))||l(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await Zt(d)}catch{}},o=t=>{n(t),i()};try{f.decodeAudioData(d,(n=>{"function"!==typeof n.copyFromChannel&&(u(n),ot(n)),t.add(n),i().then((()=>e(n)))}),(t=>{o(null===t?r():t)}))}catch(s){o(s)}}))})(mn,Ke,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,tn,Rr,rt,oe,wn,bn),Nr=((t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,y,v,w)=>class extends p{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,r){return new n({length:e,numberOfChannels:t,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(t=6){return new o(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new s(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(t=1){return new l(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new f(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new y(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new w(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then((t=>("function"===typeof e&&e(t),t)),(t=>{throw"function"===typeof n&&n(t),t}))}})(Pr,pn,_n,Cn,Bn,Un,Fn,Hn,Gn,Br,Yn,Qn,er,sr,ur,dr,wr,_r,Er,Tr),Lr=((t,e,n,r)=>class extends t{constructor(t,i){const o=n(t),s=e(o,i);if(r(o))throw TypeError();super(t,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(dn,((t,e)=>t.createMediaElementSource(e.mediaElement)),tn,rn),jr=((t,e,n,r)=>class extends t{constructor(t,i){const o=n(t);if(r(o))throw new TypeError;const s={...ie,...i},a=e(o,s);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(dn,((t,e)=>{const n=t.createMediaStreamDestination();return ce(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),tn,rn),Dr=((t,e,n,r)=>class extends t{constructor(t,i){const o=n(t),s=e(o,i);if(r(o))throw new TypeError;super(t,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(dn,((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i}),tn,rn),Ur=((t,e)=>(n,{mediaStreamTrack:r})=>{if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),o=n.createMediaStreamSource(i);if("audio"!==r.kind)throw t();if(e(n))throw new TypeError;return o})(te,rn),zr=((t,e,n)=>class extends t{constructor(t,r){const i=n(t);super(t,!0,e(i,r),null)}})(dn,Ur,tn),Fr=((t,e,n,r,i,o,s,a,c)=>class extends t{constructor(t={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new c(t)}catch(s){if(12===s.code&&"sampleRate is not in range"===s.message)throw n();throw s}if(null===e)throw r();if(!mt(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:o}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===i?512/o:"interactive"===i||void 0===i?256/o:"playback"===i?1024/o:128*Math.max(2,Math.min(128,Math.round(i*o/128)))/o,this._nativeAudioContext=e,"webkitAudioContext"===c.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),pt(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(t){return new s(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(Nr,te,Se,Ce,Lr,jr,Dr,zr,an),qr=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(cr),Vr=(t=>(e,n)=>{t(e).add(n)})(qr),Wr=(t=>(e,n,r=0,i=0)=>{const o=e[r];if(void 0===o)throw t();return Rt(n)?o.connect(n,0,i):o.connect(n,0)})(it),Hr=(t=>(e,n)=>{t(e).delete(n)})(qr),Kr=(t=>(e,n,r,i=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"===typeof n?Jt(t,e,n).disconnect():Rt(n)?void 0===r?e.forEach((t=>t.disconnect(n))):void 0===i?Jt(t,e,r).disconnect(n,0):Jt(t,e,r).disconnect(n,0,i):void 0===r?e.forEach((t=>t.disconnect(n))):Jt(t,e,r).disconnect(n,0))(it),$r=new WeakMap,Gr=((t,e)=>n=>e(t,n))($r,$),Zr=((t,e,n,r,i,o,s,a,c,u,l,h,d)=>(f,p,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((t=>t<1)))throw c();if(y.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw c();const v=g.channelCount*g.numberOfInputs,w=y.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+b>6||w>6)throw c();const _=new MessageChannel,k=[],x=[];for(let t=0;t<g.numberOfInputs;t+=1)k.push(s(f,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),x.push(i(f,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:r}of m.parameterDescriptors){const i=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?ct:e},minValue:{get:()=>void 0===n?at:n}}),S.push(i)}const E=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+b)}),A=fe(p,f.sampleRate),T=a(f,A,v+b,Math.max(1,w)),I=i(f,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),O=[];for(let t=0;t<g.numberOfOutputs;t+=1)O.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[t]}));for(let t=0;t<g.numberOfInputs;t+=1){k[t].connect(x[t]);for(let e=0;e<g.channelCount;e+=1)x[t].connect(E,e,t*g.channelCount+e)}const C=new Dt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=S[e];return n.connect(E,0,v+e),n.start(0),[t,n.offset]})));E.connect(T);let M=g.channelInterpretation,P=null;const R=0===g.numberOfOutputs?[T]:O,B={get bufferSize(){return A},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return M},set channelInterpretation(t){for(const e of k)e.channelInterpretation=t;M=t},get context(){return T.context},get inputs(){return k},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(t){"function"===typeof P&&B.removeEventListener("processorerror",P),P="function"===typeof t?t:null,"function"===typeof P&&B.addEventListener("processorerror",P)},get parameters(){return C},get port(){return _.port2},addEventListener:(...t)=>T.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,R),disconnect:u.bind(null,R),dispatchEvent:(...t)=>T.dispatchEvent(t[0]),removeEventListener:(...t)=>T.removeEventListener(t[0],t[1],t[2])},N=new Map;var L,j;_.port1.addEventListener=(L=_.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"===typeof t[1]?t[1]:"object"===typeof t[1]&&null!==t[1]&&"function"===typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{l(f.currentTime,f.sampleRate,(()=>e(t)))},N.set(e,t[1]))}}return L.call(_.port1,t[0],t[1],t[2])}),_.port1.removeEventListener=(j=_.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=N.get(t[1]);void 0!==e&&(N.delete(t[1]),t[1]=e)}return j.call(_.port1,t[0],t[1],t[2])});let D=null;Object.defineProperty(_.port1,"onmessage",{get:()=>D,set:t=>{"function"===typeof D&&_.port1.removeEventListener("message",D),D="function"===typeof t?t:null,"function"===typeof D&&(_.port1.addEventListener("message",D),_.port1.start())}}),m.prototype.port=_.port1;let U=null;const z=((t,e,n,r)=>{let i=F.get(t);void 0===i&&(i=new WeakMap,F.set(t,i));const o=pe(n,r);return i.set(e,o),o})(f,B,m,g);z.then((t=>U=t));const q=qt(g.numberOfInputs,g.channelCount),V=qt(g.numberOfOutputs,y),W=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let H=!0;const K=()=>{g.numberOfOutputs>0&&T.disconnect(I);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let r=0;r<y[t];r+=1)I.disconnect(n,e+r,r);e+=y[t]}},$=new Map;T.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==U){const r=h(B);for(let i=0;i<A;i+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)zt(t,q[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{zt(t,W,e,v+n,i)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<y[t];e+=1)0===V[t][e].byteLength&&(V[t][e]=new Float32Array(128));try{const t=q.map(((t,e)=>{if(r[e].size>0)return $.set(e,A/128),t;const n=$.get(e);return void 0===n?[]:(t.every((t=>t.every((t=>0===t))))&&(1===n?$.delete(e):$.set(e,n-1)),t)})),n=l(f.currentTime+i/f.sampleRate,f.sampleRate,(()=>U.process(t,V,W)));H=n;for(let r=0,o=0;r<g.numberOfOutputs;r+=1){for(let t=0;t<y[r];t+=1)Ft(e,V[r],t,o+t,i);o+=y[r]}}catch(n){H=!1,B.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!H){for(let t=0;t<g.numberOfInputs;t+=1){k[t].disconnect(x[t]);for(let e=0;e<g.channelCount;e+=1)x[i].disconnect(E,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(E,0,v+e),t.stop()}}E.disconnect(T),T.onaudioprocess=null,G?K():J();break}}}};let G=!1;const Z=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Y=()=>T.connect(Z).connect(f.destination),J=()=>{T.disconnect(Z),Z.disconnect()};return Y(),d(B,(()=>{if(H){J(),g.numberOfOutputs>0&&T.connect(I);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let r=0;r<y[t];r+=1)I.connect(n,e+r,r);e+=y[t]}}G=!0}),(()=>{H&&(Y(),K()),G=!1}))})(Wr,it,te,jn,ge,Vn,we,xe,Se,Kr,Or,Gr,Nn),Yr=((t,e,n,r,i)=>(o,s,a,c,u,l)=>{if(null!==a)try{const e=new a(o,c,l),r=new Map;let s=null;if(Object.defineProperties(e,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>s,set:t=>{"function"===typeof s&&e.removeEventListener("processorerror",s),s="function"===typeof t?t:null,"function"===typeof s&&e.addEventListener("processorerror",s)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"===typeof t[1]?t[1]:"object"===typeof t[1]&&null!==t[1]&&"function"===typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=r.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},r.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=r.get(t[1]);void 0!==e&&(r.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==l.numberOfOutputs){const t=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(o.destination);return i(e,(()=>t.disconnect()),(()=>t.connect(o.destination)))}return e}catch(f){if(11===f.code)throw r();throw f}var h,d;if(void 0===u)throw r();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(l),e(o,s,u,l)})(te,Zr,we,Se,Nn),Jr=((t,e,n,r,i,o,s,a,c,u,l,h,d,f,p,m)=>(g,y,v)=>{const w=new WeakMap;let b=null;return{render(_,k){a(k,_);const x=w.get(k);return void 0!==x?Promise.resolve(x):(async(a,_)=>{let k=l(a),x=null;const S=nt(k,_),E=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(null===h){const t=E.reduce(((t,e)=>t+e),0),n=i(_,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),o=[];for(let e=0;e<a.numberOfOutputs;e+=1)o.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[e]}));const u=s(_,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});u.connect=e.bind(null,o),u.disconnect=c.bind(null,o),x=[n,o,u]}else S||(k=new h(_,g));if(w.set(_,null===x?k:x[2]),null!==x){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,c=async()=>{const c=new d(n,128*Math.ceil(a.context.length/128),_.sampleRate),u=[],l=[];for(let t=0;t<y.numberOfInputs;t+=1)u.push(s(c,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),l.push(i(c,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=o(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await f(c,t,e.offset),e}))),g=r(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<y.numberOfInputs;t+=1){u[t].connect(l[t]);for(let e=0;e<y.channelCount;e+=1)l[t].connect(g,e,t*y.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(c.destination),await Promise.all(u.map((t=>p(a,c,t)))),m(c)};b=Vt(a,0===n?null:await c(),_,y,E,v,u)}const t=await b,e=n(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,l,h]=x;null!==t&&(e.buffer=t,e.start(0)),e.connect(c);for(let n=0,r=0;n<a.numberOfOutputs;n+=1){const t=l[n];for(let e=0;e<E[n];e+=1)c.connect(t,r+e,e);r+=E[n]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(_,n,k.parameters.get(e));else for(const[t,e]of a.parameters.entries())await f(_,e,k.parameters.get(t));return await p(a,_,k),k})(_,k)}}})(Sn,Wr,En,jn,ge,Vn,we,Hr,Kr,Or,Tt,hn,nn,An,Xe,rr),Xr=(t=>e=>t.get(e))(Cr),Qr=(t=>(e,n)=>{t.set(e,n)})($r),ti=Ir?((t,e,n,r,i,o,s,a,c,u,l,h,d,f)=>class extends e{constructor(e,f,p){var m;const g=a(e),y=c(g),v=l({...Ut,...p});d(v);const w=z.get(g),b=null===w||void 0===w?void 0:w.get(f),_=y||"closed"!==g.state?g:null!==(m=s(g))&&void 0!==m?m:g,k=i(_,y?null:e.baseLatency,u,f,b,v);super(e,!0,k,y?r(f,v,b):null);const x=[];k.parameters.forEach(((t,e)=>{const r=n(this,y,t);x.push([e,r])})),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new Dt(x),y&&t(g,this);const{activeInputs:S}=o(this);h(k,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"===typeof t?f(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Vr,dn,In,Jr,Yr,ht,Xr,tn,rn,hn,(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))})),Qr,(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}}),ze):void 0,ei=(((t,e,n,r,i)=>{})(te,Se,Ce,ur,an),((t,e)=>(n,r,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(o){if("SyntaxError"===o.name)throw t();throw o}})(Se,nn)),ni=((t,e,n,r,i,o,s,a)=>(c,u)=>n(c).render(c,u).then((()=>Promise.all(Array.from(r(u)).map((t=>n(t).render(t,u)))))).then((()=>i(u))).then((n=>("function"!==typeof n.copyFromChannel?(s(n),ot(n)):e(o,(()=>o(n)))||a(n),t.add(n),n))))(mn,Ke,Je,qr,rr,rt,wn,bn),ri=(((t,e,n,r,i)=>{})(Ke,te,ei,ur,ni),((t,e,n,r,i)=>class extends t{constructor(t,n,i){let o;if("number"===typeof t&&void 0!==n&&void 0!==i)o={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!==typeof t)throw new Error("The given parameters are not valid.");o=t}const{length:s,numberOfChannels:a,sampleRate:c}={...Ee,...o},u=r(a,s,c);e(oe,(()=>oe(u)))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=s,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,pt(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(Nr,Ke,te,ei,ni)),ii=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(j,cn),oi=((t,e)=>n=>t.has(n)||e(n))(B,un),si=((t,e)=>n=>t.has(n)||e(n))(L,ln),ai=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(j,rn);function ci(t,e){if(!t)throw new Error(e)}function ui(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function li(t){t.isOffline||"running"===t.state||di('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let hi=console;function di(...t){hi.warn(...t)}function fi(t){return"undefined"===typeof t}function pi(t){return!fi(t)}function mi(t){return"number"===typeof t}function gi(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function yi(t){return Array.isArray(t)}function vi(t){return"string"===typeof t}function wi(t){return vi(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const bi="object"===typeof self?self:null,_i=bi&&(bi.hasOwnProperty("AudioContext")||bi.hasOwnProperty("webkitAudioContext"));var ki=n(7582);class xi{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Si(t){return si(t)}function Ei(t){return oi(t)}function Ai(t){return ai(t)}function Ti(t){return ii(t)}function Ii(t){return t instanceof AudioBuffer}function Oi(t,e){return"value"===t||Si(e)||Ei(e)||Ii(e)}function Ci(t,...e){if(!e.length)return t;const n=e.shift();if(gi(t)&&gi(n))for(const r in n)Oi(r,n[r])?t[r]=n[r]:gi(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Ci(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Ci(t,...e)}function Mi(t,e,n=[],r){const i={},o=Array.from(e);if(gi(o[0])&&r&&!Reflect.has(o[0],r)){Object.keys(o[0]).some((e=>Reflect.has(t,e)))||(Ci(i,{[r]:o[0]}),n.splice(n.indexOf(r),1),o.shift())}if(1===o.length&&gi(o[0]))Ci(i,o[0]);else for(let s=0;s<n.length;s++)pi(o[s])&&(i[n[s]]=o[s]);return Ci(t,i)}function Pi(t,e){return fi(t)?e:t}function Ri(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class Bi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||bi&&this.toString()===bi.TONE_DEBUG_CLASS)&&function(...t){hi.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Bi.version=C;const Ni=1e-6;function Li(t,e){return t>e+Ni}function ji(t,e){return Li(t,e)||Ui(t,e)}function Di(t,e){return t+Ni<e}function Ui(t,e){return Math.abs(t-e)<Ni}class zi extends Bi{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Mi(zi.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(ci(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];ci(ji(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Ui(this._timeline[e].time,t)){for(let n=e;n>=0&&Ui(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&ji(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;for(;n<i;){let r=Math.floor(n+(i-n)/2);const o=this._timeline[r],s=this._timeline[r+1];if(Ui(o[e],t)){for(let n=r;n<this._timeline.length;n++){if(!Ui(this._timeline[n][e],t))break;r=n}return r}if(Di(o[e],t)&&Li(s[e],t))return r;Li(o[e],t)?i=r:n=r+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let r=this._search(t),i=this._search(e);return-1!==r&&-1!==i?(this._timeline[r].time!==t&&(r+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Ui(this._timeline[n].time,t)){let r=n;for(let e=n;e>=0&&Ui(this._timeline[e].time,t);e--)r=e;this._iterate((t=>{e(t)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Fi=[];function qi(t){Fi.push(t)}const Vi=[];function Wi(t){Vi.push(t)}class Hi extends Bi{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{fi(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...r)=>{e(...r),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(fi(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(fi(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,r=n.length;t<r;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(Hi.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Ki extends Hi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class $i extends Ki{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new zi,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Mi($i.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new Fr(t)}({latencyHint:t.latencyHint}),this._ticker=new xi(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Fi.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){ci(Ti(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(t)}createMediaElementSource(t){ci(Ti(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(t)}createMediaStreamDestination(){ci(Ti(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){ci(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){ci(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){ci(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){ci(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return ci(pi(ti),"This node only works in a secure context (https or localhost)"),new ti(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){ci(pi(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,vi(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ti(this._context)?this._context.resume():Promise.resolve()}close(){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){var t;Ti(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Vi.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=t;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants.set(t,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),r()},id:n,time:i+e})};return r(),n}}function Gi(t,e){yi(e)?e.forEach((e=>Gi(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Zi(t,e){yi(e)?e.forEach((e=>Zi(t,e))):Object.defineProperty(t,e,{writable:!0})}const Yi=()=>{};class Ji extends Bi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Yi;const t=Mi(Ji.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Ii(t.url)||t.url instanceof Ji?this.set(t.url):vi(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Yi,onload:Yi,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:eo().sampleRate}set(t){return t instanceof Ji?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){const e=Ji.load(t).then((t=>{this.set(t),this.onload(this)}));Ji.downloads.push(e);try{yield e}finally{const t=Ji.downloads.indexOf(e);Ji.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=yi(t)&&t[0].length>0,n=e?t.length:1,r=e?t[0].length:t.length,i=eo(),o=i.createBuffer(n,r,i.sampleRate),s=e||1!==n?t:[t];for(let a=0;a<n;a++)o.copyToChannel(s[a],a);return this._buffer=o,this}toMono(t){if(mi(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(mi(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),r=Math.floor(e*this.sampleRate);ci(n<r,"The start time must be less than the end time");const i=r-n,o=eo().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let s=0;s<this.numberOfChannels;s++)o.copyToChannel(this.getChannelData(s).subarray(n,r),s);return new Ji(o)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Ji).fromArray(t)}static fromUrl(t){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){const e=new Ji;return yield e.load(t)}))}static load(t){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let r=n[0];for(const t of n)if(Ji.supportsType(t)){r=t;break}t=t.replace(e[0],r)}const n=""===Ji.baseUrl||Ji.baseUrl.endsWith("/")?Ji.baseUrl:Ji.baseUrl+"/",r=yield fetch(n+t);if(!r.ok)throw new Error(`could not load url: ${t}`);const i=yield r.arrayBuffer();return yield eo().decodeAudioData(i)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){for(yield Promise.resolve();Ji.downloads.length;)yield Ji.downloads[0]}))}}Ji.baseUrl="",Ji.downloads=[];class Xi extends $i{constructor(){var t,e,n;super({clockSource:"offline",context:Ai(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new ri(t,e,n)),lookAhead:0,updateInterval:Ai(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ai(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n===0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Ji(e)}))}close(){return Promise.resolve()}}const Qi=new class extends Ki{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let to=Qi;function eo(){return to===Qi&&_i&&function(t){to=Ti(t)?new $i(t):Ai(t)?new Xi(t):t}(new $i),to}if(bi&&!bi.TONE_SILENCE_LOGGING){let t="v";0;const e=` * Tone.js ${t}14.7.77 * `;console.log(`%c${e}`,"background: #000; color: #fff")}function no(t){return Math.pow(2,t/12)}let ro=440;function io(t){return Math.round(oo(t))}function oo(t){return 69+12*Math.log2(t/ro)}class so extends Bi{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),r="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof so&&this.fromType(this._val),fi(this._val))return this._noArg();if(vi(this._val)&&fi(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(gi(this._val)){let t=0;for(const e in this._val)if(pi(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(pi(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return vi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class ao extends so{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new ao(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let i=1;i<9;i++){const t=Math.pow(2,i);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],r=new ao(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new ao(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(r-t)&&(n=e,r=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let r=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=r.toString();i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3)));return[n,e,r].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return io(this.toFrequency())}_now(){return this.context.now()}}class co extends ao{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ro}static set A4(t){!function(t){ro=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:co.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=uo[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:co.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(t){return new co(this.context,this.valueOf()*no(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return io(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/co.A4);let n=Math.round(12*e)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);return lo[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return function(t){return ro*Math.pow(2,(t-69)/12)}(t)}static ftom(t){return io(t)}}const uo={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},lo=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ho extends ao{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class fo extends Bi{constructor(){super();const t=Mi(fo.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:eo()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new ao(this.context,t).toSeconds()}toFrequency(t){return new co(this.context,t).toFrequency()}toTicks(t){return new ho(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{fi(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];pi(n)&&pi(n.value)&&pi(n.setValueAtTime)?t[e]=n.value:n instanceof fo?t[e]=n._getPartialProperties(t[e]):yi(n)||mi(n)||vi(n)||"boolean"===typeof n?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&pi(this[e])&&(this[e]&&pi(this[e].value)&&pi(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof fo?this[e].set(t[e]):this[e]=t[e])})),this}}class po extends zi{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return ui(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let r=n;r<this._timeline.length;r++){const e=this._timeline[r];if(e.state===t)return e}}}class mo extends fo{constructor(){super(Mi(mo.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Mi(mo.getDefaults(),arguments,["param","units","convert"]);for(ci(pi(t.param)&&(Si(t.param)||t.param instanceof mo),"param must be an AudioParam");!Si(t.param);)t.param=t.param._param;this._swappable=!!pi(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new zi(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,pi(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(fo.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return pi(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return pi(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return pi(this.maxValue)&&pi(this.minValue)&&ui(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?(e=t,Math.pow(10,e/20)):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t;var e}_toType(t){return this.convert&&"decibels"===this.units?(e=t,Math.log(e)/Math.LN10*20):t;var e}setValueAtTime(t,e){const n=this.toSeconds(e),r=this._fromType(t);return ci(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),r=this._events.get(e);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=r.value;if("setTargetAtTime"===r.type){const e=this._events.getBefore(r.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,t,n.time,n.value,e):this._exponentialInterpolate(r.time,t,n.time,n.value,e)}else i=r.value;else{const t=this._events.getBefore(r.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),r=this.toSeconds(e);return ci(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Ui(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(e);return ci(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,r),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const r=this._fromType(t);ci(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(r),ci(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(t,e,n,r=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*r;this.setValueAtTime(this._toType(i),e);const o=n/(t.length-1);for(let s=1;s<t.length;s++){const n=this._fromType(t[s])*r;this.linearRampToValueAtTime(this._toType(n),e+s*o)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return ci(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));ci(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const r=this._events.get(e),i=this._events.getAfter(e);return r&&Ui(r.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:e+2,o=(i-e)/10;for(let n=e;n<i;n+=o)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){ci(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)}_linearInterpolate(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)}_exponentialInterpolate(t,e,n,r,i){return e*Math.pow(r/e,(i-t)/(n-t))}}class go extends fo{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return pi(this.input)?Si(this.input)||this.input instanceof mo?1:this.input.numberOfInputs:0}get numberOfOutputs(){return pi(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return pi(t)&&(t instanceof go||Ei(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();ci(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return vo(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return di("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,r=0){if(pi(e))for(;e instanceof go;)e=e.input;for(;!Ei(t);)pi(t.output)&&(t=t.output);Si(e)?t.disconnect(e,n):Ei(e)?t.disconnect(e,n,r):t.disconnect()}(this,t,e,n),this}chain(...t){return yo(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),pi(this.input)&&(this.input instanceof go?this.input.dispose():Ei(this.input)&&this.input.disconnect()),pi(this.output)&&(this.output instanceof go?this.output.dispose():Ei(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function yo(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof go?t.connect(e):Ei(t)&&vo(t,e),e)),e)}function vo(t,e,n=0,r=0){for(ci(pi(t),"Cannot connect from undefined node"),ci(pi(e),"Cannot connect to undefined node"),(e instanceof go||Ei(e))&&ci(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ci(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof go||e instanceof mo;)pi(e.input)&&(e=e.input);for(;t instanceof go;)pi(t.output)&&(t=t.output);Si(e)?t.connect(e,n):t.connect(e,n,r)}class wo extends go{constructor(){super(Mi(wo.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Mi(wo.getDefaults(),arguments,["gain","units"]);this.gain=new mo({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Gi(this,"gain")}static getDefaults(){return Object.assign(go.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class bo extends go{constructor(t){super(t),this.onended=Yi,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new wo({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(go.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Yi})}_startGain(t,e=1){ci(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){ci(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Yi&&(this.onended(this),this.onended=Yi,!this.context.isOffline)){const t=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ci(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class _o extends bo{constructor(){super(Mi(_o.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Mi(_o.getDefaults(),arguments,["offset"]);vo(this._source,this._gainNode),this.offset=new mo({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(bo.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ko extends go{constructor(){super(Mi(ko.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Mi(ko.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new _o({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(go.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return xo(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,r){return this._param.setValueCurveAtTime(t,e,n,r),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function xo(t,e,n,r){(e instanceof mo||Si(e)||e instanceof ko&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ko&&(e.overridden=!0)),vo(t,e,n,r)}class So extends mo{constructor(){super(Mi(So.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new zi(1/0),this._multiplier=1;const t=Mi(So.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(mo.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const r=this._fromType(t),i=this._events.get(e),o=Math.round(Math.max(1/n,1));for(let s=0;s<=o;s++){const t=n*s+e,o=this._exponentialApproach(i.time,i.value,r,n,t);this.linearRampToValueAtTime(this._toType(o),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(10*(e-r.time),1)),o=(e-r.time)/i;for(let s=0;s<=i;s++){const t=o*s+r.time,i=this._exponentialInterpolate(r.time,r.value,e,n,t);this.linearRampToValueAtTime(this._toType(i),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(fi(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let r=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+r)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(e);return this.getTimeOfTick(r+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const r=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-e.time),o=Math.sqrt(Math.pow(r,2)-2*i*(e.ticks-t)),s=(-r+o)/i,a=(-r-o)/i;return(s>0?s:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),r=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Eo extends ko{constructor(){super(Mi(Eo.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Mi(Eo.getDefaults(),arguments,["value"]);this.input=this._param=new So({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(ko.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ao extends fo{constructor(){super(Mi(Ao.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new po,this._tickOffset=new zi;const t=Mi(Ao.getDefaults(),arguments,["frequency"]);this.frequency=new Eo({context:this.context,units:t.units,value:t.frequency}),Gi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},fo.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),pi(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let i=n,o=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(o=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t})),this._state.remove(r),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let r=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(i=n.seconds,e=n.time),"started"===r.state&&"started"!==t.state&&(i+=t.time-e),r=t})),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),r=this._state.get(e),i=Math.max(n.time,r.time),o=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(t,e,n){let r=this._state.get(t);this._state.forEachBetween(t,e,(e=>{r&&"started"===r.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,n),r=e}));let i=null;if(r&&"started"===r.state){const s=Math.max(r.time,t),a=this.frequency.getTicksAtTime(s),c=a-this.frequency.getTicksAtTime(r.time);let u=Math.ceil(c)-c;u=Ui(u,1)?0:u;let l=this.frequency.getTimeOfTick(a+u);for(;l<e;){try{n(l,Math.round(this.getTicksAtTime(l)))}catch(o){i=o;break}l+=this.frequency.getDurationOfTicks(1,l)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class To extends fo{constructor(){super(Mi(To.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Yi,this._lastUpdate=0,this._state=new po("stopped"),this._boundLoop=this._loop.bind(this);const t=Mi(To.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Ao({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Gi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(fo.getDefaults(),{callback:Yi,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){li(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Hi.mixin(To);class Io extends Bi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Mi(Io.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Yi,onload:Yi,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return ci(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=Yi,r=Yi){return vi(e)?this._buffers.set(t.toString(),new Ji(this.baseUrl+e,n,r)):this._buffers.set(t.toString(),new Ji(e,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class Oo extends ho{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Co extends fo{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new zi,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}qi((t=>{t.draw=new Co({context:t})})),Wi((t=>{t.draw.dispose()}));class Mo extends Bi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){ci(pi(t.time),"Events must have a time property"),ci(pi(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Po(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),r=t.right;r&&(t.right=r.left,r.left=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),r=t.left;r&&(t.left=r.right,r.right=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class Po{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ro extends go{constructor(){super(Mi(Ro.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Mi(Ro.getDefaults(),arguments,["volume"]);this.input=this.output=new wo({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Gi(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(go.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Bo extends go{constructor(){super(Mi(Bo.getDefaults(),arguments)),this.name="Destination",this.input=new Ro({context:this.context}),this.output=new wo({context:this.context}),this.volume=this.input.volume;const t=Mi(Bo.getDefaults(),arguments);yo(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(go.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),yo(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}qi((t=>{t.destination=new Bo({context:t})})),Wi((t=>{t.destination.dispose()}));class No extends Bi{constructor(t){super(),this.name="TimelineValue",this._timeline=new zi({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Lo{constructor(t,e){this.id=Lo._eventId++;const n=Object.assign(Lo.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Yi,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Lo._eventId=0;class jo extends Lo{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(jo.getDefaults(),e);this.duration=new Oo(t.context,n.duration).valueOf(),this._interval=new Oo(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Lo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Do extends fo{constructor(){super(Mi(Do.getDefaults(),arguments)),this.name="Transport",this._loop=new No(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new zi,this._repeatedEvents=new Mo,this._syncedSignals=[],this._swingAmount=0;const t=Mi(Do.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new To({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Gi(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(fo.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(2*this._swingTicks)!==0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;t+=new Oo(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new Lo(this,{callback:t,time:new ho(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,r=1/0){const i=new jo(this,{callback:t,duration:new ao(this.context,r).toTicks(),interval:new ao(this.context,e).toTicks(),time:new ho(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new Lo(this,{callback:t,once:!0,time:new ho(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new Oo(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return pi(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){yi(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new ao(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new ao(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Oo(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Oo(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),r=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",r),this._clock.setTicksAtTime(t,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const r=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/r}else e=0}const n=new wo(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Zi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Hi.mixin(Do),qi((t=>{t.transport=new Do({context:t})})),Wi((t=>{t.transport.dispose()}));class Uo extends go{constructor(t){super(t),this.input=void 0,this._state=new po("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Yi,this._syncedStop=Yi,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ro({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Gi(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(go.getDefaults(),{mute:!1,onstop:Yi,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let r=fi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const t=this._state.get(r);t&&(t.offset=this.toSeconds(Pi(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else li(this.context),this._start(r,e,n);else ci(Li(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,e,n);return this}stop(t){let e=fi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||pi(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const r=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(t,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Yi,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zo extends bo{constructor(){super(Mi(zo.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Mi(zo.getDefaults(),arguments,["url","onload"]);vo(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new mo({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Ji(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(bo.getDefaults(),{url:new Ji,loop:!1,loopEnd:0,loopStart:0,onload:Yi,onerror:Yi,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,r=1){ci(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,r),e=this.loop?Pi(e,this.loopStart):Pi(e,0);let o=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;ji(o,t)&&(o=(o-e)%n+e),Ui(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Di(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),pi(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Fo(t,e){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,r=new Xi(1,n,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}class qo extends bo{constructor(){super(Mi(qo.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Mi(qo.getDefaults(),arguments,["frequency","type"]);vo(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new mo({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new mo({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Gi(this,["frequency","detune"])}static getDefaults(){return Object.assign(bo.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Vo extends Uo{constructor(){super(Mi(Vo.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Mi(Vo.getDefaults(),arguments,["frequency","type"]);this.frequency=new ko({context:this.context,units:"frequency",value:t.frequency}),Gi(this,"frequency"),this.detune=new ko({context:this.context,units:"cents",value:t.detune}),Gi(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Uo.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new qo({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return Vo._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}))}{const t=Vo._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(pi(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Vo._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Vo._periodicWaveCache.length>100&&Vo._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ui(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const r=new Float32Array(n),i=new Float32Array(n);let o=1;if("custom"===t){if(o=this._partials.length+1,this._partialCount=this._partials.length,n=o,0===this._partials.length)return[r,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(o=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],o=Math.max(o,2),n=o):this._partialCount=0,this._partials=[]}for(let s=1;s<n;++s){const n=2/(s*Math.PI);let a;switch(t){case"sine":a=s<=o?1:0,this._partials[s-1]=a;break;case"square":a=1&s?2*n:0,this._partials[s-1]=a;break;case"sawtooth":a=n*(1&s?1:-1),this._partials[s-1]=a;break;case"triangle":a=1&s?n*n*2*(s-1>>1&1?-1:1):0,this._partials[s-1]=a;break;case"custom":a=this._partials[s-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(r[s]=-a*Math.sin(e*s),i[s]=a*Math.cos(e*s)):(r[s]=0,i[s]=0)}return[r,i]}_inverseFFT(t,e,n){let r=0;const i=t.length;for(let o=0;o<i;o++)r+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n);return r}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let a=0;a<32;a++)n=Math.max(this._inverseFFT(t,e,a/32*r),n);return i=-this._inverseFFT(t,e,this._phase)/n,o=-1,s=1,Math.max(Math.min(i,s),o);var i,o,s}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Vo._periodicWaveCache=[];class Wo extends go{constructor(){super(Object.assign(Mi(Wo.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return xo(this,t,e,n),this}}class Ho extends Wo{constructor(){super(Object.assign(Mi(Ho.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Mi(Ho.getDefaults(),arguments,["mapping","length"]);yi(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"===typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(ko.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let r=0,i=e;r<i;r++){const e=r/(i-1)*2-1;n[r]=t(e,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){ci(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ko extends Wo{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ho({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class $o extends ko{constructor(){super(Object.assign(Mi($o.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Mi($o.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new wo({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ko.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Go extends Uo{constructor(){super(Mi(Go.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Ko({context:this.context}),this._modulationNode=new wo({context:this.context});const t=Mi(Go.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Vo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Vo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new $o({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Gi(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Vo.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Zo extends Uo{constructor(){super(Mi(Zo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new wo({context:this.context,gain:0});const t=Mi(Zo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Vo({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new ko({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Vo({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new $o({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new $o({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Gi(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Vo.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Yo extends Uo{constructor(){super(Mi(Yo.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new wo({context:this.context,gain:0}),this._thresh=new Ho({context:this.context,mapping:t=>t<=0?-1:1});const t=Mi(Yo.getDefaults(),arguments,["frequency","width"]);this.width=new ko({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Vo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Gi(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Jo extends Uo{constructor(){super(Mi(Jo.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Mi(Jo.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ko({context:this.context,units:"frequency",value:t.frequency}),this.detune=new ko({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Gi(this,["frequency","detune"])}static getDefaults(){return Object.assign(Vo.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,r)=>t.detune.value=e+n*r))}}get count(){return this._oscillators.length}set count(t){if(ui(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new Vo({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Yi});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Xo extends Uo{constructor(){super(Mi(Xo.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new $o({context:this.context,value:2});const t=Mi(Xo.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Yo({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Vo({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Gi(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Uo.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Qo={am:Go,fat:Jo,fm:Zo,oscillator:Vo,pulse:Yo,pwm:Xo};class ts extends Uo{constructor(){super(Mi(ts.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Mi(ts.getDefaults(),arguments,["frequency","type"]);this.frequency=new ko({context:this.context,units:"frequency",value:t.frequency}),this.detune=new ko({context:this.context,units:"cents",value:t.detune}),Gi(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Vo.getDefaults(),Zo.getDefaults(),Go.getDefaults(),Jo.getDefaults(),Yo.getDefaults(),Xo.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Qo[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Qo[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&mi(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&mi(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&vi(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return Fo(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function es(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ui(r,t,e),n.set(this,r)}})}}function ns(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ui(this.toSeconds(r),t,e),n.set(this,r)}})}}class rs extends Uo{constructor(){super(Mi(rs.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Mi(rs.getDefaults(),arguments,["url","onload"]);this._buffer=new Ji({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Uo.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Yi,onerror:Yi,playbackRate:1,reverse:!1})}load(t){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Yi){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?Pi(e,this._loopStart):Pi(e,0);const r=this.toSeconds(e),i=n;n=Pi(n,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(n);o/=this._playbackRate,t=this.toSeconds(t);const s=new zo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+o),this._state.setStateAtTime("stopped",t+o,{implicitEnd:!0})),this._activeSources.add(s),this._loop&&fi(i)?s.start(t,r):s.start(t,r,o-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ui(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ui(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}(0,ki.__decorate)([ns(0)],rs.prototype,"fadeIn",void 0),(0,ki.__decorate)([ns(0)],rs.prototype,"fadeOut",void 0);class is extends go{constructor(){super(Mi(is.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ko({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Mi(is.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(go.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(vi(t))return t;{let n;for(n in os)if(os[n][e]===t)return n;return t}}_setCurve(t,e,n){if(vi(n)&&Reflect.has(os,n)){const r=os[n];gi(r)?"_decayCurve"!==t&&(this[t]=r[e]):this[t]=r}else{if(!yi(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){ci(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0){n=(1-i)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let r=this._attackCurve;for(let t=1;t<r.length;t++)if(r[t-1]<=i&&i<=r[t]){r=this._attackCurve.slice(t),r[0]=i;break}this._sig.setValueCurveAtTime(r,t,n,e)}if(r&&this.sustain<1){const i=e*this.sustain,o=t+n;this.log("decay",o),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,r+o):this._sig.exponentialApproachValueAtTime(i,o,r)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(ci(yi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return xo(this,t,e,n),this}asArray(t=1024){return(0,ki.__awaiter)(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Xi(1,e,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=.1*i,s=i+o,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/s,decay:e*this.toSeconds(this.decay)/s,release:e*this.toSeconds(this.release)/s,context:n}));a._sig.toDestination(),a.triggerAttackRelease(e*(r+o)/s,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}(0,ki.__decorate)([ns(0)],is.prototype,"attack",void 0),(0,ki.__decorate)([ns(0)],is.prototype,"decay",void 0),(0,ki.__decorate)([es(0,1)],is.prototype,"sustain",void 0),(0,ki.__decorate)([ns(0)],is.prototype,"release",void 0);const os=(()=>{const t=128;let e,n;const r=[];for(e=0;e<t;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const o=[];for(e=0;e<t;e++)o[e]=Math.ceil(e/127*5)/5;const s=[];for(e=0;e<t;e++)n=e/127,s[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,r=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(r*(1-n))}function c(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:c(a),Out:a},cosine:{In:r,Out:(u=r,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:c(i)},sine:{In:s,Out:c(s)},step:{In:o,Out:c(o)}};var u})();class ss extends go{constructor(){super(Mi(ss.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Mi(ss.getDefaults(),arguments);this._volume=this.output=new Ro({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Gi(this,"volume")}static getDefaults(){return Object.assign(go.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const r=t[e],i=this.context.transport.schedule((r=>{t[e]=r,n.apply(this,t)}),r);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n),o=this.toSeconds(e);return this.triggerAttack(t,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class as extends ss{constructor(){super(Mi(as.getDefaults(),arguments));const t=Mi(as.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(ss.getDefaults(),{detune:0,onsilence:Yi,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const r=this.toSeconds(e);return this._triggerEnvelopeAttack(r,n),this.setNote(t,r),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),r=t instanceof co?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,t,n)}else this.frequency.setValueAtTime(r,n);return this}}(0,ki.__decorate)([ns(0)],as.prototype,"portamento",void 0);class cs extends is{constructor(){super(Mi(cs.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new wo({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class us extends as{constructor(){super(Mi(us.getDefaults(),arguments)),this.name="Synth";const t=Mi(us.getDefaults(),arguments);this.oscillator=new ts(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new cs(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Gi(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(as.getDefaults(),{envelope:Object.assign(Ri(is.getDefaults(),Object.keys(go.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ri(ts.getDefaults(),[...Object.keys(Uo.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ls extends us{constructor(){super(Mi(ls.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Mi(ls.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Gi(this,["oscillator","envelope"])}static getDefaults(){return Ci(as.getDefaults(),us.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),r=this.toFrequency(t instanceof co?t.toFrequency():t),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}(0,ki.__decorate)([es(0)],ls.prototype,"octaves",void 0),(0,ki.__decorate)([ns(0)],ls.prototype,"pitchDecay",void 0);const hs=new Set;function ds(t){hs.add(t)}function fs(t,e){const n=`registerProcessor("${t}", ${e})`;hs.add(n)}ds('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');ds("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");ds("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");fs("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class ps extends ss{constructor(){super(Mi(ps.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Mi(ps.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const r=parseInt(n,10);if(ci(wi(n)||mi(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),wi(n)){const r=new co(this.context,n).toMidi();e[r]=t.urls[n]}else mi(r)&&isFinite(r)&&(e[r]=t.urls[r])})),this._buffers=new Io({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(ss.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Yi,onerror:Yi,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const r=oo(new co(this.context,t).toFrequency()),i=Math.round(r),o=r-i,s=this._findClosest(i),a=i-s,c=this._buffers.get(a),u=no(s+o),l=new zo({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);l.start(e,0,c.duration/u,n),yi(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(l),l.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(l);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new co(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;){t.shift().stop(e)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,r=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,r),yi(e)?(ci(yi(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const r=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(r))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(ci(wi(t)||isFinite(t),`note must be a pitch or midi: ${t}`),wi(t)){const r=new co(this.context,t).toMidi();this._buffers.add(r,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}(0,ki.__decorate)([ns(0)],ps.prototype,"attack",void 0),(0,ki.__decorate)([ns(0)],ps.prototype,"release",void 0);class ms extends go{constructor(){super(Object.assign(Mi(ms.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Mi(ms.getDefaults(),arguments,["pan"]);this.pan=new mo({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Gi(this,"pan")}static getDefaults(){return Object.assign(go.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}fs("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class gs extends go{constructor(){super(Mi(gs.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Mi(gs.getDefaults(),arguments,["solo"]);this.input=this.output=new wo({context:this.context}),gs._allSolos.has(this.context)||gs._allSolos.set(this.context,new Set),gs._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(go.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),gs._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){gs._soloed.has(this.context)||gs._soloed.set(this.context,new Set),gs._soloed.get(this.context).add(this)}_removeSolo(){gs._soloed.has(this.context)&&gs._soloed.get(this.context).delete(this)}_isSoloed(){return gs._soloed.has(this.context)&&gs._soloed.get(this.context).has(this)}_noSolos(){return!gs._soloed.has(this.context)||gs._soloed.has(this.context)&&0===gs._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),gs._allSolos.get(this.context).delete(this),this._removeSolo(),this}}gs._allSolos=new Map,gs._soloed=new Map;class ys extends go{constructor(){super(Mi(ys.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Mi(ys.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ms({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ro({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Gi(this,["pan","volume"])}static getDefaults(){return Object.assign(go.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class vs extends go{constructor(){super(Mi(vs.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Mi(vs.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new gs({solo:t.solo,context:this.context}),this._panVol=this.output=new ys({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Gi(this,["pan","volume"])}static getDefaults(){return Object.assign(go.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return vs.buses.has(t)||vs.buses.set(t,new wo({context:this.context})),vs.buses.get(t)}send(t,e=0){const n=this._getBus(t),r=new wo({context:this.context,units:"decibels",gain:e});return this.connect(r),r.connect(n),r}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}vs.buses=new Map;class ws extends go{constructor(){super(...arguments),this.name="Listener",this.positionX=new mo({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new mo({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new mo({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new mo({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new mo({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new mo({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new mo({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new mo({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new mo({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(go.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}qi((t=>{t.listener=new ws({context:t})})),Wi((t=>{t.listener.dispose()}));eo().transport;eo().destination,eo().destination;eo().listener;eo().draw;eo();var bs=i.createContext(null),_s=t=>{const[e,n]=i.useState({}),r={refs:e,setRef(t,e){n((n=>({...n,[t]:e})))}};return i.createElement(bs.Provider,{value:r},t.children)};function ks(t){const{refs:e}=i.useContext(bs);return i.createElement(i.Fragment,null,e[t.target]?.current&&s.createPortal(t.children,e[t.target]?.current))}var xs=i.createContext(null);function Ss(t){const{creator:e,children:n}=t,[s,a]=i.useState(t.defaultPool??{token:o.Gd}),[c,u]=i.useState(String(1e9*Math.random()|0)),[l,h]=i.useState(t.defaultJackpotFee??.001),d=t.defaultCreatorFee??.01,f=(t,e=new r.PublicKey("11111111111111111111111111111111"))=>{a({token:new r.PublicKey(t),authority:new r.PublicKey(e)})};return i.createElement(xs.Provider,{value:{platform:{name:"",creator:new r.PublicKey(e)},selectedPool:s,setToken:t=>{f(t)},setPool:f,clientSeed:c,setClientSeed:u,defaultJackpotFee:l,setDefaultJackpotFee:h,defaultCreatorFee:d}},i.createElement(_s,null,n))}var Es,As=new r.PublicKey("FakeCDoCX1NWywV9m63fk7gmV9S4seMoyqzcNYEmRYjy"),Ts=i.createContext({});function Is({children:t,tokens:e=[],fetcher:n,debounce:r}){const o=i.useMemo((()=>e.reduce(((t,e)=>({...t,[e.mint.toString()]:e})),{})),[e]);return i.createElement(Ts.Provider,{value:{tokens:e,fallback:t=>o[t.toString()],fetcher:n,debounce:r}},t)}var Os=(0,c.Ue)((t=>({balance:1e12,set:t})));function Cs(){const t=Os(),e=i.useContext(xs),n=(0,a.GJ)();return async function(){if(!Es)throw new Error("No game in progress");await new Promise((t=>setTimeout(t,Cs.delay)));const r=Math.random()*Es.bet.length|0,i=Es.bet[r],o=Es.wager,s=i*o,a=s-o;return t.set((t=>({balance:t.balance+s}))),{creator:e.platform.creator,user:n,rngSeed:"fake_rng_seed",clientSeed:Es.clientSeed??"",nonce:0,bet:Es.bet,resultIndex:r,wager:o,payout:s,profit:a,multiplier:i,token:e.selectedPool.token,bonusUsed:0,jackpotWin:0}}}function Ms(){const t=i.useContext(xs),e=Os(),n=Cs(),r=t.selectedPool.token.equals(As),o={publicKey:(0,u.iY)(t.selectedPool.token),authority:u.AH,token:t.selectedPool.token,minWager:0,gambaFee:0,poolFee:0,jackpotBalance:0,liquidity:BigInt(1e99),maxPayout:1e99};return{isActive:r,balance:e,result:n,play:t=>{if(e.balance<t.wager)throw(0,a.Ir)(new Error("Insufficient funds"));return e.set((({balance:e})=>({balance:e-t.wager}))),Es=t,"fake_game"},pool:o}}Cs.delay=500;var Ps,Rs=()=>{const{selectedPool:t}=(0,i.useContext)(xs),e=(0,a.AI)(t.token,t.authority),n=Ms();return n.isActive?n.pool:e},Bs=(0,l.td)(new Set),Ns=(0,l.td)({}),Ls={So11111111111111111111111111111111111111112:{name:"Solana",symbol:"SOL",decimals:9,image:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",baseWager:5e7},EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",image:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",usdPrice:1,decimals:6,baseWager:1e6},[As.toString()]:{name:"Fake Money",symbol:"FAKE",decimals:9,baseWager:1e9,usdPrice:0}};function js(t){const e=i.useContext(Ts),n=Ns.value[t.toString()];i.useEffect((()=>(Bs.value.add(t.toString()),clearTimeout(Ps),Ps=setTimeout((async()=>{if(!e.fetcher)return;const t=Array.from(Bs.value).filter((t=>t!==As.toString()&&!Object.keys(Ns.value).includes(t)));if(!t.length)return;console.debug("Fetching Mint",t);const n=await e.fetcher(t);Ns.value={...Ns.value,...n},Bs.value.clear()}),e.debounce??0),()=>{clearTimeout(Ps)})),[t.toString()]);const o={mint:new r.PublicKey(t),name:"Unknown",symbol:t.toString().substring(0,3),image:void 0,decimals:9,baseWager:1,usdPrice:0},s=e.fallback??(()=>{});return{...o,...n,...Ls[t.toString()],...s(t)}}js.debouce=0,js.fallback=t=>{},js.setFallbackHandler=t=>{},js.fetcher=t=>({}),js.setFetcher=t=>{};var Ds=t=>{if("undefined"===typeof performance||"undefined"===typeof window)return;const e=(0,i.useRef)(null),n=(0,i.useRef)(),r=(0,i.useRef)(performance.now()),o=(0,i.useRef)(performance.now());e.current=t;const s=t=>{e.current({time:(t-r.current)/1e3,delta:(t-o.current)/1e3}),o.current=t,n.current=requestAnimationFrame(s)};(0,i.useLayoutEffect)((()=>(n.current=requestAnimationFrame(s),()=>{n.current&&cancelAnimationFrame(n.current)})),[])};function Us({src:t}){const e=i.useRef(Array.from({length:25}).map((()=>({x:Math.random(),y:600*-Math.random()})))),n=i.useMemo((()=>{const e=document.createElement("img");return e.src=t,e}),[t]);return Ds((()=>{e.current.forEach(((t,e)=>{const n=5*(1+.1*Math.sin(44213.3*e));t.y+=n}))})),i.createElement(aa.Canvas,{zIndex:99,style:{pointerEvents:"none"},render:({ctx:t,size:r},i)=>{t.save(),t.clearRect(0,0,r.width,r.height),t.fillStyle="#00000011",t.fillRect(0,0,r.width,r.height),t.font="30px arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle="#22ff11",e.current.forEach(((e,i)=>{t.save(),t.translate(e.x*r.width,r.height-e.y-25),t.scale(.5,.5),t.drawImage(n,0,0),t.restore()})),t.restore()}})}var zs=class extends i.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){this.props.onError&&this.props.onError(t),this.setState({hasError:!0,error:e})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:null:this.props.children}},Fs=O.ZP.button`
  --color: var(--gamba-ui-button-default-color);
  --background-color: var(--gamba-ui-button-default-background);
  --background-color-hover: var(--gamba-ui-button-default-background-hover);

  ${t=>t.$main&&O.iv`
    --background-color: var(--gamba-ui-button-main-background);
    --color: var(--gamba-ui-button-main-color);
    --background-color-hover: var(--gamba-ui-button-main-background-hover);
  `}

  ${t=>O.iv`
    --padding: ${"small"===t.$size?"5px":"medium"===t.$size?"10px":"large"===t.$size&&"15px"};
  `}

  background: var(--background-color);
  color: var(--color);
  &:hover {
    background: var(--background-color-hover);
  }

  border: none;
  border-radius: var(--gamba-ui-border-radius);
  padding: var(--padding);
  cursor: pointer;
  /* min-width: 100px; */
  text-align: center;
  align-items: center;

  &:disabled {
    cursor: default;
    opacity: .7;
  }
`;function qs(t){return i.createElement(Fs,{disabled:t.disabled,onClick:t.onClick,$main:t.main,$size:t.size??"medium"},t.children)}var Vs=i.forwardRef((function(t,e){const{render:n,zIndex:r=0,style:o,...s}=t,a=i.useRef(null),c=i.useRef(null);return i.useImperativeHandle(e,(()=>c.current)),Ds((t=>{const e=c.current.getContext("2d");e.save(),e.scale(window.devicePixelRatio,window.devicePixelRatio),n({canvas:c.current,ctx:e,size:{width:a.current.clientWidth,height:a.current.clientHeight}},t),e.restore()})),i.useLayoutEffect((()=>{let t;const e=()=>{c.current.width=a.current.clientWidth*window.devicePixelRatio,c.current.height=a.current.clientHeight*window.devicePixelRatio},n=new ResizeObserver(e);n.observe(a.current);const r=()=>{clearTimeout(t),t=setTimeout((()=>{e()}),250)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),n.disconnect(),clearTimeout(t)}}),[]),i.createElement("div",{ref:a,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:r}},i.createElement("canvas",{...s,style:{width:"100%",height:"100%",...o},ref:c}))})),Ws=O.ZP.div`
  justify-content: center;
  align-items: center;
  display: flex;
  width: 100%;
  flex-direction: column;
  max-width: 100vw;
  height: 100%;
  left: 0;
  top: 0;
`;var Hs=O.ZP.div`
  position: relative;
`,Ks=O.ZP.div`
  position: absolute;
  bottom: 100%;
  left: 0;
  width: max-content;
  display: flex;
  flex-direction: column;
  gap: 5px;
  border-radius: 10px;
  padding: 5px;
  color: var(--gamba-ui-input-color);
  background: var(--gamba-ui-input-background);
  white-space: nowrap;
  transform: translateY(-5px);
  z-index: 100;
  & > button {
    all: unset;
    box-sizing: border-box;
    cursor: pointer;
    font-size: inherit;
    padding: 5px;
    display: flex;
    align-items: center;
    &:hover {
      background: var(--gamba-ui-input-background-hover);
    }
  }
`;function $s(t){const[e,n]=i.useState(!1);return i.createElement(Hs,null,i.createElement(qs,{disabled:t.disabled,onClick:()=>n(!e)},t.label?t.label(t.value):JSON.stringify(t.value)),e&&i.createElement(Ks,null,t.options.map(((e,r)=>i.createElement("button",{key:r,onClick:()=>(e=>{n(!1),t.onChange(e)})(e)},t.label?t.label(e):JSON.stringify(e))))))}var Gs=O.ZP.input`
  all: unset;
  cursor: pointer;
  position: relative;
  height: 25px;
  aspect-ratio: 2 / 1;
  border-radius: 20px;
  background: #0e0e16;
  &:checked:after {
    left: 50%;
  }
  &:after {
    transition: left .1s ease;
    content: " ";
    height: 100%;
    width: 50%;
    left: 0;
    top: 0;
    border-radius: 20px;
    position: absolute;
    background: #9564ff;
  }
  &:not(:disabled):hover {
    outline: #9564ff solid 1px;
    outline-offset: 1px;
  }
  &:disabled {
    &:after {
      background: gray;
    }
  }
`;var Zs=O.ZP.input`
  color: var(--gamba-ui-input-color);
  background: var(--gamba-ui-input-background);
  &:hover {
    background: var(--gamba-ui-input-background-hover);
  }

  border: none;
  border-radius: 10px;
  padding: 10px;
  cursor: pointer;
  min-width: 100px;
  align-items: center;

  &:disabled {
    cursor: default;
    opacity: .7;
  }
`;function Ys(t){const e=i.useContext(xs),n=t.mint??e?.selectedPool.token;if(!n)throw new Error('"mint" prop is required when not using GambaPlatformProvider');const r=js(n),o=t.suffix??r?.symbol??"?",s=t.amount/10**r.decimals,a=(()=>{if(!t.exact){if(s>=1e9)return(s/1e9).toLocaleString(void 0,{maximumFractionDigits:1})+"B";if(s>=1e6)return(s/1e6).toLocaleString(void 0,{maximumFractionDigits:1})+"M";if(s>1e3)return(s/1e3).toLocaleString(void 0,{maximumFractionDigits:1})+"K"}return s.toLocaleString(void 0,{maximumFractionDigits:Math.floor(s)>100?1:4})})();return i.createElement(i.Fragment,null,a," ",o)}var Js=O.ZP.div`
  display: flex;
  justify-content: space-between;
  color: var(--gamba-ui-input-color);
  background: var(--gamba-ui-input-background);
  position: relative;
  border-radius: 10px;
  overflow: hidden;
  ${t=>t.$edit&&O.iv`
    outline: #9564ff solid 1px;
    outline-offset: 1px;
  `}
`,Xs=O.ZP.button`
  all: unset;
  cursor: pointer;
  display: flex;
  align-items: center;
  flex-grow: 1;
  box-sizing: border-box;
`,Qs=O.ZP.input`
  border: none;
  border-radius: 0;
  margin: 0;
  padding: 10px;
  padding-left: 0;
  padding-right: 0;
  color: var(--gamba-ui-input-color);
  background: var(--gamba-ui-input-background);
  outline: none;
  flex-grow: 1;

  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* Firefox */
  &[type=number] {
    -moz-appearance: textfield;
  }
`,ta=O.ZP.button`
  border: none;
  border-radius: 0;
  margin: 0;
  padding: 2px 10px;
  color: var(--gamba-ui-input-color);
  background: var(--gamba-ui-input-background);
  cursor: pointer;
`,ea=O.ZP.div`
  display: flex;
`,na=O.ZP.div`
  text-wrap: nowrap;
  padding: 10px 0;
  width: 100px;

  opacity: .8;
  overflow: hidden;
`;var ra=(0,l.td)(.5),ia=()=>({masterGain:ra.value,set:t=>{ra.value=t}});function oa(t){const e=Object.keys(t),n=i.useMemo((()=>Object.entries(t).map((([t,e])=>{const n=new class{player=new rs;gain=new wo;ready=!1;url;constructor(t,e=!1){this.url=t,this.player.load(t).then((t=>{this.ready=t.loaded,this.player.connect(this.gain),this.gain.toDestination(),e&&(this.player.loop=!0,this.player.start())})).catch((t=>console.error("Failed to load audio",t)))}play({playbackRate:t=1,gain:e=.1}={}){try{this.player.playbackRate=t,this.gain.set({gain:e}),this.player.start()}catch(n){console.warn("Failed to play sound",this.url,n)}}}(e);return{id:t,sound:n}})).reduce(((t,{id:e,sound:n})=>({...t,[e]:n})),{})),[...e]);i.useEffect((()=>()=>{Object.entries(n).map((([t,e])=>e.player.stop()))}),[n]);const r=i.useCallback(((t,e)=>{const r=e?.gain??1,i={...e,gain:r*ra.value};n[t].play(i)}),[n]);return{play:r,sounds:n}}var sa=i.createContext(null);var aa={useGame:function(){const t=i.useContext(sa),e=Ms(),n=i.useContext(xs),o=la(),s=(0,a.K_)(),c=(0,a.S0)();return{play:async(i,s=[])=>{const a=i.metadata??[],u=["0",t.game.id,...a],l={...i,creator:new r.PublicKey(n.platform.creator),metadata:u,clientSeed:n.clientSeed,creatorFee:n.defaultCreatorFee,jackpotFee:n.defaultJackpotFee,token:n.selectedPool.token,poolAuthority:n.selectedPool.authority,useBonus:o.bonusBalance>0};return e.isActive?e.play(l):c(l,s)},game:t.game,result:async()=>e.isActive?e.result():s()}},useSound:oa,Portal:ks,PortalTarget:function(t){const{setRef:e}=i.useContext(bs),n=i.useRef(null);return i.useEffect((()=>(e(t.target,n),()=>e(t.target,null))),[t.target]),i.createElement("div",{style:{display:"contents"},ref:n},t.children)},Effect:Us,Button:qs,Game:function({game:t,children:e,errorFallback:n}){return i.createElement(sa.Provider,{key:t.id,value:{game:t}},i.createElement(zs,{fallback:n},i.createElement(i.Suspense,{fallback:i.createElement(i.Fragment,null)},i.createElement(t.app,{...t.props}))),e)},Responsive:function({children:t,maxScale:e=1,overlay:n,...r}){const o=i.useRef(null),s=i.useRef(null),a=i.useRef(null);return i.useLayoutEffect((()=>{let t;const n=()=>{const t=o.current.clientWidth/(a.current.scrollWidth+40),n=o.current.clientHeight/(a.current.clientHeight+80),r=Math.min(e,t,n);s.current.style.transform="scale("+r+")"},r=new ResizeObserver(n);r.observe(o.current);const i=()=>{clearTimeout(t),t=setTimeout((()=>{n()}),250)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),r.disconnect(),clearTimeout(t)}}),[e]),i.createElement(Ws,{...r,ref:o},i.createElement("div",{ref:s},i.createElement("div",{ref:a},t)))},Canvas:Vs,WagerInput:function(t){const e=(0,a.dm)(),n=ca(),[r,o]=i.useState(""),s=la(),c=function(){const t=i.useContext(xs),e=Rs(),n=t.defaultCreatorFee,r=t.defaultJackpotFee;return n+e.gambaFee+e.poolFee+r}(),[u,l]=i.useState(!1),h=t.type??"text";i.useEffect((()=>{t.onChange(n.baseWager)}),[n.mint.toString()]);const d=()=>{t.onChange(Number(r)*10**n.decimals),l(!1)};return i.createElement("div",{style:{position:"relative"}},i.createElement(Js,{$edit:u},i.createElement(Xs,{onClick:()=>!e.isPlaying&&(l(!0),void o(String(t.value/10**n.decimals)))},i.createElement("img",{src:n.image,height:"25px",style:{margin:"0 5px",borderRadius:"50%",aspectRatio:"1/1"}}),u&&"text"===h?i.createElement(Qs,{value:r,type:"number",max:s.balance/10**n.decimals,min:0,step:.05,style:{width:"100px"},onChange:t=>o(t.target.value),onKeyDown:t=>"Enter"===t.code&&d(),onBlur:t=>d(),disabled:e.isPlaying,autoFocus:!0,onFocus:t=>t.target.select()}):i.createElement(na,{title:(t.value/10**n.decimals).toLocaleString()},i.createElement(Ys,{suffix:"",amount:t.value,mint:n.mint}))),"text"===h&&i.createElement(ea,null,i.createElement(ta,{disabled:e.isPlaying,onClick:()=>t.onChange(t.value/2)},"x.5"),i.createElement(ta,{disabled:e.isPlaying,onClick:()=>{const e=s.balance+s.bonusBalance,r=Math.max(n.baseWager,2*t.value||n.baseWager);t.onChange(Math.max(0,Math.min(r,e-r*c)))}},"2x"))),"select"===t.type&&u&&i.createElement(Ks,null,t.options.map(((e,r)=>i.createElement("button",{key:r,onClick:()=>{t.onChange(e),l(!1)}},i.createElement("img",{src:n.image,height:"25px",style:{margin:"0 5px",borderRadius:"50%",aspectRatio:"1/1"}}),i.createElement(Ys,{amount:e,mint:n.mint}))))))},WagerSelect:function(t){const e=(0,a.dm)();return i.createElement($s,{options:t.options,value:t.value,onChange:t.onChange,disabled:e.isPlaying,label:t=>i.createElement(Ys,{amount:t})})},Switch:function(t){return i.createElement(Gs,{type:"checkbox",checked:t.checked,disabled:t.disabled,onChange:e=>t.onChange&&t.onChange(e.target.checked)})},PlayButton:function(t){const e=(0,a.dm)();return i.createElement(ks,{target:"play"},i.createElement(qs,{disabled:e.isPlaying||t.disabled,onClick:t.onClick,main:!0},t.children))},Select:$s,TextInput:function({onChange:t,...e}){return i.createElement(Zs,{type:"text",onChange:e=>t&&t(e.target.value),onFocus:t=>t.target.select(),...e})}};function ca(){const{token:t}=i.useContext(xs).selectedPool;return js(t)}function ua(t){const e=ca(),n=(0,a.GJ)(),r=(0,a.KQ)(n,t??e.mint),i=Ms();return!t&&i.isActive||t?.equals(As)?{...r,balance:i.balance.balance,bonusBalance:0}:r}function la(t){return ua(t)}function ha(t){const[e,n]=i.useState(t),r=js(i.useContext(xs).selectedPool.token);return[e??r.baseWager,n]}new r.PublicKey("FakeCDoCX1NWywV9m63fk7gmV9S4seMoyqzcNYEmRYjy"),new r.PublicKey("So11111111111111111111111111111111111111112"),new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new r.PublicKey("AZsHEMXd36Bj1EMNXhowJajpUXzrKcK57wW4ZGXVa7yR")},9531:function(t,e,n){"use strict";n.d(e,{nh:function(){return R},Ir:function(){return V},mA:function(){return j},KQ:function(){return z},dm:function(){return $},jv:function(){return G},Yc:function(){return Z},S0:function(){return H},$I:function(){return X},K_:function(){return K},AI:function(){return Y},pQ:function(){return W},YO:function(){return F},GJ:function(){return U}});var r=n(7294),i=n(4718),o=n(4306),s=n(7306),a=n(5618),c=n(1688),u=n(5893),l=n(4862),h=null,d=!1,f=null,p=new Map;function m(t){if(!t)return 1;var e,n=p.get(t);if(void 0!==n)return n;var r=t.useCallback.toString();if(t.useReducer===t.useEffect)e=1;else if(t.useEffect===t.useImperativeHandle)e=32;else if(/Invalid/.test(r))e=2;else if(/updateCallback/.test(r)||/\[0\]/.test(r)&&/\[1\]/.test(r)){var i=t.useReducer.toString();e=/rerenderReducer/.test(i)||/return\s*\[\w+,/.test(i)?16:8}else e=4;return p.set(t,e),e}var g=Symbol.for("react.element"),y=function(){};function v(t){return"function"!=typeof t?t:function(e,n){if("string"==typeof e&&n)for(var r in n){var i=n[r];"children"!==r&&i instanceof a.MZ&&(n[r]=i.value)}return t.call.apply(t,[t,e,n].concat([].slice.call(arguments,2)))}}var w,b,_=Symbol.dispose||Symbol.for("Symbol.dispose");function k(t,e){var n=e.effect.S();return w=e,x.bind(e,t,n)}function x(t,e){e(),w=t}({u:0,effect:{s:void 0,c:function(){},S:function(){return y},d:function(){}},subscribe:function(){return y},getSnapshot:function(){return 0},S:function(){},f:function(){}})[_]=function(){};var S=Promise.prototype.then.bind(Promise.resolve());function E(t){void 0===t&&(t=0),b||(b=S((function(){var t;b=void 0,null==(t=w)||t.f()})));var e=(0,r.useRef)();null==e.current&&(e.current=function(t){var e,n,r,i,o=0,s=(0,a.cE)((function(){n=this}));return n.c=function(){o=o+1|0,i&&i()},(e={u:t,effect:n,subscribe:function(t){return i=t,function(){o=o+1|0,i=void 0,s()}},getSnapshot:function(){return o},S:function(){if(null!=w){var t=w.u,e=this.u;0==t&&0==e||0==t&&1==e?(w.f(),r=k(void 0,this)):1==t&&0==e||2==t&&0==e||(r=k(w,this))}else r=k(void 0,this)},f:function(){null==r||r(),r=void 0}})[_]=function(){this.f()},e}(t));var n=e.current;return(0,c.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),n.S(),n}Object.defineProperties(a.MZ.prototype,{$$typeof:{configurable:!0,value:g},type:{configurable:!0,value:function(t){var e=t.data,n=E(1);try{return e.value}finally{n.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}}),Object.defineProperty(r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,"current",{get:function(){return f},set:function(t){if(d)f=t;else{var e=m(f),n=m(t);if(f=t,function(t,e){return!!(1&t&&28&e)}(e,n))d=!0,h=E(1),d=!1;else if(function(t,e){return Boolean(28&t&&16&e)}(e,n)){var r;null==(r=h)||r.f(),d=!0,h=E(1),d=!1}else if(function(t,e){return Boolean(28&t&&1&e)}(e,n)){var i;null==(i=h)||i.f(),h=null}}}}),function(){var t=u,e=l;r.createElement=v(r.createElement),e.jsx&&(e.jsx=v(e.jsx)),t.jsx&&(t.jsx=v(t.jsx)),e.jsxs&&(e.jsxs=v(e.jsxs)),t.jsxs&&(t.jsxs=v(t.jsxs)),e.jsxDEV&&(e.jsxDEV=v(e.jsxDEV)),t.jsxDEV&&(t.jsxDEV=v(t.jsxDEV))}();var A=n(5959),T=n(8467),I=n(6591),O=n(4529),C={priorityFee:100001,simulationUnits:14e5,computeUnitLimitMargin:1.1},M=r.createContext(C);var P=r.createContext({provider:null,plugins:[]});function R({__experimental_plugins:t=[],children:e}){const{connection:n}=(0,i.R)(),a=(0,o.O)(),c=r.useMemo((()=>{if(a.connected&&a.wallet?.adapter?.publicKey)return a.wallet.adapter}),[a]),u=r.useMemo((()=>new s.nh(n,c)),[n,c]);return r.createElement(P.Provider,{value:{provider:u,plugins:t}},e)}var B,N=(0,a.td)(new Set),L=(0,a.td)({});function j(t,e){const{connection:n}=(0,i.R)(),o=L.value[t.toString()];return r.useEffect((()=>{N.value.add(t.toString()),clearTimeout(B),B=setTimeout((async()=>{const t=Array.from(N.value).filter((t=>!Object.keys(L.value).includes(t)));if(!t.length)return;const e=await n.getMultipleAccountsInfo(t.map((t=>new A.PublicKey(t))));console.debug("Fetching accounts",t);const r=t.reduce(((t,n,r)=>({...t,[n]:e[r]})),{});L.value={...L.value,...r},N.value.clear()}),1);const e=n.onAccountChange(t,(e=>{L.value={...L.value,[t.toString()]:e}}));return()=>{clearTimeout(B),n.removeAccountChangeListener(e)}}),[t.toString()]),e(o)}var D=new A.Keypair;function U(){return(0,o.O)().publicKey??D.publicKey}function z(t,e){const n=(0,s.Gv)(t,e),r=(0,s.uT)(t,(0,s.iY)(e)),i=j(t,(t=>t)),o=j(n,s.AE),a=j(r,s.AE),c=Number(i?.lamports??0),u=Number(o?.amount??0),l=Number(a?.amount??0);return{nativeBalance:c,balance:(0,s.Ge)(e)?c:u,bonusBalance:l}}var F=(0,O.Ue)((t=>({txId:void 0,label:void 0,state:"none",set:t}))),q=new class{listeners=[];emit(...t){for(const e of this.listeners)e(...t)}unsubscribe(t){const e=this.listeners.indexOf(t);e<0?console.warn("Event listener not found"):this.listeners.splice(e,1)}subscribe(t){return this.listeners.push(t),()=>this.unsubscribe(t)}},V=t=>(q.emit(t),t);function W(){const t=F(),{connection:e}=(0,i.R)(),n=(0,o.O)(),s=r.useContext(M);return async(r,i)=>{try{if(t.set({state:"simulating",label:i?.label}),!n.publicKey||!n.signTransaction)throw new Error("Wallet Not Connected");const o=n.publicKey;Array.isArray(r)||(r=[r]);const a=i?.priorityFee??s.priorityFee,c=i?.computeUnitLimitMargin??s.computeUnitLimitMargin,u=await Promise.all(r),l=i?.lookupTable??[],h=await Promise.all(l.map((async t=>(await e.getAddressLookupTable(t))?.value)).filter((t=>!!t))),d=async t=>{const n=await e.getLatestBlockhash(),r=new A.TransactionMessage({payerKey:o,recentBlockhash:n.blockhash,instructions:[...a?[A.ComputeBudgetProgram.setComputeUnitPrice({microLamports:a})]:[],A.ComputeBudgetProgram.setComputeUnitLimit({units:t}),...u]}).compileToV0Message(h);return new A.VersionedTransaction(r)},f=await d(s.simulationUnits),p=await e.simulateTransaction(f,{commitment:"processed",sigVerify:!1});if(p.value.err)throw p.value.err;if(console.debug("TX simulated",p),!p.value.unitsConsumed)throw p.value;const m=Math.floor(p.value.unitsConsumed*c),g=await d(m),y=await n.signTransaction(g);t.set({state:"sending"});const v=await e.sendTransaction(y);t.set({state:"processing",txId:v}),console.debug("TX sent",v);const w=await e.getLatestBlockhash(),b={blockhash:w.blockhash,lastValidBlockHeight:w.lastValidBlockHeight,signature:v};return e.confirmTransaction(b,"processed").then((e=>{console.debug("TX processed",e),t.set({state:"confirming",txId:v,signatureResult:e.value})})),e.confirmTransaction(b,"confirmed").then((e=>{console.debug("TX confirmed",e),t.set({state:"none"})})),i?.confirmation&&await e.confirmTransaction(b,i.confirmation),v}catch(o){const e=(t=>"object"===typeof t&&t&&"logs"in t&&Array.isArray(t.logs)?t.logs:null)(o),n=(()=>{if(e){const t=I.DG.parse(e);if(t)return t}return o})();throw e&&console.error("Error Logs:\n",e.join("\n")),t.set({state:"error"}),V(n)}}}function H(){const{connected:t}=(0,o.O)(),e=W(),n=r.useContext(P),i=J();return async function(r,o=[],a){const c=new A.PublicKey(r.creator),u=r.creatorFee??0,l=r.jackpotFee??0,h=r.metadata?.join(":")??"",d=new A.PublicKey(r.token??T.Gd),f=new A.PublicKey(r.poolAuthority??s.AH),p={wallet:i.user,creator:c,token:d,wager:r.wager,bet:r.bet,input:r},m=(await Promise.all(n.plugins.map((t=>t(p,i))))).flat();if(!t)throw V(new Error("NOT_CONNECTED"));const g=(0,s.iY)(d,f);return e([i.play(r.wager,r.bet,r.clientSeed??"",g,d,c,u,l,h,r.useBonus??!1),...m,...o],{...a,label:"play"})}}function K(){const{connection:t}=(0,i.R)(),e=U(),n=j((0,s.EK)(e),s.ho);return()=>{const r=n?.nonce?.toNumber()??0;return(0,s.ct)(t,e,r)}}function $(){const t=U(),e=j((0,s.EK)(t),s.ho),n=!!e,r=e?.nextRngSeedHashed,i=F(),o="error"!==i.state&&"none"!==i.state||!!e?.status.resultRequested;return{play:H(),result:K(),userCreated:n,nonce:Number(e?.nonce?.toNumber()),nextRngSeedHashed:r,game:e,isPlaying:o}}function G(t,e,n=[]){const i=X();r.useEffect((()=>{const n=i.addEventListener(t,((n,r,i)=>{const o={signature:i,time:Date.now(),name:t,data:n};e(o)}));return()=>{i.removeEventListener(n)}}),[t,i,...n])}function Z(t,e={}){const{signatureLimit:n=30}=e,{connection:o}=(0,i.R)(),[a,c]=r.useState([]),u=e.address??s.Rn;return r.useEffect((()=>{(0,s.VM)(o,u,{limit:n}).then((t=>c(t)))}),[o,n,u]),r.useMemo((()=>a.filter((e=>e.name===t))),[t,a])}function Y(t,e=s.AH){const n=(0,s.iY)(t,e),r=j(n,s.N0),i=j((0,s.wJ)(),s.Vi),o=j((0,s.U2)(n),s.AE)?.amount??BigInt(0);if(!r)return{token:t,publicKey:n,liquidity:BigInt(0),minWager:0,maxPayout:0,gambaFee:0,poolFee:0,jackpotBalance:0,authority:e};const a=BigInt(r.liquidityCheckpoint),c=r.customGambaFeeBps.toNumber(),u=r.customPoolFeeBps.toNumber(),l=((c||i?.gambaFeeBps.toNumber())??0)/s.HI,h=((u||i?.defaultPoolFee.toNumber())??0)/s.HI,d=(r.customMaxPayoutBps?.toNumber()||i?.maxPayoutBps?.toNumber())??0,f=Number(a*BigInt(d))/s.HI;return{token:t,publicKey:n,minWager:r.minWager.toNumber(),liquidity:a,maxPayout:f,gambaFee:l,poolFee:h,jackpotBalance:Number(o),authority:e}}function J(){return function(){const t=r.useContext(P);if(!t)throw new Error("No GambaContext");return t}().provider}function X(){return J().gambaProgram}},4712:function(t,e,n){"use strict";n.d(e,{A:function(){return p},x:function(){return b}});var r=n(7294),i=n(3935);!function(t,{insertAt:e}={}){if(!t||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===e&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}('html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toast][data-theme=dark] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var o=Array(12).fill(0),s=({visible:t})=>r.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},r.createElement("div",{className:"sonner-spinner"},o.map(((t,e)=>r.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${e}`}))))),a=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),u=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),h=1,d=new class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach((e=>e(t)))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i="number"==typeof(null==t?void 0:t.id)||(null==(e=t.id)?void 0:e.length)>0?t.id:h++,o=this.toasts.find((t=>t.id===i)),s=void 0===t.dismissible||t.dismissible;return o?this.toasts=this.toasts.map((e=>e.id===i?(this.publish({...e,...t,id:i,title:n}),{...e,...t,id:i,dismissible:s,title:n}):e)):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach((t=>{this.subscribers.forEach((e=>e({id:t.id,dismiss:!0})))})),this.subscribers.forEach((e=>e({id:t,dismiss:!0}))),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;void 0!==e.loading&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:"function"!=typeof e.description?e.description:void 0}));let r=t instanceof Promise?t:t(),i=void 0!==n;return r.then((t=>{if(t&&"boolean"==typeof t.ok&&!t.ok){i=!1;let r="function"==typeof e.error?e.error(`HTTP error! status: ${t.status}`):e.error,o="function"==typeof e.description?e.description(`HTTP error! status: ${t.status}`):e.description;this.create({id:n,type:"error",message:r,description:o})}else if(void 0!==e.success){i=!1;let r="function"==typeof e.success?e.success(t):e.success,o="function"==typeof e.description?e.description(t):e.description;this.create({id:n,type:"success",message:r,description:o})}})).catch((t=>{if(void 0!==e.error){i=!1;let r="function"==typeof e.error?e.error(t):e.error,o="function"==typeof e.description?e.description(t):e.description;this.create({id:n,type:"error",message:r,description:o})}})).finally((()=>{var t;i&&(this.dismiss(n),n=void 0),null==(t=e.finally)||t.call(e)})),n},this.custom=(t,e)=>{let n=(null==e?void 0:e.id)||h++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},f=(t,e)=>{let n=(null==e?void 0:e.id)||h++;return d.addToast({title:t,...e,id:n}),n},p=Object.assign(f,{success:d.success,info:d.info,warning:d.warning,error:d.error,custom:d.custom,message:d.message,promise:d.promise,dismiss:d.dismiss,loading:d.loading}),m=3,g=14;function y(...t){return t.filter(Boolean).join(" ")}var v=t=>{var e,n,i,o,h,d,f;let{invert:p,toast:m,unstyled:y,interacting:v,setHeights:w,visibleToasts:b,heights:_,index:k,toasts:x,expanded:S,removeToast:E,closeButton:A,style:T,cancelButtonStyle:I,actionButtonStyle:O,className:C="",descriptionClassName:M="",duration:P,position:R,gap:B=g,loadingIcon:N,expandByDefault:L,classNames:j,icons:D,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:z,cn:F}=t,[q,V]=r.useState(!1),[W,H]=r.useState(!1),[K,$]=r.useState(!1),[G,Z]=r.useState(!1),[Y,J]=r.useState(0),[X,Q]=r.useState(0),tt=r.useRef(null),et=r.useRef(null),nt=0===k,rt=k+1<=b,it=m.type,ot=!1!==m.dismissible,st=m.className||"",at=m.descriptionClassName||"",ct=r.useMemo((()=>_.findIndex((t=>t.toastId===m.id))||0),[_,m.id]),ut=r.useMemo((()=>{var t;return null!=(t=m.closeButton)?t:A}),[m.closeButton,A]),lt=r.useMemo((()=>m.duration||P||4e3),[m.duration,P]),ht=r.useRef(0),dt=r.useRef(0),ft=r.useRef(0),pt=r.useRef(null),[mt,gt]=R.split("-"),yt=r.useMemo((()=>_.reduce(((t,e,n)=>n>=ct?t:t+e.height),0)),[_,ct]),vt=(()=>{let[t,e]=r.useState(!1);return r.useEffect((()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)}),[]),t})(),wt=m.invert||p,bt="loading"===it;dt.current=r.useMemo((()=>ct*B+yt),[ct,yt]),r.useEffect((()=>{V(!0)}),[]),r.useLayoutEffect((()=>{if(!q)return;let t=et.current,e=t.style.height;t.style.height="auto";let n=t.getBoundingClientRect().height;t.style.height=e,Q(n),w((t=>t.find((t=>t.toastId===m.id))?t.map((t=>t.toastId===m.id?{...t,height:n}:t)):[{toastId:m.id,height:n,position:m.position},...t]))}),[q,m.title,m.description,w,m.id]);let _t=r.useCallback((()=>{H(!0),J(dt.current),w((t=>t.filter((t=>t.toastId!==m.id)))),setTimeout((()=>{E(m)}),200)}),[m,E,w,dt]);return r.useEffect((()=>{if(m.promise&&"loading"===it||m.duration===1/0||"loading"===m.type)return;let t,e=lt;return S||v||z&&vt?(()=>{if(ft.current<ht.current){let t=(new Date).getTime()-ht.current;e-=t}ft.current=(new Date).getTime()})():(ht.current=(new Date).getTime(),t=setTimeout((()=>{var t;null==(t=m.onAutoClose)||t.call(m,m),_t()}),e)),()=>clearTimeout(t)}),[S,v,L,m,lt,_t,m.promise,it,z,vt]),r.useEffect((()=>{let t=et.current;if(t){let e=t.getBoundingClientRect().height;return Q(e),w((t=>[{toastId:m.id,height:e,position:m.position},...t])),()=>w((t=>t.filter((t=>t.toastId!==m.id))))}}),[w,m.id]),r.useEffect((()=>{m.delete&&_t()}),[_t,m.delete]),r.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:et,className:F(C,st,null==j?void 0:j.toast,null==(e=null==m?void 0:m.classNames)?void 0:e.toast,null==j?void 0:j.default,null==j?void 0:j[it],null==(n=null==m?void 0:m.classNames)?void 0:n[it]),"data-sonner-toast":"","data-styled":!(m.jsx||m.unstyled||y),"data-mounted":q,"data-promise":!!m.promise,"data-removed":W,"data-visible":rt,"data-y-position":mt,"data-x-position":gt,"data-index":k,"data-front":nt,"data-swiping":K,"data-dismissible":ot,"data-type":it,"data-invert":wt,"data-swipe-out":G,"data-expanded":!!(S||L&&q),style:{"--index":k,"--toasts-before":k,"--z-index":x.length-k,"--offset":`${W?Y:dt.current}px`,"--initial-height":L?"auto":`${X}px`,...T,...m.style},onPointerDown:t=>{bt||!ot||(tt.current=new Date,J(dt.current),t.target.setPointerCapture(t.pointerId),"BUTTON"!==t.target.tagName&&($(!0),pt.current={x:t.clientX,y:t.clientY}))},onPointerUp:()=>{var t,e,n,r;if(G||!ot)return;pt.current=null;let i=Number((null==(t=et.current)?void 0:t.style.getPropertyValue("--swipe-amount").replace("px",""))||0),o=(new Date).getTime()-(null==(e=tt.current)?void 0:e.getTime()),s=Math.abs(i)/o;if(Math.abs(i)>=20||s>.11)return J(dt.current),null==(n=m.onDismiss)||n.call(m,m),_t(),void Z(!0);null==(r=et.current)||r.style.setProperty("--swipe-amount","0px"),$(!1)},onPointerMove:t=>{var e;if(!pt.current||!ot)return;let n=t.clientY-pt.current.y,r=t.clientX-pt.current.x,i=("top"===mt?Math.min:Math.max)(0,n),o="touch"===t.pointerType?10:2;Math.abs(i)>o?null==(e=et.current)||e.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>o&&(pt.current=null)}},ut&&!m.jsx?r.createElement("button",{"aria-label":U,"data-disabled":bt,"data-close-button":!0,onClick:bt||!ot?()=>{}:()=>{var t;_t(),null==(t=m.onDismiss)||t.call(m,m)},className:F(null==j?void 0:j.closeButton,null==(i=null==m?void 0:m.classNames)?void 0:i.closeButton)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||r.isValidElement(m.title)?m.jsx||m.title:r.createElement(r.Fragment,null,it||m.icon||m.promise?r.createElement("div",{"data-icon":""},m.promise||"loading"===m.type&&!m.icon?m.icon||(null==D?void 0:D.loading)||(null!=D&&D.loading?r.createElement("div",{className:"loader","data-visible":"loading"===it},D.loading):N?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===it},N):r.createElement(s,{visible:"loading"===it})):null,"loading"!==m.type?m.icon||(null==D?void 0:D[it])||(t=>{switch(t){case"success":return a;case"info":return u;case"warning":return c;case"error":return l;default:return null}})(it):null):null,r.createElement("div",{"data-content":""},r.createElement("div",{"data-title":"",className:F(null==j?void 0:j.title,null==(o=null==m?void 0:m.classNames)?void 0:o.title)},m.title),m.description?r.createElement("div",{"data-description":"",className:F(M,at,null==j?void 0:j.description,null==(h=null==m?void 0:m.classNames)?void 0:h.description)},m.description):null),m.cancel?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:t=>{var e;ot&&(_t(),null!=(e=m.cancel)&&e.onClick&&m.cancel.onClick(t))},className:F(null==j?void 0:j.cancelButton,null==(d=null==m?void 0:m.classNames)?void 0:d.cancelButton)},m.cancel.label):null,m.action?r.createElement("button",{"data-button":"",style:m.actionButtonStyle||O,onClick:t=>{var e;null==(e=m.action)||e.onClick(t),!t.defaultPrevented&&_t()},className:F(null==j?void 0:j.actionButton,null==(f=null==m?void 0:m.classNames)?void 0:f.actionButton)},m.action.label):null))};function w(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let t=document.documentElement.getAttribute("dir");return"auto"!==t&&t?t:window.getComputedStyle(document.documentElement).direction}var b=t=>{let{invert:e,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:a,className:c,offset:u,theme:l="light",richColors:h,duration:f,style:p,visibleToasts:b=m,toastOptions:_,dir:k=w(),gap:x,loadingIcon:S,icons:E,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:T,cn:I=y}=t,[O,C]=r.useState([]),M=r.useMemo((()=>Array.from(new Set([n].concat(O.filter((t=>t.position)).map((t=>t.position)))))),[O,n]),[P,R]=r.useState([]),[B,N]=r.useState(!1),[L,j]=r.useState(!1),[D,U]=r.useState("system"!==l?l:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=r.useRef(null),F=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=r.useRef(null),V=r.useRef(!1),W=r.useCallback((t=>C((e=>e.filter((({id:e})=>e!==t.id))))),[]);return r.useEffect((()=>d.subscribe((t=>{t.dismiss?C((e=>e.map((e=>e.id===t.id?{...e,delete:!0}:e)))):setTimeout((()=>{i.flushSync((()=>{C((e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n?[...e.slice(0,n),{...e[n],...t},...e.slice(n+1)]:[t,...e]}))}))}))}))),[]),r.useEffect((()=>{"system"===l?("system"===l&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:t})=>{U(t?"dark":"light")}))):U(l)}),[l]),r.useEffect((()=>{O.length<=1&&N(!1)}),[O]),r.useEffect((()=>{let t=t=>{var e,n;o.every((e=>t[e]||t.code===e))&&(N(!0),null==(e=z.current)||e.focus()),"Escape"===t.code&&(document.activeElement===z.current||null!=(n=z.current)&&n.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[o]),r.useEffect((()=>{if(z.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,V.current=!1)}}),[z.current]),O.length?r.createElement("section",{"aria-label":`${A} ${F}`,tabIndex:-1},M.map(((t,n)=>{var i;let[o,l]=t.split("-");return r.createElement("ol",{key:t,dir:"auto"===k?w():k,tabIndex:-1,ref:z,className:c,"data-sonner-toaster":!0,"data-theme":D,"data-rich-colors":h,"data-y-position":o,"data-x-position":l,style:{"--front-toast-height":`${(null==(i=P[0])?void 0:i.height)||0}px`,"--offset":"number"==typeof u?`${u}px`:u||"32px","--width":"356px","--gap":`${g}px`,...p},onBlur:t=>{V.current&&!t.currentTarget.contains(t.relatedTarget)&&(V.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||V.current||(V.current=!0,q.current=t.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{L||N(!1)},onPointerDown:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||j(!0)},onPointerUp:()=>j(!1)},O.filter((e=>!e.position&&0===n||e.position===t)).map(((n,i)=>{var o,c;return r.createElement(v,{key:n.id,icons:E,index:i,toast:n,duration:null!=(o=null==_?void 0:_.duration)?o:f,className:null==_?void 0:_.className,descriptionClassName:null==_?void 0:_.descriptionClassName,invert:e,visibleToasts:b,closeButton:null!=(c=null==_?void 0:_.closeButton)?c:a,interacting:L,position:t,style:null==_?void 0:_.style,unstyled:null==_?void 0:_.unstyled,classNames:null==_?void 0:_.classNames,cancelButtonStyle:null==_?void 0:_.cancelButtonStyle,actionButtonStyle:null==_?void 0:_.actionButtonStyle,removeToast:W,toasts:O.filter((t=>t.position==n.position)),heights:P.filter((t=>t.position==n.position)),setHeights:R,expandByDefault:s,gap:x,loadingIcon:S,expanded:B,pauseWhenPageIsHidden:T,cn:I})})))}))):null}},1127:function(t,e,n){"use strict";function r(t,e,n){return e<=t&&t<=n}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}n.r(e),n.d(e,{TextDecoder:function(){return u},TextEncoder:function(){return l}});function o(t){this.tokens=[].slice.call(t)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var s=-1;function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}var c="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(t,e){if(!(this instanceof l))return new l(t,e);if((t=void 0!==t?String(t).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,n=0,i=0,o=0,c=128,u=191;this.handler=function(t,l){if(-1===l&&0!==o)return o=0,a(e);if(-1===l)return s;if(0===o){if(r(l,0,127))return l;if(r(l,194,223))o=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),o=2,n=l-224;else{if(!r(l,240,244))return a(e);240===l&&(c=144),244===l&&(u=143),o=3,n=l-240}return n<<=6*o,null}if(!r(l,c,u))return n=o=i=0,c=128,u=191,t.prepend(l),a(e);if(c=128,u=191,n+=l-128<<6*(o-(i+=1)),i!==o)return null;var h=n;return n=o=i=0,h}}function d(t){t.fatal;this.handler=function(t,e){if(-1===e)return s;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);for(var o=[(e>>6*n)+i];n>0;){var a=e>>6*(n-1);o.push(128|63&a),n-=1}return o}}u.prototype={decode:function(t,e){var n;n="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,a=new o(n),c=[];!a.endOfStream()&&(r=this._decoder.handler(a,a.read()))!==s;)null!==r&&(Array.isArray(r)?c.push.apply(c,r):c.push(r));if(!this._streaming){do{if((r=this._decoder.handler(a,a.read()))===s)break;null!==r&&(Array.isArray(r)?c.push.apply(c,r):c.push(r))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(c)}},l.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],a=new o(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(t));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}},4529:function(t,e,n){"use strict";n.d(e,{Ue:function(){return d}});const r=t=>{let e;const n=new Set,r=(t,r)=>{const i="function"===typeof t?t(e):t;if(!Object.is(i,e)){const t=e;e=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},e,i),n.forEach((n=>n(e,t)))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>s,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=e=t(r,i,o);return o},i=t=>t?r(t):r;var o=n(7294),s=n(2798);const{useDebugValue:a}=o,{useSyncExternalStoreWithSelector:c}=s;let u=!1;const l=t=>t;const h=t=>{"function"!==typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"===typeof t?i(t):t,n=(t,n)=>function(t,e=l,n){n&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);const r=c(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return a(r),r}(e,t,n);return Object.assign(n,e),n},d=t=>t?h(t):h}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(6840),e(387)}));var n=t.O();_N_E=n}]);