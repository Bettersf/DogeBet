"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{7894:function(n,t,r){r.r(t),r.d(t,{default:function(){return G}});var e=r(7568),i=r(253),a=r(9815),o=r(7582),u=r(5893),s=r(7297),c=r(964);function f(){var n=(0,s.Z)(["\n  0%, 50%, 100% {\n    transform: scale(1);\n    filter: brightness(1);\n    /* background: #764cc4; */\n    /* box-shadow: 0 0 1px 1px #ffffff00; */\n  }\n  25% {\n    transform: scale(0.95);\n    filter: brightness(1.5);\n    /* background: #945ef7; */\n    /* box-shadow: 0 0 1px 1px #ffffff99; */\n  }\n"]);return f=function(){return n},n}function l(){var n=(0,s.Z)(["\n  0% {\n    filter: brightness(1);\n    /* background: #ffffff; */\n    transform: scale(1.1);\n  }\n  75% {\n    filter: brightness(2);\n    /* background: #3fff7a; */\n    transform: scale(1.2);\n  }\n"]);return l=function(){return n},n}function d(){var n=(0,s.Z)(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.5);\n  }\n  51% {\n    background: #ffffff;\n    transform: scale(1.6);\n  }\n"]);return d=function(){return n},n}function p(){var n=(0,s.Z)(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]);return p=function(){return n},n}function h(){var n=(0,s.Z)(["\n  display: grid;\n  grid-template-rows: auto auto 1fr;\n  height: 100%;\n"]);return h=function(){return n},n}function m(){var n=(0,s.Z)(["\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-size: 14px;\n  user-select: none;\n  backdrop-filter: blur(20px);\n"]);return m=function(){return n},n}function g(){var n=(0,s.Z)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: repeat(4, 1fr);\n  gap: 8px;\n"]);return g=function(){return n},n}function v(){var n=(0,s.Z)(["\n  border-radius: 5px;\n  color: gray;\n  background: #292a307d;\n  overflow: hidden;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  height: 50px;\n"]);return v=function(){return n},n}function x(){var n=(0,s.Z)(["\n      background: #ffffff11;\n      background: 2px 0px 10px #00000033;\n      color: #32cd5e;\n      opacity: 1;\n    "]);return x=function(){return n},n}function b(){var n=(0,s.Z)(["\n  margin: 0 auto;\n  width: 25%;\n  text-align: center;\n  padding: 5px 0;\n  opacity: 0.5;\n  text-wrap: nowrap;\n\n  & > div:first-child {\n    font-size: 60%;\n    color: gray;\n  }\n\n  ","\n"]);return b=function(){return n},n}function y(){var n=(0,s.Z)(["\n      animation: "," 0.5s ease infinite;\n      z-index: 10;\n      opacity: 1 !important;\n    "]);return y=function(){return n},n}function Z(){var n=(0,s.Z)(["\n      color: #005822;\n      color: white;\n      /* background: #3fff7a; */\n      animation: "," 0.5s ease;\n      opacity: 1;\n    "]);return Z=function(){return n},n}function j(){var n=(0,s.Z)(["\n      background: #ff5252;\n      z-index: 10;\n      animation: "," 0.3s ease;\n      opacity: 1;\n    "]);return j=function(){return n},n}function w(){var n=(0,s.Z)(["\n      /* background: #573c89; */\n      &:disabled {\n        opacity: 0.5;\n      }\n    "]);return w=function(){return n},n}function k(){var n=(0,s.Z)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background: #9358ff;\n  /* background: url(https://i.pinimg.com/236x/7d/a1/04/7da10489ada2a7fded7b28f0184acd1c.jpg); */\n  background-size: 100%;\n  border: none;\n  border-bottom: 5px solid #00000055;\n  border-radius: 4px;\n  font-weight: bold;\n  aspect-ratio: 1;\n  width: 60px;\n  transition:\n    background 0.3s,\n    opacity 0.3s,\n    filter 0.2s ease;\n  font-size: 12px;\n  cursor: pointer;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  &:disabled {\n    cursor: default;\n  }\n\n  &:hover:not(:disabled) {\n    filter: brightness(1.5);\n    /* background: #764cc4; */\n    /* animation: "," .25s ease infinite; */\n  }\n"]);return k=function(){return n},n}function P(){var n=(0,s.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  color: white;\n  & > div:first-child {\n    display: flex;\n    color: #ffffffcc;\n    gap: 20px;\n  }\n"]);return P=function(){return n},n}var A=(0,c.F4)(f()),S=(0,c.F4)(l()),z=(0,c.F4)(d()),X=(0,c.F4)(p()),C=c.ZP.div(h()),F=c.ZP.div(m()),_=c.ZP.div(g()),I=c.ZP.div(v()),M=c.ZP.div(b(),(function(n){return n.$active&&(0,c.iv)(x())})),B=c.ZP.button(k(),(function(n){return n.selected&&(0,c.iv)(y(),A)}),(function(n){return"gold"===n.status&&(0,c.iv)(Z(),S)}),(function(n){return"mine"===n.status&&(0,c.iv)(j(),z)}),(function(n){return"hidden"===n.status&&(0,c.iv)(w())}),X),E=c.ZP.div(P()),O=16,R=[1,3,5,10,15],W=r(1355),N=function(n){return Array.from({length:n}).fill({status:"hidden",profit:0})},H=r(7306),L=r(7294),T=r(9531),V=r(4306),$=r(3495);var G=function(){var n,t=W.AX.useGame(),r=(0,T.dm)(),s=(0,W.cT)({tick:"/games/mines/tick.mp3",win:"/games/mines/win.mp3",finish:"/games/mines/finish.mp3",step:"/games/mines/axe.mp3",explode:"/games/mines/explode.mp3"}),c=(0,$.h)(),f=(0,V.O)(),l=(0,W.zl)(),d=(0,i.Z)(L.useState(N(O)),2),p=d[0],h=d[1],m=(0,i.Z)(L.useState(0),2),g=m[0],v=m[1],x=(0,i.Z)(L.useState(-1),2),b=x[0],y=x[1],Z=(0,i.Z)(L.useState(0),2),j=Z[0],w=Z[1],k=(0,i.Z)(L.useState(!1),2),P=k[0],A=k[1],S=(0,i.Z)(L.useState(!1),2),z=S[0],X=S[1],G=(0,i.Z)((0,W.re)(),2),q=G[0],D=G[1],J=(0,i.Z)(L.useState(R[2]),2),K=J[0],Q=J[1],U=L.useMemo((function(){var n,t=O-K,r=0,e=q;return Array.from({length:t}).map((function(n,t){var i=0===t?q:e,a=function(n){var t=O-n;return Number(BigInt(t*H.HI)/BigInt(t-K))/H.HI}(t),o=O-t,u=Array.from({length:o},(function(n,t){return t<K?0:a})),s=i*(a-1),c=i+s;return e=c,{bet:u,wager:i,profit:s,cumProfit:r+=s,balance:c}})).filter((function(t){return(n=Math).max.apply(n,(0,a.Z)(t.bet))*t.wager<l.maxPayout}))}),[q,K,l.maxPayout]),Y=z&&!P&&!(O-g<=K),nn=null!==(n=U[g])&&void 0!==n?n:{},tn=nn.wager,rn=nn.bet,en=function(){var n=(0,e.Z)((function(){return(0,o.__generator)(this,(function(n){return s.play("finish"),an(),[2]}))}));return function(){return n.apply(this,arguments)}}(),an=function(){h(N(O)),A(!1),v(0),w(0),X(!1)},on=function(){var n=(0,e.Z)((function(n){var e,i;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:A(!0),y(n),a.label=1;case 1:return a.trys.push([1,,4,5]),s.sounds.step.player.loop=!0,s.play("step",{}),s.sounds.tick.player.loop=!0,s.play("tick",{}),[4,t.play({bet:rn,wager:tn,metadata:[g]})];case 2:return a.sent(),[4,r.result()];case 3:return e=a.sent(),s.sounds.tick.player.stop(),0===e.payout?(X(!1),h(function(n,t,r){var e=n.map((function(n,t){return{cell:n,index:t}})).sort((function(n,r){return n.index===t?-1:r.index===t?1:"hidden"===n.cell.status&&"hidden"===r.cell.status?Math.random()-.5:"hidden"===n.cell.status?-1:"hidden"===r.cell.status?1:0})).map((function(n){return n.index})).slice(0,r);return n.map((function(n,t){return e.includes(t)?{status:"mine",profit:0}:n}))}(p,n,K)),s.play("explode"),[2]):(v(i=g+1),h(function(n,t,r){return n.map((function(n,e){return e===t?{status:"gold",profit:r}:n}))}(p,n,e.profit)),w(e.payout),i<O-K?s.play("win",{playbackRate:Math.pow(1.06,g)}):(s.play("win",{playbackRate:.9}),s.play("finish")),[3,5]);case 4:return A(!1),y(-1),s.sounds.tick.player.stop(),s.sounds.step.player.stop(),[7];case 5:return[2]}}))}));return function(t){return n.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W.AX.Portal,{target:"screen",children:(0,u.jsxs)(C,{children:[(0,u.jsx)(I,{children:U.map((function(n,t){var r=n.cumProfit;return(0,u.jsxs)(M,{$active:g===t,children:[(0,u.jsxs)("div",{children:["LEVEL ",t+1]}),(0,u.jsx)("div",{children:(0,u.jsx)(W.WA,{amount:r})})]},t)}))}),(0,u.jsx)(E,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("span",{children:["Mines: ",K]}),j>0&&(0,u.jsxs)("span",{children:["+",(0,u.jsx)(W.WA,{amount:j})," +",Math.round(j/q*100-100),"%"]})]})}),(0,u.jsx)(W.AX.Responsive,{children:(0,u.jsx)(F,{children:(0,u.jsx)(_,{children:p.map((function(n,t){return(0,u.jsx)(B,{status:n.status,selected:b===t,onClick:function(){return on(t)},disabled:!Y||"hidden"!==n.status,children:"gold"===n.status&&(0,u.jsxs)("div",{children:["+",(0,u.jsx)(W.WA,{amount:n.profit})]})},t)}))})})})]})}),(0,u.jsx)(W.AX.Portal,{target:"controls",children:z?(0,u.jsx)(W.AX.Button,{onClick:en,children:j>0?"Finish":"Reset"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W.AX.WagerInput,{value:q,onChange:D}),(0,u.jsx)(W.AX.Select,{options:R,value:K,onChange:Q,label:function(n){return(0,u.jsxs)(u.Fragment,{children:[n," Mines"]})}}),f.connected?(0,u.jsx)(W.AX.PlayButton,{onClick:function(){h(N(O)),A(!1),v(0),w(0),X(!0)},children:"Start"}):(0,u.jsx)(W.AX.Button,{main:!0,onClick:function(){f.wallet?f.connect():c.setVisible(!0)},children:"Play"})]})})]})}},7568:function(n,t,r){function e(n,t,r,e,i,a,o){try{var u=n[a](o),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(e,i)}function i(n){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=n.apply(t,r);function u(n){e(o,i,a,u,s,"next",n)}function s(n){e(o,i,a,u,s,"throw",n)}u(void 0)}))}}r.d(t,{Z:function(){return i}})},253:function(n,t,r){r.d(t,{Z:function(){return u}});var e=r(9474),i=r(3375),a=r(3128),o=r(1566);function u(n,t){return(0,e.Z)(n)||(0,i.Z)(n,t)||(0,o.Z)(n,t)||(0,a.Z)()}},7297:function(n,t,r){function e(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}r.d(t,{Z:function(){return e}})},9815:function(n,t,r){r.d(t,{Z:function(){return o}});var e=r(943);var i=r(3375);var a=r(1566);function o(n){return function(n){if(Array.isArray(n))return(0,e.Z)(n)}(n)||(0,i.Z)(n)||(0,a.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);