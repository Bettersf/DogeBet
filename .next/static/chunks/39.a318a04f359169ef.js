"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{6039:function(n,t,r){r.r(t),r.d(t,{default:function(){return G}});var e=r(7568),i=r(253),o=r(9815),a=r(7582),u=r(5893),c=r(7297),s=r(964);function l(){var n=(0,c.Z)(["\n  0% { transform: scale(.0) translateY(100px) rotateY(90deg); }\n  100% { transform: scale(1) translateY(0) rotateY(0deg) }\n"]);return l=function(){return n},n}function d(){var n=(0,c.Z)(["\n      pointer-events: none;\n      opacity: 0.7;\n    "]);return d=function(){return n},n}function f(){var n=(0,c.Z)(["\n  user-select: none;\n  background: #9967e300;\n  transition: opacity 0.2s;\n  ","\n"]);return f=function(){return n},n}function p(){var n=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n"]);return p=function(){return n},n}function h(){var n=(0,c.Z)(["\n      --opacity: 1;\n    "]);return h=function(){return n},n}function x(){var n=(0,c.Z)(["\n  background: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  transition:\n    opacity 0.2s,\n    background 0.2s ease;\n  display: flex;\n  align-items: center;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 20px;\n  color: white;\n  & > div:first-child {\n    font-size: 48px;\n    filter: drop-shadow(-4px 4px 2px #00000066);\n    margin-right: 10px;\n  }\n\n  --opacity: 0.5;\n\n  &:hover {\n    --opacity: 1;\n  }\n\n  ","\n\n  opacity: var(--opacity);\n"]);return x=function(){return n},n}function v(){var n=(0,c.Z)(["\n  font-size: 18px;\n  color: #005400;\n  position: absolute;\n  right: 0px;\n  bottom: -100px;\n  border-radius: 50px;\n  background: #69ff6d;\n  padding: 5px;\n  animation: "," 0.25s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n"]);return v=function(){return n},n}function g(){var n=(0,c.Z)(["\n  display: flex;\n  border-radius: 5px;\n  gap: 5px;\n  padding: 5px;\n  margin-top: 30px;\n  justify-content: center;\n  & > div {\n    transition: opacity 0.2s;\n  }\n"]);return g=function(){return n},n}function m(){var n=(0,c.Z)(["\n  transition: transform 0.2s ease;\n  perspective: 500px;\n  display: flex;\n  position: relative;\n  justify-content: flex-end;\n  align-items: center;\n"]);return m=function(){return n},n}function y(){var n=(0,c.Z)(["\n  position: absolute;\n  bottom: 0;\n  transition:\n    transform 0.25s cubic-bezier(0.18, 0.89, 0.32, 1.28),\n    opacity 0.25s ease;\n  filter: drop-shadow(-10px 10px 0px #00000011);\n  transform-origin: bottom;\n  perspective: 500px;\n  & > div {\n    animation: "," 0.25s cubic-bezier(0.5, 0.9, 0.35, 1.05);\n  }\n"]);return y=function(){return n},n}function b(){var n=(0,c.Z)(["\n          height: 35px;\n          font-size: 15px;\n          padding: 5px;\n          border-radius: 4px;\n        "]);return b=function(){return n},n}function Z(){var n=(0,c.Z)(["\n          height: 160px;\n          font-size: 70px;\n          padding: 10px;\n          border-radius: 8px;\n        "]);return Z=function(){return n},n}function j(){var n=(0,c.Z)(["\n  ","\n  box-shadow: -5px 5px 10px 1px #0000003d;\n  background: white;\n  aspect-ratio: 4/5.5;\n  position: relative;\n  color: #333;\n  overflow: hidden;\n  .rank {\n    font-weight: bold;\n    line-height: 1em;\n  }\n  .suit {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    width: 50%;\n    height: 50%;\n    background-size: cover;\n    background-repeat: none;\n    transform: translate(0%, 0%);\n    font-size: 128px;\n    opacity: 0.9;\n  }\n"]);return j=function(){return n},n}function k(){var n=(0,c.Z)(["\n  0%, 100% { transform: translateY(0); }\n  50% { transform: translateY(-10px); }\n"]);return k=function(){return n},n}function w(){var n=(0,c.Z)(["\n  animation: "," 2s ease-in-out infinite;\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateX(100%) translateY(-50%);\n  background-color: rgba(255, 204, 0, 0.8);\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  font-size: 14px;\n  color: black;\n  white-space: nowrap;\n  pointer-events: none;\n"]);return w=function(){return n},n}var P=(0,s.F4)(l()),I=s.ZP.div(f(),(function(n){return n.$disabled&&(0,s.iv)(d())})),A=s.ZP.div(p()),B=s.ZP.button(x(),(function(n){return n.selected&&(0,s.iv)(h())})),M=s.ZP.div(v(),P),z=s.ZP.div(g()),C=s.ZP.div(m()),X=s.ZP.div(y(),P),F=s.ZP.div(j(),(function(n){return n.$small?(0,s.iv)(b()):(0,s.iv)(Z())})),S=(0,s.F4)(k()),Y=(s.ZP.div(w(),S),r(1355)),_={0:"2",1:"3",2:"4",3:"5",4:"6",5:"7",6:"8",7:"9",8:"10",9:"J",10:"Q",11:"K",12:"A"},N=Object.keys(_).length,O=r(7294),E=r(9531),T=r(4306),L=r(3495),$=1e4,R=function(){return 1+Math.floor(Math.random()*(N-1))},W=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return{key:Math.random(),rank:n}},D=function(n,t){return Array.from({length:N}).map((function(r,e){var i=t?0===n?e>n?BigInt(N*$)/BigInt(N-1-n):BigInt(0):e>=n?BigInt(N*$)/BigInt(N-n):BigInt(0):n===N-1?e<n?BigInt(N*$)/BigInt(n):BigInt(0):e<=n?BigInt(N*$)/BigInt(n+1):BigInt(0);return Number(i)/$}))};function G(n){var t,r,c,s=Y.AX.useGame(),l=(0,E.dm)(),d=(0,Y.zl)(),f=(0,i.Z)(O.useState([W()]),2),p=f[0],h=f[1],x=(0,i.Z)(O.useState(!1),2),v=x[0],g=x[1],m=(0,i.Z)((0,Y.re)(),2),y=m[0],b=m[1],Z=(0,i.Z)(O.useState(0),2),j=Z[0],k=Z[1],w=p[p.length-1].rank,P=(0,i.Z)(O.useState(w>N/2?"lo":"hi"),2),S=P[0],$=P[1],G=(0,i.Z)(O.useState(),2),H=G[0],J=G[1],K=function(n){return h((function(t){return(0,o.Z)(t).concat([W(n)]).slice(-5)}))},Q=(0,L.h)(),V=(0,T.O)(),q=(0,Y.cT)({card:"/games/hilo/card.mp3",win:"/games/hilo/win.mp3",lose:"/games/hilo/lose.mp3",play:"/games/hilo/play.mp3",finish:"/games/hilo/finish.mp3"}),U=O.useMemo((function(){return D(w,!0)}),[w]),nn=O.useMemo((function(){return D(w,!1)}),[w]),tn=O.useMemo((function(){var n=null!==H&&void 0!==H?H:S;return"hi"===n?U:"lo"===n?nn:[0]}),[U,nn,H,S]),rn=function(){var n=(0,e.Z)((function(){return(0,a.__generator)(this,(function(n){try{if(v)return[2];q.play("finish",{playbackRate:.8}),setTimeout((function(){k(0),q.play("card"),K(R()),g(!1)}),300)}catch(t){g(!1)}return[2]}))}));return function(){return n.apply(this,arguments)}}(),en=function(n){var t=n.length,r=n.reduce((function(n,t){return n+t}),0);if(r>t){var e,i=n.findIndex((function(t){return t===(e=Math).max.apply(e,(0,o.Z)(n))}));n[i]-=r-t,n[i]<0&&(n[i]=0)}return n}(tn),on=(t=Math).max.apply(t,(0,o.Z)(en)),an=d.maxPayout/on,un=Math.min(an,j||y),cn=function(){var n=(0,e.Z)((function(){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return q.play("play"),[4,s.play({bet:en,wager:un})];case 1:return r.sent(),[4,l.result()];case 2:return n=r.sent(),K(n.resultIndex),q.play("card",{playbackRate:.8}),t=n.payout>0,setTimeout((function(){k(n.payout),t?q.play("win"):q.play("lose")}),300),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Y.AX.Portal,{target:"screen",children:(0,u.jsx)(Y.AX.Responsive,{children:(0,u.jsxs)(I,{$disabled:v||l.isPlaying,children:[(0,u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,u.jsx)(C,{children:p.map((function(t,r){var e=-(p.length-(r+1)),i=p.length>3?r/p.length:1,o=Math.min(1,3*i);return(0,u.jsx)(X,{style:{transform:"translate(".concat(30*e,"px, ").concat(0*-e,"px) rotateZ(-5deg) rotateY(5deg)"),opacity:o},children:(0,u.jsxs)(F,{children:[(0,u.jsx)("div",{className:"rank",children:_[t.rank]}),(0,u.jsx)("div",{className:"suit",style:{backgroundImage:"url("+n.logo+")"}})]})},t.key)}))}),(0,u.jsxs)(A,{children:[(0,u.jsxs)(B,{selected:"hi"===S,onClick:function(){return $("hi")},onMouseEnter:function(){return J("hi")},onMouseLeave:function(){return J(void 0)},children:[(0,u.jsx)("div",{children:"\ud83d\udc46"}),(0,u.jsxs)("div",{children:["HI - (",(r=Math).max.apply(r,(0,o.Z)(U)).toFixed(2),"x)"]})]}),(0,u.jsxs)(B,{selected:"lo"===S,onClick:function(){return $("lo")},onMouseEnter:function(){return J("lo")},onMouseLeave:function(){return J(void 0)},children:[(0,u.jsx)("div",{children:"\ud83d\udc47"}),(0,u.jsxs)("div",{children:["LO - (",(c=Math).max.apply(c,(0,o.Z)(nn)).toFixed(2),"x)"]})]})]})]}),(0,u.jsx)(z,{children:Array.from({length:N}).map((function(n,t){var r=en[t]>0?.9:.5;return(0,u.jsx)(F,{$small:!0,style:{opacity:r},onClick:function(){return K(t)},children:(0,u.jsx)("div",{className:"rank",children:_[t]})},t)}))}),j>0&&(0,u.jsxs)(M,{onClick:rn,children:[(0,u.jsx)(Y.WA,{amount:j})," +",Math.round(j/y*100-100).toLocaleString(),"%"]},j)]})})}),(0,u.jsx)(Y.AX.Portal,{target:"controls",children:j?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Y.WA,{amount:un}),(0,u.jsx)(Y.AX.Button,{disabled:l.isPlaying,onClick:rn,children:"Finish"}),(0,u.jsx)(Y.AX.PlayButton,{disabled:!S,onClick:cn,children:"Deal card"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Y.AX.WagerInput,{value:y,onChange:b}),V.connected?(0,u.jsx)(Y.AX.PlayButton,{disabled:!S||y>an,onClick:cn,children:"Deal card"}):(0,u.jsx)(Y.AX.Button,{main:!0,onClick:function(){V.wallet?V.connect():Q.setVisible(!0)},children:"Play"}),y>an&&(0,u.jsx)(Y.AX.Button,{onClick:function(){return b(an)},children:"Set max"})]})})]})}},7568:function(n,t,r){function e(n,t,r,e,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(e,i)}function i(n){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=n.apply(t,r);function u(n){e(a,i,o,u,c,"next",n)}function c(n){e(a,i,o,u,c,"throw",n)}u(void 0)}))}}r.d(t,{Z:function(){return i}})},253:function(n,t,r){r.d(t,{Z:function(){return u}});var e=r(9474),i=r(3375),o=r(3128),a=r(1566);function u(n,t){return(0,e.Z)(n)||(0,i.Z)(n,t)||(0,a.Z)(n,t)||(0,o.Z)()}},7297:function(n,t,r){function e(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}r.d(t,{Z:function(){return e}})},9815:function(n,t,r){r.d(t,{Z:function(){return a}});var e=r(943);var i=r(3375);var o=r(1566);function a(n){return function(n){if(Array.isArray(n))return(0,e.Z)(n)}(n)||(0,i.Z)(n)||(0,o.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);